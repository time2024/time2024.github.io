[{"title":"AutoDLæ•™ç¨‹","url":"/2025/08/07/AutoDL/","content":"å‰è¨€ï¼šç”±äºæœ¬åœ°è½»è–„æœ¬ç®—åŠ›ä¸å¤Ÿï¼Œè·‘ä¸€äº›å¤æ‚çš„å¯¹æ˜¾å­˜è¦æ±‚é«˜çš„æ¨¡å‹æ¯”è¾ƒå›°éš¾ï¼Œå› æ­¤éœ€è¦ç§ŸæœåŠ¡å™¨æé«˜é€Ÿåº¦ï¼Œæ ¹æ®æ¨èå°±é€‰ç”¨ AutoDL ï¼Œæœ¬æ•™ç¨‹æ˜¯ä¸€è¾¹å­¦ä¸€è¾¹åšä¸€è¾¹å†™çš„ï¼Œä½œä¸ºè®°å½•ï¼Œå¸Œæœ›åœ¨æœªæ¥å¿˜è®°å¦‚ä½•è¿›è¡Œæ“ä½œæ—¶èƒ½æ ¹æ®è‡ªå·±çš„æ•™ç¨‹å¾ˆå¿«å›å¿†èµ·æµç¨‹ã€‚\nä¸€ã€æ³¨å†Œä¸è®¤è¯é¦–å…ˆè¿›å…¥AutoDLå®˜ç½‘ï¼Œå®Œæˆä¸ªäººæ³¨å†Œï¼Œå¦‚æœæ˜¯å­¦ç”Ÿçš„è¯å¯ä»¥è¿›è¡Œå­¦ç”Ÿè®¤è¯ï¼Œè®¤è¯åå¯äº« GPU æŠ˜æ‰£ä»·ã€‚\näºŒã€åˆ›å»ºå®ä¾‹ï¼ˆç§Ÿç”¨æœåŠ¡å™¨ï¼‰\nè¿›å…¥ç®—åŠ›å¸‚åœº\n\nç™»å½•åç‚¹å‡»é¡¶éƒ¨ ç®—åŠ›å¸‚åœº â†’ é€‰æ‹© æŒ‰é‡è®¡è´¹ï¼ˆé€‚åˆçŸ­æœŸä½¿ç”¨ï¼‰ã€‚\n\n\né€‰æ‹©é…ç½®\n\nGPU å‹å·ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©ï¼ˆå¦‚ RTX 5090 é€‚åˆä¸­å°æ¨¡å‹ï¼ŒA100 é€‚åˆå¤§æ¨¡å‹ï¼‰ã€‚\n\nGPU æ•°é‡ï¼šåˆå­¦è€…é€‰ 1 å¡å³å¯ï¼ˆå¤šå¡éœ€ä»£ç é€‚é…ï¼‰ã€‚\n\nç¡¬ç›˜ï¼š\n\nç³»ç»Ÿç›˜ï¼šé»˜è®¤ 30GBï¼ˆå­˜æ”¾ç³»ç»Ÿé•œåƒï¼Œä¸å¯æ‰©å®¹ï¼‰ã€‚\næ•°æ®ç›˜ï¼šé»˜è®¤ 50GB æŒ‰éœ€æ‰©å®¹ï¼ˆå­˜æ”¾ä»£ç &#x2F;æ•°æ®ï¼‰ã€‚\n\n\né•œåƒï¼šé€‰æ‹©é¢„è£…ç¯å¢ƒï¼ˆå¦‚ PyTorch 2.0.1 + Python 3.10(ubuntu22.04)ï¼‰ã€‚\n\n\n\nåˆ›å»ºå®ä¾‹\n\nç‚¹å‡» ç«‹å³åˆ›å»º â†’ ç­‰å¾… 1~3 åˆ†é’Ÿåˆå§‹åŒ–å®Œæˆã€‚\næç¤ºï¼šåˆ›å»ºåå…ˆå…³æœºï¼ˆé¿å…ç©ºè·‘è®¡è´¹ï¼‰ï¼Œä¼ æ–‡ä»¶æ—¶å†å¼€æ— å¡æ¨¡å¼ï¼ˆæ§åˆ¶å°å³ä¾§æŒ‰é’®ï¼‰ã€‚\n\n\n\nä¸‰ã€æ–‡ä»¶ä¼ è¾“ï¼ˆå»ºè®®ä½¿ç”¨ WinScp æˆ–è€… Xftp æˆ–è€… FileZilla ï¼Œæ­¤å¤„ä»¥ FileZilla ä¸ºä¾‹ï¼‰\nè·å–è¿æ¥ä¿¡æ¯\nåœ¨å®ä¾‹æ§åˆ¶å°æŸ¥çœ‹ SSH ç™»å½•æŒ‡ä»¤ï¼ˆå« IPã€ç«¯å£ã€ç”¨æˆ·åï¼‰ã€‚\nç¤ºä¾‹ï¼šssh -p 37176 root@region-42.autodl.com\n\n\né…ç½® FileZilla\næ‰“å¼€ FileZilla â†’ é¡¶éƒ¨è¾“å…¥æ¡†ä¾æ¬¡å¡«å†™ï¼š\nä¸»æœºï¼šregion-42.autodl.comï¼ˆæ›¿æ¢ä¸ºä½ çš„ IPï¼‰\nç”¨æˆ·åï¼šroot\nå¯†ç ï¼šæ§åˆ¶å°æ˜¾ç¤ºçš„å¯†ç \nç«¯å£ï¼š37176ï¼ˆæ›¿æ¢ä¸ºä½ çš„ç«¯å£ï¼‰\n\n\nç‚¹å‡» å¿«é€Ÿè¿æ¥ â†’ å·¦ä¾§ä¸ºæœ¬åœ°æ–‡ä»¶ï¼Œå³ä¾§ä¸ºæœåŠ¡å™¨æ–‡ä»¶ã€‚\n\n\nä¼ è¾“æ–‡ä»¶\nä¸Šä¼ ï¼šæœ¬åœ°æ–‡ä»¶æ‹–æ‹½è‡³å³ä¾§ /root/autodl-tmpï¼ˆæ•°æ®ç›˜è·¯å¾„ï¼‰ã€‚\nä¸‹è½½ï¼šæœåŠ¡å™¨æ–‡ä»¶æ‹–æ‹½è‡³å·¦ä¾§æœ¬åœ°ç›®å½•ã€‚\n\n\n\nå››ã€è¿è¡Œä»£ç çš„ä¸¤ç§æ–¹å¼æ–¹å¼ 1ï¼šé€šè¿‡ JupyterLabï¼ˆæ¨èæ–°æ‰‹ï¼‰( AutoDL å¹³å°æä¾›çš„ JupyterLab æ˜¯ä¸€ä¸ªåŸºäº Web çš„äº¤äº’å¼å¼€å‘ç¯å¢ƒï¼Œä¸“ä¸ºæ·±åº¦å­¦ä¹ å’Œç§‘å­¦è®¡ç®—è®¾è®¡ï¼Œä¸»è¦æœåŠ¡äºç”¨æˆ·åœ¨è¯¥å¹³å°ä¸Šè¿›è¡Œæ¨¡å‹å¼€å‘ã€æ•°æ®åˆ†æå’Œå®éªŒç®¡ç†)\n\nå®ä¾‹æ§åˆ¶å°ç‚¹å‡» JupyterLab â†’ è¾“å…¥å¯†ç ï¼ˆé»˜è®¤ä¸ºåˆ›å»ºæ—¶è®¾ç½®çš„å¯†ç ï¼‰ã€‚\n\nå·¦ä¾§æ–‡ä»¶æ è¿›å…¥ /root/autodl-tmp â†’ ä¸Šä¼ ä»£ç &#x2F;æ•°æ®ï¼ˆæ”¯æŒæ‹–æ‹½ï¼‰ã€‚\n\næ–°å»ºç»ˆç«¯ï¼ˆTerminalï¼‰â†’ æ‰§è¡Œå‘½ä»¤ï¼š\ncd /root/autodl-tmp  # è¿›å…¥ä»£ç ç›®å½•  python train.py      # è¿è¡Œä½ çš„ç¨‹åº  \n\n\nä¼˜ç‚¹ï¼šæ— éœ€é…ç½®ï¼Œç½‘é¡µç›´æ¥æ“ä½œã€‚\næ³¨æ„ï¼šå…³é—­æµè§ˆå™¨ä¸ä¼šåœæ­¢ç¨‹åºï¼ˆéœ€åœ¨ç»ˆç«¯ç”¨ Ctrl+C ç»“æŸï¼‰ã€‚\n\n\n\næ–¹å¼ 2ï¼šé€šè¿‡ PyCharm è¿œç¨‹è¿æ¥ï¼ˆé€‚åˆæœ¬åœ°å¼€å‘ï¼‰\né…ç½®è¿œç¨‹è§£é‡Šå™¨\nPyCharm æ‰“å¼€é¡¹ç›® â†’ File &gt; Settings &gt; Python Interpreter â†’ ç‚¹å‡» Add Interpreter â†’ SSH Interpreterã€‚\nå¡«å†™æœåŠ¡å™¨ä¿¡æ¯ï¼š\nHostï¼šregion-42.autodl.com\nPortï¼š37176\nUsernameï¼šroot\nPasswordï¼šæ§åˆ¶å°å¯†ç \n\n\né€‰æ‹©è¿œç¨‹ Python è·¯å¾„ï¼š/root/miniconda3/bin/pythonï¼ˆé•œåƒé»˜è®¤è·¯å¾„ï¼‰ã€‚\n\n\næ˜ å°„é¡¹ç›®è·¯å¾„\nåœ¨ Path Mappings ä¸­è®¾ç½®ï¼š\næœ¬åœ°é¡¹ç›®è·¯å¾„ â†’ æœåŠ¡å™¨è·¯å¾„ï¼ˆå¦‚ /root/autodl-tmp/projectï¼‰ã€‚\n\n\n\n\nè¿è¡Œä»£ç \nç„¶ååœ¨PyCharmä¸­ä½¿ç”¨ç»ˆç«¯è¿æ¥åˆ°æœåŠ¡å™¨çš„ç»ˆç«¯ï¼ŒåŒæ ·å¯ä»¥è¿›è¡Œç»ˆç«¯çš„æ“ä½œã€‚\nå³é”®ä»£ç æ–‡ä»¶ â†’ Run â†’ ç¨‹åºå°†åœ¨æœåŠ¡å™¨æ‰§è¡Œï¼Œç»“æœè¾“å‡ºåˆ° PyCharm æ§åˆ¶å°ã€‚\n\n\n\näº”ã€é™„å®é™…ä¸Šä»¥ä¸Šåªæ˜¯è¿è¡Œç®€å•é¡¹ç›®çš„æ­¥éª¤ï¼Œè¿˜éœ€è¦é…ç½®å„ç§å„æ ·çš„ç¯å¢ƒï¼Œè¿™äº›æ‰æ˜¯çœŸæ­£ä»¤äººå¤´å¤§çš„åœ°æ–¹â€¦â€¦\n","categories":["å­¦ä¹ "],"tags":["æ•™ç¨‹"]},{"title":"2024-2025","url":"/2025/01/01/2024-2025/","content":"æ—¶é—´è¿‡å¾—çœŸå¿«ï¼Œ2024ä¹Ÿè¿‡å»äº†\næµ…æµ…æ€»ç»“ä¸€ä¸‹2024å§\nTo be continue !\n","categories":["è®°å½•ç”Ÿæ´»"],"tags":["æ‚è°ˆ"]},{"title":"stm32f407é©±åŠ¨BMX055è®°å½•","url":"/2024/11/14/BMX055/","content":"stm32f407é©±åŠ¨BMX055è®°å½•å‰ä¸¤å¤©BOSSäº¤ç»™æˆ‘ä¸€ä¸ªBMX055èŠ¯ç‰‡è®©æˆ‘è¯•è¯•èƒ½ä¸èƒ½ç”¨\nçœŸçš„å°±ä¸€ä¸ªèŠ¯ç‰‡\n\né•¿ä¸‹é¢è¿™æ ·\n\nåˆšå¥½å­¦ä¹ ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨æ²¡æœ‰æ¨¡å—åŒ–çš„èŠ¯ç‰‡\né¦–å…ˆæ˜¯æ¥çº¿é—®é¢˜ï¼Œåœ¨ç½‘ç»œä¸Šæ‰¾ä¸åˆ°ç°æˆçš„BMX055èŠ¯ç‰‡è¿çº¿è¿åˆ°stm32çš„æ¥çº¿å›¾ï¼Œåœ¨è¯¢é—®å¤šä¸ªå­¦é•¿åå¾—çŸ¥æœ‰ä»¥ä¸‹å‡ ç§é€”å¾„\n\næŸ¥æŠ€æœ¯æ‰‹å†Œ\nåœ¨å„ä¸ªå¹³å°ä¸Šæœç´¢æœ‰ç”¨åˆ°è¿™ä¸ªèŠ¯ç‰‡çš„æ¨¡å—\n\næŠ€æœ¯æ‰‹å†Œé¦–å…ˆå¯ä»¥åœ¨åŠå¯¼å°èŠ¯ç­‰å¤šä¸ªå¹³å°æœç´¢è¿™ä¸ªèŠ¯ç‰‡æ‰¾åˆ°è¿™ä¸ªèŠ¯ç‰‡çš„æŠ€æœ¯æ‰‹å†Œï¼Œä¸­è‹±æ–‡éƒ½å¯ä»¥ï¼Œå°½é‡çœ‹è‹±æ–‡æ‰‹å†Œã€‚\nä¸ºäº†æ–¹ä¾¿å¯ä»¥ç›´æ¥åœ¨æ­¤ä¸‹è½½ BMX055 æŠ€æœ¯æ‰‹å†Œ\nç„¶åæ‰¾åˆ°ä½ éœ€è¦çš„æ¥çº¿ï¼Œæ¯”å¦‚æˆ‘éœ€è¦ç”¨iicä¸ä¹‹é€šè®¯ï¼Œåˆ™æ‰¾åˆ°iicçš„æ¥çº¿å›¾å¦‚ä¸‹ï¼š\n\nåŒæ—¶å¯ä»¥å‚è€ƒå¼•è„šå®šä¹‰æ¥è¾…åŠ©æ¥çº¿\n\nåœ¨åˆšæ¥çº¿æ—¶åˆ«æ€¥ç€ä¸€æ¬¡æ€§å°±æŠŠä»–ç”¨å¥½ï¼Œè€Œæ˜¯å…ˆæŠŠåŸºæœ¬çš„æ¥çº¿è¿å¥½ï¼ˆå¯ä»¥å…ˆä¸è¿ä¸­æ–­ï¼‰ï¼Œç„¶åå…ˆè¯»chip idï¼Œç¡®å®šåŸºæœ¬çš„ç¡¬ä»¶è¿çº¿æ²¡æœ‰é—®é¢˜ï¼ŒèŠ¯ç‰‡ä¸Šç”µä¹‹åå¯ä»¥å·¥ä½œï¼Œå†å»è¿ä¸­æ–­çº¿\næ˜¯çš„ï¼Œæˆ‘è¿™ä¸ªèŠ¯ç‰‡è¿çº¿å°±è¿äº†ï¼Œæ‹”äº†ï¼Œè¿äº†ï¼Œæ‹”äº†é‡å¤äº†å¥½å‡ æ¬¡ï¼Œæ‰€ä»¥ä¸è¦æ”¾å¼ƒï¼Œå¤šè¯•è¯•å§\n\n\næ¥çº¿å®Œæˆäº†\nç„¶åå°±æ˜¯é…ç½®stm32f407çš„iicäº†\nç½‘ä¸Šæœåˆ°çš„å¤§éƒ¨åˆ†éƒ½æ˜¯stm32f1çš„ï¼Œæ‰€ä»¥æˆ‘ç¨ä½œä¿®æ”¹ï¼Œå¹¶æ·»åŠ äº†ä¸€äº›æˆ‘è‡ªå·±å†™çš„å‡½æ•°ï¼Œé™„åœ¨ä¸‹é¢ä¾›å¤§å®¶å–ç”¨\n\n&#x2F;&#x2F;myiic.c\n//myiic.c#include &quot;myiic.h&quot;#include &quot;delay.h&quot;//åˆå§‹åŒ–IICvoid IIC_Init(void)&#123;\t\t\t  GPIO_InitTypeDef  GPIO_InitStructure;  RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOB, ENABLE);//ä½¿èƒ½GPIOBæ—¶é’Ÿ  //GPIOB8,B9åˆå§‹åŒ–è®¾ç½®  GPIO_InitStructure.GPIO_Pin = GPIO_Pin_8 | GPIO_Pin_9;  GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;//æ™®é€šè¾“å‡ºæ¨¡å¼  GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;//æ¨æŒ½è¾“å‡º  GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;//100MHz  GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;//ä¸Šæ‹‰  GPIO_Init(GPIOB, &amp;GPIO_InitStructure);//åˆå§‹åŒ–\tIIC_SCL=1;\tIIC_SDA=1;&#125;//äº§ç”ŸIICèµ·å§‹ä¿¡å·void IIC_Start(void)&#123;\tSDA_OUT();     //sdaçº¿è¾“å‡º\tIIC_SDA=1;\t  \t  \tIIC_SCL=1;\tdelay_us(4); \tIIC_SDA=0;//START:when CLK is high,DATA change form high to low \tdelay_us(4);\tIIC_SCL=0;//é’³ä½I2Cæ€»çº¿ï¼Œå‡†å¤‡å‘é€æˆ–æ¥æ”¶æ•°æ® &#125;\t  //äº§ç”ŸIICåœæ­¢ä¿¡å·void IIC_Stop(void)&#123;\tSDA_OUT();//sdaçº¿è¾“å‡º\tIIC_SCL=0;\tIIC_SDA=0;//STOP:when CLK is high DATA change form low to high \tdelay_us(4);\tIIC_SCL=1; \tIIC_SDA=1;//å‘é€I2Cæ€»çº¿ç»“æŸä¿¡å·\tdelay_us(4);\t\t\t\t\t\t\t   \t&#125;//ç­‰å¾…åº”ç­”ä¿¡å·åˆ°æ¥//è¿”å›å€¼ï¼š1ï¼Œæ¥æ”¶åº”ç­”å¤±è´¥//        0ï¼Œæ¥æ”¶åº”ç­”æˆåŠŸu8 IIC_Wait_Ack(void)&#123;\tu8 ucErrTime=0;\tSDA_IN();      //SDAè®¾ç½®ä¸ºè¾“å…¥  \tIIC_SDA=1;delay_us(1);\t   \tIIC_SCL=1;delay_us(1);\t \twhile(READ_SDA)\t&#123;\t\tucErrTime++;\t\tif(ucErrTime&gt;250)\t\t&#123;\t\t\tIIC_Stop();\t\t\treturn 1;\t\t&#125;\t&#125;\tIIC_SCL=0;//æ—¶é’Ÿè¾“å‡º0 \t   \treturn 0;  &#125; //äº§ç”ŸACKåº”ç­”void IIC_Ack(void)&#123;\tIIC_SCL=0;\tSDA_OUT();\tIIC_SDA=0;\tdelay_us(2);\tIIC_SCL=1;\tdelay_us(2);\tIIC_SCL=0;&#125;//ä¸äº§ç”ŸACKåº”ç­”\t\t    void IIC_NAck(void)&#123;\tIIC_SCL=0;\tSDA_OUT();\tIIC_SDA=1;\tdelay_us(2);\tIIC_SCL=1;\tdelay_us(2);\tIIC_SCL=0;&#125;\t\t\t\t\t \t\t\t\t     //IICå‘é€ä¸€ä¸ªå­—èŠ‚//è¿”å›ä»æœºæœ‰æ— åº”ç­”//1ï¼Œæœ‰åº”ç­”//0ï¼Œæ— åº”ç­”\t\t\t  void IIC_Send_Byte(u8 txd)&#123;                            u8 t;   \tSDA_OUT(); \t        IIC_SCL=0;//æ‹‰ä½æ—¶é’Ÿå¼€å§‹æ•°æ®ä¼ è¾“    for(t=0;t&lt;8;t++)    &#123;                      IIC_SDA=(txd&amp;0x80)&gt;&gt;7;        txd&lt;&lt;=1; \t  \t\tdelay_us(2);   //å¯¹TEA5767è¿™ä¸‰ä¸ªå»¶æ—¶éƒ½æ˜¯å¿…é¡»çš„\t\tIIC_SCL=1;\t\tdelay_us(2); \t\tIIC_SCL=0;\t\t\tdelay_us(2);    &#125;\t &#125; \t    //è¯»1ä¸ªå­—èŠ‚ï¼Œack=1æ—¶ï¼Œå‘é€ACKï¼Œack=0ï¼Œå‘é€nACK   u8 IIC_Read_Byte(unsigned char ack)&#123;\tunsigned char i,receive=0;\tSDA_IN();//SDAè®¾ç½®ä¸ºè¾“å…¥    for(i=0;i&lt;8;i++ )\t&#123;        IIC_SCL=0;         delay_us(2);\t\tIIC_SCL=1;        receive&lt;&lt;=1;        if(READ_SDA)receive++;   \t\tdelay_us(1);     &#125;\t\t\t\t\t     if (!ack)        IIC_NAck();//å‘é€nACK    else        IIC_Ack(); //å‘é€ACK       return receive;&#125;void WriteData(u8 DevID,u8 Addr,u8 Dat)&#123;\tIIC_Start();\tIIC_Send_Byte(DevID &lt;&lt; 1| 0);\t//å‘é€è®¾å¤‡åœ°å€å’Œå†™ä¿¡å·\tIIC_Wait_Ack();\tIIC_Send_Byte(Addr);\tIIC_Wait_Ack();\tIIC_Send_Byte(Dat);\tIIC_Wait_Ack();\tIIC_Stop();\tdelay_ms(10);&#125;void ReadData(u8 DevID,u8 Addr,u8 *Pbuf,u8 Num)&#123;\tu8 i;\tIIC_Start();\tIIC_Send_Byte(DevID &lt;&lt; 1 | 0);\t//å‘é€è®¾å¤‡åœ°å€å’Œå†™ä¿¡å·\tIIC_Wait_Ack();\tIIC_Send_Byte(Addr);\tIIC_Wait_Ack();\tIIC_Start();\tIIC_Send_Byte(DevID &lt;&lt; 1 | 1);\t//å‘é€è®¾å¤‡åœ°å€å’Œè¯»ä¿¡å·\tIIC_Wait_Ack();\tfor(i = 0;i &lt; (Num - 1);i ++)\t&#123;\t\tPbuf[i] = IIC_Read_Byte(1);\t&#125;\tPbuf[i] = IIC_Read_Byte(0);\tIIC_Stop();\tdelay_ms(5);&#125;\n\n\n&#x2F;&#x2F;myiic.h\n//myiic.h#ifndef __MYIIC_H#define __MYIIC_H#include &quot;sys.h&quot;    \t   \t\t   //IOæ–¹å‘è®¾ç½®#define SDA_IN()  &#123;GPIOB-&gt;MODER&amp;=~(3&lt;&lt;(9*2));GPIOB-&gt;MODER|=0&lt;&lt;9*2;&#125;\t//PB9è¾“å…¥æ¨¡å¼#define SDA_OUT() &#123;GPIOB-&gt;MODER&amp;=~(3&lt;&lt;(9*2));GPIOB-&gt;MODER|=1&lt;&lt;9*2;&#125; //PB9è¾“å‡ºæ¨¡å¼//IOæ“ä½œå‡½æ•°\t #define IIC_SCL    PBout(8) //SCL#define IIC_SDA    PBout(9) //SDA\t #define READ_SDA   PBin(9)  //è¾“å…¥SDA //IICæ‰€æœ‰æ“ä½œå‡½æ•°void IIC_Init(void);                //åˆå§‹åŒ–IICçš„IOå£\t\t\t\t void IIC_Start(void);\t\t\t\t//å‘é€IICå¼€å§‹ä¿¡å·void IIC_Stop(void);\t  \t\t\t//å‘é€IICåœæ­¢ä¿¡å·void IIC_Send_Byte(u8 txd);\t\t\t//IICå‘é€ä¸€ä¸ªå­—èŠ‚u8 IIC_Read_Byte(unsigned char ack);//IICè¯»å–ä¸€ä¸ªå­—èŠ‚u8 IIC_Wait_Ack(void); \t\t\t\t//IICç­‰å¾…ACKä¿¡å·void IIC_Ack(void);\t\t\t\t\t//IICå‘é€ACKä¿¡å·void IIC_NAck(void);\t\t\t\t//IICä¸å‘é€ACKä¿¡å·void IIC_Write_One_Byte(u8 daddr,u8 addr,u8 data);u8 IIC_Read_One_Byte(u8 daddr,u8 addr);\t  void WriteData(u8 DevID,u8 Addr,u8 Dat);void ReadData(u8 DevID,u8 Addr,u8 *Pbuf,u8 Num);#endif\n\n\næ¥ä¸‹æ¥å°±æ˜¯å‚è€ƒèŠ¯ç‰‡æŠ€æœ¯æ‰‹å†Œï¼Œç¼–å†™åˆå§‹åŒ–å‡½æ•°ç­‰ï¼Œé€šè¿‡iicä¸ä¹‹é€šè®¯\n&#x2F;&#x2F;BMX055.c\n//BMX055.c#include &quot;usart.h&quot;#include &quot;BMX055.h&quot;#include &quot;myiic.h&quot;void IMU_Init(void)&#123;\tWriteData(Acc_addr,0x0F, 0x03);//reset \t\tå¤ä½acc\tWriteData(Acc_addr,0x10, 0x08);//+/- 16g\tè®¾ç½®accçš„æµ‹é‡èŒƒå›´\tWriteData(Acc_addr,0x11, 0x00);\tdelay_us(100);\tWriteData(Gyro_addr,0x0F, 0x04);\tWriteData(Gyro_addr,0x10, 0x07);// 500\tWriteData(Gyro_addr,0x11, 0x00);\tdelay_us(100);\tWriteData(Mag_addr,0x4B, 0x83);\tdelay_us(100);\tWriteData(Mag_addr,0x4B, 0x01);\tdelay_us(100);\tWriteData(Mag_addr, 0x4c, 0x00); //00000000\t\tå°†magç”±sleep modeåˆ‡æ¢åˆ°normal modeï¼ˆactiveï¼‰\tWriteData(Mag_addr, 0x4E, 0x84);\tWriteData(Mag_addr, 0x51, 0x04);\tWriteData(Mag_addr, 0x52, 0x16);\tdelay_us(100);&#125;// åˆå§‹åŒ–BMX055åŠ é€Ÿåº¦è®¡void BMX055_Init_Accelerometer() &#123; WriteData(Acc_addr, 0x0F, 0x03); // è®¾ç½®èŒƒå›´ä¸ºÂ±2g WriteData(Acc_addr, 0x10, 0x08); // è®¾ç½®å¸¦å®½ä¸º7.81 Hz WriteData(Acc_addr, 0x11, 0x00); // æ­£å¸¸æ¨¡å¼ï¼Œç¡çœ æ—¶é•¿0.5ms delay_us(100000); // å»¶è¿Ÿç­‰å¾…é…ç½®ç”Ÿæ•ˆ&#125;// åˆå§‹åŒ–BMX055é™€èºä»ªvoid BMX055_Init_Gyroscope() &#123; WriteData(Gyro_addr, 0x0F, 0x04); // è®¾ç½®èŒƒå›´ä¸ºÂ±125åº¦/ç§’ WriteData(Gyro_addr, 0x10, 0x07); // è®¾ç½®è¾“å‡ºæ•°æ®é€Ÿç‡ä¸º100 Hz WriteData(Gyro_addr, 0x11, 0x00); // æ­£å¸¸æ¨¡å¼ï¼Œç¡çœ æ—¶é•¿2msdelay_us(100000); // å»¶è¿Ÿç­‰å¾…é…ç½®ç”Ÿæ•ˆ&#125;// åˆå§‹åŒ–BMX055ç£åŠ›è®¡void BMX055_Init_Magnetometer() &#123; WriteData(Mag_addr, 0x4B, 0x83); // è½¯å¤ä½ WriteData(Mag_addr, 0x4C, 0x00); // æ­£å¸¸æ¨¡å¼ï¼Œè¾“å‡ºæ•°æ®é€Ÿç‡ä¸º10 Hz WriteData(Mag_addr, 0x4E, 0x84); // å¯ç”¨Xã€Yã€Zè½´ WriteData(Mag_addr, 0x51, 0x04); // è®¾ç½®X-Yè½´é‡å¤æ¬¡æ•°ä¸º9 WriteData(Mag_addr, 0x52, 0x0F); // è®¾ç½®Zè½´é‡å¤æ¬¡æ•°ä¸º15delay_us(100000); // å»¶è¿Ÿç­‰å¾…é…ç½®ç”Ÿæ•ˆ&#125;// è¯»å–åŠ é€Ÿåº¦è®¡æ•°æ®void BMX055_Read_Accelerometer(int16_t *x, int16_t *y, int16_t *z) &#123; uint8_t data[6]; ReadData(Acc_addr, 0x02, data, 6); *x = (int16_t)((data[1] &lt;&lt; 8) | (data[0] &amp; 0xF0)) &gt;&gt; 4; // Xè½´æ•°æ® *y = (int16_t)((data[3] &lt;&lt; 8) | (data[2] &amp; 0xF0)) &gt;&gt; 4; // Yè½´æ•°æ® *z = (int16_t)((data[5] &lt;&lt; 8) | (data[4] &amp; 0xF0)) &gt;&gt; 4; // Zè½´æ•°æ® if (*x &gt; 2047) *x -= 4096; // è´Ÿå€¼å¤„ç† if (*y &gt; 2047) *y -= 4096; if (*z &gt; 2047) *z -= 4096;&#125;// è¯»å–é™€èºä»ªæ•°æ®void BMX055_Read_Gyroscope(int16_t *x, int16_t *y, int16_t *z) &#123; uint8_t data[6]; ReadData(Gyro_addr, 0x02, data, 6); *x = (int16_t)((data[1] &lt;&lt; 8) | data[0]); // Xè½´æ•°æ® *y = (int16_t)((data[3] &lt;&lt; 8) | data[2]); // Yè½´æ•°æ® *z = (int16_t)((data[5] &lt;&lt; 8) | data[4]); // Zè½´æ•°æ® if (*x &gt; 32767) *x -= 65536; // è´Ÿå€¼å¤„ç† if (*y &gt; 32767) *y -= 65536; if (*z &gt; 32767) *z -= 65536;&#125;// è¯»å–ç£åŠ›è®¡æ•°æ®void BMX055_Read_Magnetometer(int16_t *x, int16_t *y, int16_t *z) &#123; uint8_t data[6]; ReadData(Mag_addr, 0x42, data, 6); *x = (int16_t)((data[1] &lt;&lt; 5) | (data[0] &gt;&gt; 3)); // Xè½´æ•°æ® *y = (int16_t)((data[3] &lt;&lt; 5) | (data[2] &gt;&gt; 3)); // Yè½´æ•°æ® *z = (int16_t)((data[5] &lt;&lt; 7) | (data[4] &gt;&gt; 1)); // Zè½´æ•°æ® if (*x &gt; 4095) *x -= 8192;  // è´Ÿå€¼å¤„ç† if (*y &gt; 4095) *y -= 8192; if (*z &gt; 16383) *z -= 32768;&#125;// è¯»å–æ‰€æœ‰ä¼ æ„Ÿå™¨æ•°æ®çš„ç¤ºä¾‹void BMX055_Read_All() &#123; int16_t xAccl, yAccl, zAccl; int16_t xGyro, yGyro, zGyro; int16_t xMag, yMag, zMag; BMX055_Read_Accelerometer(&amp;xAccl, &amp;yAccl, &amp;zAccl); // è¯»å–åŠ é€Ÿåº¦è®¡æ•°æ® BMX055_Read_Gyroscope(&amp;xGyro, &amp;yGyro, &amp;zGyro); // è¯»å–é™€èºä»ªæ•°æ® BMX055_Read_Magnetometer(&amp;xMag, &amp;yMag, &amp;zMag); // è¯»å–ç£åŠ›è®¡æ•°æ® printf(&quot;åŠ é€Ÿåº¦ X: %d, Y: %d, Z: %d\\n&quot;, xAccl, yAccl, zAccl); printf(&quot;é™€èºä»ª X: %d, Y: %d, Z: %d\\n&quot;, xGyro, yGyro, zGyro); printf(&quot;ç£åœº X: %d, Y: %d, Z: %d\\n&quot;, xMag, yMag, zMag);&#125;// è¯»å–chip idvoid BMX055_Read_Chip_Id() &#123; uint8_t data; ReadData(Acc_addr, 0x00, &amp;data, 1);  // ä½¿ç”¨æŒ‡é’ˆä¼ é€’data printf(&quot;Acc_addr chip_id:%d\\n&quot;, data); ReadData(Gyro_addr, 0x00, &amp;data, 1); printf(&quot;Gyro_addr chip_id:%d\\n&quot;, data); ReadData(Mag_addr, 0x40, &amp;data, 1); printf(&quot;Mag_addr chip_id:%d\\n&quot;, data);&#125;\n\n\n&#x2F;&#x2F;BMX055.h\n//BMX055.h#ifndef __BMX055_H#define __BMX055_H#include &quot;stm32f4xx.h&quot;#include &quot;sys.h&quot; #define AccSen\t\t\t\t\t\t\t0.0078125\t//g/lsb @ +/- 16g#define GyroSen\t\t\t\t\t\t\t0.01524\t\t//Â°/s/lsb @ 500#define TempSen\t\t\t\t\t\t\t0.5\t\t\t//K/LSB center temperature is 23â„ƒ#define MagxySen\t\t\t\t\t\t0.3\t\t\t//uT/lsb#define MagzSen\t\t\t\t\t\t\t0.15\t\t//uT/lsb//SDO1 SDO2 CSB3 pulled to GND#define Acc_addr\t\t\t\t\t\t0x18 #define Gyro_addr\t\t\t\t\t\t0x68 #define Mag_addr\t\t\t\t\t\t0x10 /* BMX055 Register Map *///ACC define#define\tACC_ID\t\t\t\t\t\t\t0x00\t//OXFA#define\tACC_XL\t\t\t\t\t\t\t0x02#define\tACC_XM\t\t\t\t\t\t\t0x03#define\tACC_YL\t\t\t\t\t\t\t0x04#define\tACC_YM\t\t\t\t\t\t\t0x05#define\tACC_ZL\t\t\t\t\t\t\t0x06#define\tACC_ZM\t\t\t\t\t\t\t0x07#define\tTemp\t\t\t\t\t\t\t0x08#define ACC_range\t\t\t\t\t\t0x0f\t//1100b --&gt; +/- 16g#define Shasow_dis\t\t\t\t\t\t0x13#define ACC_ret\t\t\t\t\t\t\t0x14\t//write 0xb6//Gyro define#define\tGYRO_ID\t\t\t\t\t\t\t0x00\t//OXOF#define\tGYRO_XL\t\t\t\t\t\t\t0x02#define\tGYRO_XM\t\t\t\t\t\t\t0x03#define\tGYRO_YL\t\t\t\t\t\t\t0x04#define\tGYRO_YM\t\t\t\t\t\t\t0x05#define\tGYRO_ZL\t\t\t\t\t\t\t0x06#define\tGYRO_ZM\t\t\t\t\t\t\t0x07#define GYRO_range\t\t\t\t\t\t0x0f\t//010b --&gt; +/- 500Â°/s#define GYRO_ret\t\t\t\t\t\t0x14\t//write 0xb6#define GYRO_OFFSET_reset\t\t\t\t0x21\t//writing 1 to the (0x21) offset_reset bit, all dynamic offset compensation register are reset to zero#define GYRO_SLOW_OFFSET_EN\t\t\t\t0x31\t//EN: &lt;0:2&gt; x/y/z Adjustable rate: &lt;7:6&gt; Time_period &lt;5:3&gt;#define GYRO_SLOW_OFFSET_UNFILT\t\t\t0x1A\t//&lt;5&gt;#define GYRO_FAST_OFFSET_EN\t\t\t\t0x32\t//EN: &lt;0:2&gt; x/y/z Cancellation Start: &lt;3&gt; (if the algorithm finished, &lt;3&gt;will reset to 0) Time_period &lt;5:3&gt;#define GYRO_FAST_OFFSET_UNFILT\t\t\t0x1A\t//&lt;5&gt;#define GYRO_X_OFFSET\t\t\t\t\t0x36#define GYRO_Y_OFFSET\t\t\t\t\t0x37#define GYRO_Z_OFFSET\t\t\t\t\t0x38//MAG define 8bits register 0x40 - 0x71// 0X40 - 0X4A read only#define\tMAG_ID\t\t\t\t\t\t\t0x40\t//OX32#define\tMAG_XL\t\t\t\t\t\t\t0x42\t//read only: data x[4:0]  lsb #define\tMAG_XM\t\t\t\t\t\t\t0x43\t//read only: data x[12:5] msb  x-self-test#define\tMAG_YL\t\t\t\t\t\t\t0x44\t//read only: data x[4:0]  lsb #define\tMAG_YM\t\t\t\t\t\t\t0x45\t//read only: data x[12:5] msb  Y-self-test#define\tMAG_ZL\t\t\t\t\t\t\t0x46\t//read only: data x[4:0]  lsb#define\tMAG_ZM\t\t\t\t\t\t\t0x47\t//read only: data x[12:5] msb  Z-self-test#define\tMAG_RHAL\t\t\t\t\t\t0x48#define\tMAG_RHAM\t\t\t\t\t\t0x49#define MAG_ret\t\t\t\t\t\t\t0x4b\t//1000 0001b bring the device into sleep mode, æ“ä½œå®Œæˆåï¼Œè‡ªåŠ¨å˜ä¸º00#define MAG_OPC\t\t\t\t\t\t\t0x4Cvoid IMU_Init(void);void BMX055_Init_Accelerometer();void BMX055_Init_Gyroscope();void BMX055_Init_Magnetometer();void BMX055_Read_Accelerometer(int16_t *x, int16_t *y, int16_t *z);void BMX055_Read_Gyroscope(int16_t *x, int16_t *y, int16_t *z);void BMX055_Read_Magnetometer(int16_t *x, int16_t *y, int16_t *z);void BMX055_Read_All();void BMX055_Read_Chip_Id();#endif\n\n\n\nç„¶åå°±å¯ä»¥é€šè¿‡stm32f407ä¸bmx055è¿›è¡Œiicé€šè®¯äº†\nå…ˆè¯•è¯•chip idèƒ½ä¸èƒ½è¯»å‡ºæ¥ï¼Œèƒ½è¯»å‡ºæ¥å†å»è¯»å–å…¶ä»–çš„æ•°æ®\nç”¨åˆ°èŠ¯ç‰‡çš„æ¨¡å—å¦‚æœå®åœ¨ä¸ä¼šæ¥çº¿æˆ–è€…å¸Œæœ›æ›´å¿«çš„ä½¿ç”¨è¿™ä¸ªèŠ¯ç‰‡ï¼Œå¯ä»¥æ‰¾æ‰¾æœ‰ç”¨åˆ°è¿™ä¸ªèŠ¯ç‰‡çš„æ¨¡å—\nä¾‹å¦‚ä¸‹é¢è¿™ä¸ªæ¨¡å—\n\nå¯ä»¥ç›´æ¥å‚è€ƒè¿™ä¸ªæ¨¡å—çš„æ¥çº¿æ–¹å¼è¿›è¡Œ\nç„¶åå…ˆæŠŠç¨‹åºåœ¨è¿™ä¸ªæ¨¡å—ä¸Šè·‘è·‘èƒ½ä¸èƒ½æˆåŠŸè¿è¡Œ\nå¯ä»¥çš„è¯å†åœ¨è‡ªå·±æ¥å¥½çº¿çš„èŠ¯ç‰‡ä¸Šè¯•è¯•\n","categories":["å­¦ä¹ "],"tags":["ç¡¬ä»¶","stm32f407"]},{"title":"Cè¯­è¨€çŸ¥è¯†ç‚¹æ€»ç»“","url":"/2024/11/17/C/","content":"è¿™æ˜¯æˆ‘ä¸»æŒçš„OurEDAçš„ä¾‹ä¼šå†…å®¹æ•´ç†ç‚¹å‡» ä¸‹è½½ æœ¬æ¬¡æ²™é¾™ PPT\nå˜é‡å¸¸ç”¨å˜é‡è¡¨ï¼ˆçœ‹çœ‹å°±å¥½æœ‰ä¸ªå°è±¡å°±è¡Œï¼‰\n\n\nç±»å‹\nå«ä¹‰\n32ä½ç¼–è¯‘å™¨ä¸­å¤§å°(ä¸€èˆ¬)\n64ä½ç¼–è¯‘å™¨ä¸­å¤§å°(ä¸€èˆ¬)\næœ€å°å€¼(32ä½)\næœ€å¤§å€¼(32ä½)\n\n\n\nbool\nå¸ƒå°”ç±»å‹\n1byte\n1byte\nfalse\ntrue\n\n\nchar\nå•ä¸ªå­—ç¬¦\n1byte\n1byte\n-2^7^\n2^7^-1\n\n\nshort\nçŸ­æ•´å½¢\n2byte\n2byte\n-2^15^\n2^15^-1\n\n\nint\næ•´å½¢\n4byte\n4byte\n-2^31^\n2^31^-1\n\n\nlong\né•¿æ•´å½¢\n4byte4byte\n8byte\n-2^31^\n2^31^-1\n\n\nlong long\né•¿æ•´å½¢\n8byte\n8byte\n-2^63^\n2^63^-1\n\n\nfloat\nå•ç²¾åº¦æµ®ç‚¹æ•°\n4byte\n4byte\n-2^127^\n2^128^\n\n\ndouble\nåŒç²¾åº¦æµ®ç‚¹æ•°\n8byte\n8byte\n-2^1023^\n2^1024^\n\n\nlong double\næ‰©å±•ç²¾åº¦æµ®ç‚¹æ•°\n12byte\n16byte\n-2^16383^\n2^16384^\n\n\nchar*\nå­—ç¬¦å¸¸é‡æˆ–å­—ç¬¦ä¸²å¸¸é‡\n4byte\n8byte\næ— æ„ä¹‰\næ— æ„ä¹‰\n\n\n\n\n\nç±»å‹\næœ‰æ•ˆä½æ•°è®¡ç®—\næœ‰æ•ˆä½æ•°\n\n\n\nfloat\n223+1&#x3D;16,777,216\n8-1&#x3D;7\n\n\ndouble\n252+1&#x3D;9,007,199,254,740,992â€¬\n16-1&#x3D;15\n\n\nlong double\n280+1&#x3D;2.410 24 &#x2F; 2112+1&#x3D;1.0381034\n25-1&#x3D;24 &#x2F; 35-1&#x3D;34\n\n\nä¸€äº›æ³¨æ„äº‹é¡¹\n\næ•°å­—é»˜è®¤æ˜¯ double\nå­—ç¬¦ä¸²é»˜è®¤æ˜¯const char*\n\nç‰¹æ®Šå‰ç¼€extern int a;  // å£°æ˜ä¸€ä¸ªintç±»å‹çš„å˜é‡aï¼Œä¸€èˆ¬ç”¨åœ¨.hæ–‡ä»¶ä¸­å£°æ˜é¡¹ç›®å…¨å±€å˜é‡const int b=1;  // å®šä¹‰ä¸€ä¸ªä¸å¯å˜çš„å˜é‡bï¼Œä½¿ç”¨constå…³é”®å­—éƒ½è¦èµ‹åˆå€¼static int c=1;  // åœ¨å‡½æ•°ä¸­ä½¿ç”¨ï¼Œåªåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶åˆå§‹åŒ–ï¼Œç›¸å½“äºä½œç”¨åŸŸåœ¨å‡½æ•°å†…çš„å…¨å±€å˜é‡typedef long long int;  // æŠŠlong longå½“ä½œintä½¿ç”¨\n\nå˜é‡ä½œç”¨åŸŸ\nå±€éƒ¨å˜é‡\n\nå…¨å±€å˜é‡\n\n\nå­—ç¬¦ä¸²å­—ç¬¦ä¸²åœ¨cè¯­è¨€ä¸­æœ‰ä¸¤ç§å½¢å¼char*å’Œchar[]ï¼Œè¿™é‡Œç®€å•åˆ†è¾¨ä¸‹ä¸¤è€…ä¹‹é—´çš„ä¸åŒã€‚\nâ€œHelloWorld!â€æ˜¯å­—ç¬¦ä¸²å¸¸é‡ï¼Œä¸å¯ä¿®æ”¹ã€‚\n\nchar* c1&#x3D;â€HelloWorld!â€ä¸­ï¼Œc1æŒ‡å‘ä»£ç æ®µä¸­çš„å¸¸é‡ï¼Œåªè¯»ä¸å†™ï¼Œä¸”å¸¸é‡ç›¸åŒï¼ŒæŒ‡å‘çš„åœ°å€ä¹Ÿç›¸åŒã€‚\nchar c2[]&#x3D;â€HelloWorld!â€ä¸­ï¼Œc2æŒ‡å‘å †æ ˆæ®µä¸­çš„æ•°æ®ï¼Œå¯è¯»å¯å†™ï¼Œç›¸å½“äºæŠŠä»£ç ç«¯çš„æ•°æ®æ‹·è´äº†å‡ºæ¥ã€‚\n\nç»“æ„ä½“ç»“æ„ä½“å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§å‡ ä¸ªåŸºç¡€ç±»å‹å¤åˆçš„ç±»å‹ã€‚\nè¯­å¥æ¡ä»¶è¯­å¥\nif - else - if else\nifä¾æ®åé¢çš„æ¡ä»¶è¯­å¥çš„ç»“æœè¿›è¡Œåˆ¤æ–­ï¼Œé0ä¸ºçœŸï¼Œ0ä¸ºå‡\nifä¼šä¼˜å…ˆå’Œè¿‘çš„elseç»„åˆ\nif()    //...else if()    //...else    //...\n\n\n\nif()    //...if()    //...else    //...\n\n\n\nswitch - case - default\næ³¨æ„ï¼šæ¯ç§æƒ…å†µä¸‹éƒ½è¦æœ‰breakï¼Œå¦åˆ™å°†ä¼šæŒç»­æ‰§è¡Œã€‚\nswitch(ch)&#123;  \tcase &#x27;a&#x27;:\t\t//...\t\tbreak;\tcase &#x27;b&#x27;:\t\t//...\t\tbreak;\tdefault:\t\t//...&#125;\n\nå¾ªç¯è¯­å¥\nwhile\nå…ˆåˆ¤æ–­ï¼Œå†æ‰§è¡Œ\nwhile ä¾æ®åé¢è¯­å¥çš„ç»“æœè¿›è¡Œåˆ¤æ–­ï¼Œé0ä¸ºçœŸï¼Œ0ä¸ºå‡\n\ndo whileï¼ˆè§å¾—è¾ƒå°‘ï¼‰\nä¸åˆ¤æ–­ï¼Œå…ˆæ‰§è¡Œä¸€æ¬¡\n\nfor\nå…ˆåˆ¤æ–­ï¼Œå†æ‰§è¡Œ\né€‚ç”¨äºæ§åˆ¶æ‰§è¡Œçš„æ¬¡æ•°\n\n\nè·³è½¬è¯­å¥\nbreak\nè·³å‡ºå½“å‰è¯­å¥ï¼ˆ{}ï¼‰\n\ncontinue\nåœ¨ æ¡ä»¶è¯­å¥ ä¸­è¡¨ç¤ºä»€ä¹ˆéƒ½ä¸åšï¼ˆæ›¿ä»£ç©ºè¯­å¥ï¼‰ï¼›\nåœ¨ è¿­ä»£è¯­å¥ ä¸­è¡¨ç¤º ç›´æ¥è¿›å…¥ä¸‹ä¸€è½®å¾ªç¯ï¼Œä¸æ‰§è¡Œå®Œå½“å‰å¾ªç¯ ã€‚\n\ngotoï¼ˆéå¸¸éå¸¸ä¸å»ºè®®ï¼Œä¸è¿‡å­¦çš„æ—¶å€™å¯ä»¥è¯•ç€ç©ä¸€ä¸‹ï¼‰\ngotoä»»æ„ä½ç½®\nfor (int i=0; i&lt;n; i++) &#123;\tfor (int j=0; j&lt;m; j++) &#123;\t\tfor (int k=0; k&lt;o; k++) &#123;\t\t\tif (è·³å‡ºæ¡ä»¶) &#123;\t\t\t\tgoto end;\t\t\t&#125;\t\t&#125;\t&#125;&#125;end://...\n\nå‡½æ•°\nå‡½æ•°ç»“æœ\nè¿”å›ç±»å‹ å‡½æ•°åï¼ˆå½¢å¼ä¼ å…¥å‚æ•°ï¼‰\n{\nâ€‹    å‡½æ•°ä½“;\nâ€‹    return ()ï¼›\n}\n\nreturn åœ¨ dfs ç­‰ç®—æ³•ä¸­ç”¨äºå›æº¯\n\nå†…è”å‡½æ•° inline\næé«˜ç¨‹åºæ‰§è¡Œæ•ˆç‡ï¼ˆæ•´ä½“ä»£æ¢è€Œä¸æ˜¯ç”¨å‡½æ•°è°ƒç”¨)\ninline char *dbtest(int a)&#123;    return (a % 2 &gt; 0 ? &quot;å¥‡&quot; : &quot;å¶&quot;);&#125;\n\næŒ‡é’ˆ\n\n\n\n\n&amp;\n\nå¸¸é‡æŒ‡é’ˆï¼ˆä¸èƒ½ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘åœ°å€ä¸­çš„å€¼ï¼‰\n\næŒ‡é’ˆå¸¸é‡ï¼ˆä¸èƒ½ä¿®æ”¹æŒ‡é’ˆçš„å€¼ï¼‰\n\nå¸¸é‡æŒ‡é’ˆå¸¸é‡ï¼ˆæ—¢ä¸èƒ½ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘åœ°å€ä¸­çš„å€¼ï¼Œåˆä¸èƒ½ä¿®æ”¹æŒ‡é’ˆçš„å€¼ï¼‰\n\nç»“æ„ä½“æŒ‡é’ˆå˜é‡ï¼ˆ . &#x2F; -&gt; ï¼‰\n\næ•°ç»„ä¸æŒ‡é’ˆ\næ•°ç»„çš„å˜é‡åå°±æ˜¯è¯¥æ•°ç»„çš„é¦–åœ°å€\næ•°ç»„çš„ä¸‹æ ‡å°±æ˜¯åœ°å€çš„ä½ç§»é‡\n\n\nscanf ä¸ printf\nscanf(â€œè¾“å…¥æ ¼å¼â€ï¼Œå˜é‡åœ°å€);\nprintf(â€œè¾“å‡ºæ ¼å¼â€ï¼Œå˜é‡);\n\n","categories":["å­¦ä¹ "],"tags":["Cè¯­è¨€","çŸ¥è¯†æ€»ç»“"]},{"title":"IntelliJ å…¨å®¶æ¡¶å’Œä»˜è´¹æ’ä»¶ æœ€æ–°ç ´è§£","url":"/2025/05/23/IntelliJ%20%E5%85%A8%E5%AE%B6%E6%A1%B6%E5%92%8C%E4%BB%98%E8%B4%B9%E6%8F%92%E4%BB%B6%20%E6%9C%80%E6%96%B0%E7%A0%B4%E8%A7%A3/","content":"IntelliJ å…¨å®¶æ¡¶å’Œä»˜è´¹æ’ä»¶ æœ€æ–°ç ´è§£ä½¿ç”¨æ–¹æ³•:\nå»å®˜ç½‘å®‰è£…å¯¹åº”çš„è½¯ä»¶\n\nä¸‹è½½ç ´è§£å·¥å…·\n\nè¿›å…¥ ja-netfilter-all\\scripts æ–‡ä»¶å¤¹\n\nè‡ªåŠ¨æ¿€æ´»  macOS æˆ– Linux: \tæ‰§è¡Œ â€œscripts&#x2F;install.shâ€  Windows:\n\n\n\nåŒå‡»æ‰§è¡Œ â€œscripts\\install-current-user.vbsâ€ (å½“å‰ç”¨æˆ·)\n\nåŒå‡»æ‰§è¡Œ â€œscripts\\install-all-users.vbsâ€ (å¯¹æ‰€æœ‰ç”¨æˆ·)\n\n\n\nå¦‚æœä»ç„¶æç¤ºè¾“å…¥æ¿€æ´»ç ï¼Œè¿›å…¥ https://3.jetbra.in å¤åˆ¶æœ€æ–°æ¿€æ´»ç \n\nå¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œåˆ™å…ˆä¾æ¬¡æ‰§è¡Œâ€scripts\\uninstall-current-user.vbsâ€ã€â€scripts\\uninstall-all-users.vbsâ€å†å†æ¬¡ä¾æ¬¡æ‰§è¡Œâ€scripts\\install-current-user.vbsâ€ã€â€scripts\\install-all-users.vbsâ€ï¼Œåœ¨doneåè¾“å…¥æ¿€æ´»ç å³å¯ï¼Œè‹¥è¿˜ä¸è¡Œå¯ä»¥åœ¨å®‰è£…åé‡å¯ç”µè„‘åè¯•è¯•æ¿€æ´»ç \n\n\n","categories":["å­¦ä¹ "],"tags":["èµ„æ–™","ç ´è§£"]},{"title":"LangChainå…¥é—¨","url":"/2025/08/10/Langchain/","content":"\n\n\né¦–å…ˆé€šè¿‡ä¸€å¼ å›¾æ¥ç†è§£Langchainåœ¨æ¨¡å‹å¼€å‘ä¸­çš„åœ°ä½ã€‚æˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„å„å¤§æ¨¡å‹ï¼ŒåƒDeepSeekã€ChatGLMç­‰ï¼Œéƒ½å±äºLLMï¼ˆLarge Language Modelï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼‰ã€‚è€ŒLangchainåˆ™æ˜¯åŸºäºLLMçš„æ¡†æ¶ï¼Œå¯¹å¤§è¯­è¨€æ¨¡å‹çš„åŠŸèƒ½è¿›è¡Œäº†æ‹“å±•ï¼Œå¢åŠ äº†åƒRAGï¼ˆRetrieval-Augmented Generationï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ã€MCPï¼ˆMulti-Chain Processingï¼Œå¤šé“¾å¤„ç†ï¼‰ç­‰åŠŸèƒ½ã€‚è¿™äº›åŠŸèƒ½é€šè¿‡ç»“åˆå¤–éƒ¨çŸ¥è¯†åº“ã€åˆ†å—å¤„ç†æ–‡æœ¬ã€å‘é‡ç›¸ä¼¼æ€§æ£€ç´¢ç­‰æŠ€æœ¯ï¼Œæ˜¾è‘—é™ä½äº†æ¨¡å‹çš„å¹»è§‰ï¼ˆHallucinationï¼‰ï¼ŒåŒæ—¶æé«˜äº†ç”Ÿæˆå†…å®¹çš„å‡†ç¡®æ€§ä¸ä¸“ä¸šæ€§ã€‚\nä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒLangchainçš„å·¥ä½œæµç¨‹åŒ…æ‹¬æ–‡æ¡£åŠ è½½ã€æ–‡æœ¬åˆ†å—ã€åµŒå…¥ï¼ˆEmbeddingï¼‰ã€å‘é‡å­˜å‚¨ã€ç›¸ä¼¼æ€§æ£€ç´¢ç­‰æ­¥éª¤ï¼Œæœ€ç»ˆé€šè¿‡Prompt Templateç”Ÿæˆé«˜è´¨é‡çš„ç­”æ¡ˆã€‚è¿™ä¸€æµç¨‹ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°åˆ©ç”¨ç»“æ„åŒ–æˆ–éç»“æ„åŒ–æ•°æ®ï¼Œä»è€Œæ›´å¥½åœ°æ»¡è¶³å®é™…åº”ç”¨çš„éœ€æ±‚ã€‚\nä¸‹é¢ï¼Œæˆ‘ä»¬æ¥ç®€å•åœ°åŸºäºdeepseekç»“åˆLangchainè¿›è¡Œå¿«é€Ÿçš„å¼€å‘æµ‹è¯•\nä¸€ã€å„ç±»å¤§è¯­è¨€æ¨¡å‹æ¥å…¥ LangChainé¦–å…ˆ\npip install langchainpip show langchain\n\nåœ¨è¿›è¡Œ LangChain å¼€å‘ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦å‡†å¤‡ä¸€ä¸ªå¯ä»¥è¿›è¡Œè°ƒç”¨çš„å¤§æ¨¡å‹ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ DeepSeek çš„å¤§æ¨¡å‹ï¼Œå¹¶ä½¿ç”¨ DeepSeek å®˜æ–¹çš„ API_KEY è¿›è¡Œè°ƒç”¨ã€‚å¦‚æœåˆæ¬¡ä½¿ç”¨ï¼Œéœ€è¦å…ˆåœ¨ DeepSeek çš„å®˜ç½‘ DeepSeek å¼€æ”¾å¹³å° ä¸Šè¿›è¡Œæ³¨å†Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ API_KEYã€‚\næ³¨å†Œå¥½ DeepSeek çš„ API_KEY åï¼Œé¦–å…ˆåœ¨é¡¹ç›®åŒçº§ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª .env æ–‡ä»¶ï¼Œç”¨äºå­˜å‚¨ DeepSeek çš„ API_KEY ã€‚ï¼ˆåŠ¡å¿…è¦åˆ›å»º .env æ–‡ä»¶ï¼Œç”¨äºå­˜å‚¨ DeepSeek çš„ API_KEY ï¼Œå› ä¸ºåç»­  Langchain ä¼šä½¿ç”¨åˆ°ï¼‰\nDEEPSEEK_API_KEY=sk-xxx\n\næ¥ä¸‹æ¥é€šè¿‡ python-dotenv åº“è¯»å– .env æ–‡ä»¶ä¸­çš„ API_KEYï¼Œä½¿å…¶åŠ è½½åˆ°å½“å‰çš„è¿è¡Œç¯å¢ƒä¸­ï¼Œä»£ç å¦‚ä¸‹:\npip install python-dotenv\n\nimport osfrom dotenv import load_dotenvload_dotenv(override=True)DeepSeek_API_KEY = os.getenv(&quot;DEEPSEEK_API_KEY&quot; )# print(DeepSeek_API_KEY) # å¯ä»¥é€šè¿‡æ‰“å°æŸ¥çœ‹\n\næˆ‘ä»¬åœ¨å½“å‰çš„è¿è¡Œç¯å¢ƒä¸‹ä¸ä½¿ç”¨ LangChainï¼Œç›´æ¥ä½¿ç”¨ DeepSeek çš„ API è¿›è¡Œç½‘ç»œè¿é€šæ€§æµ‹è¯•ï¼Œæµ‹è¯•ä»£ç å¦‚ä¸‹:\npip install openai\n\nå…ˆè°ƒç”¨æ¨¡å‹è¿›è¡Œç®€å•çš„æµ‹è¯•\nfrom openai import OpenAIimport osfrom dotenv import load_dotenvload_dotenv(override=True)DeepSeek_API_KEY = os.getenv(&quot;DEEPSEEK_API_KEY&quot; )#åˆå§‹åŒ–DeepSeekçš„APIå®¢æˆ·ç«¯client = OpenAI(api_key=DeepSeek_API_KEY, base_url=&quot;https://api.deepseek.com&quot;)#è°ƒç”¨DeepSeekçš„APIï¼Œç”Ÿæˆå›ç­”response = client.chat.completions.create(    model=&quot;deepseek-chat&quot;,    messages=[        &#123;&quot;role&quot;: &quot;system&quot;,&quot;content&quot;:&quot;ä½ æ˜¯ä¹äºåŠ©äººçš„åŠ©æ‰‹ï¼Œè¯·æ ¹æ®ç”¨æˆ·çš„é—®é¢˜ç»™å‡ºå›ç­”&quot;&#125;,        &#123;&quot;role&quot;: &quot;user&quot;,&quot;content&quot;:&quot;ä½ å¥½ï¼Œè¯·ä½ ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±ã€‚&quot;&#125;    ])#æ‰“å°æ¨¡å‹æœ€ç»ˆçš„å“åº”ç»“æœprint(response.choices[0].message.content)\n\nå¯ä»¥æ¥æ”¶åˆ°ç±»ä¼¼ä¸‹é¢çš„å›å¤ï¼š\nä½ å¥½ï¼æˆ‘æ˜¯ä¸€ä¸ªä¹äºåŠ©äººçš„AIåŠ©æ‰‹ï¼Œéšæ—¶å‡†å¤‡ä¸ºä½ æä¾›å„ç§å¸®åŠ©ã€‚æ— è®ºæ˜¯è§£ç­”é—®é¢˜ã€æä¾›å»ºè®®ã€ååŠ©å­¦ä¹ ã€å¤„ç†æ—¥å¸¸äº‹åŠ¡ï¼Œè¿˜æ˜¯é™ªä½ èŠå¤©ï¼Œæˆ‘éƒ½ä¼šå°½åŠ›æ»¡è¶³ä½ çš„éœ€æ±‚ã€‚  æˆ‘çš„çŸ¥è¯†æ¶µç›–å¤šä¸ªé¢†åŸŸï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç§‘æŠ€ã€å†å²ã€æ–‡åŒ–ã€å¥åº·ã€ç¼–ç¨‹ã€ç”Ÿæ´»æŠ€å·§ç­‰ã€‚å¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®æˆ–éœ€è¦å¸®åŠ©ï¼Œå°½ç®¡å‘Šè¯‰æˆ‘ï¼  ä½ å¯ä»¥é—®æˆ‘ï¼š  - **å­¦ä¹ ç›¸å…³**ï¼šå¦‚ä½•é«˜æ•ˆå­¦ä¹ ã€è§£é¢˜æ€è·¯ã€è¯­è¨€å­¦ä¹ å»ºè®®ç­‰  - **ç”Ÿæ´»å®ç”¨**ï¼šèœè°±æ¨èã€æ—…è¡Œæ”»ç•¥ã€æ—¶é—´ç®¡ç†ç­‰  - **æŠ€æœ¯é—®é¢˜**ï¼šç¼–ç¨‹ã€è½¯ä»¶ä½¿ç”¨ã€AIç›¸å…³ç­‰  - **åˆ›æ„çµæ„Ÿ**ï¼šå†™ä½œã€ç­–åˆ’ã€å¤´è„‘é£æš´ç­‰  - **å…¶ä»–**ï¼šé—²èŠã€è¶£å‘³å†·çŸ¥è¯†ã€å¿ƒç†ç–å¯¼ç­‰  æ²¡æœ‰å›ºå®šçš„è¯é¢˜é™åˆ¶ï¼Œæˆ‘ä¼šæ ¹æ®ä½ çš„éœ€æ±‚è°ƒæ•´å›ç­”æ–¹å¼ã€‚å¸Œæœ›æˆ‘èƒ½æˆä¸ºä½ çš„å¾—åŠ›åŠ©æ‰‹ï¼ ğŸ˜Š ä½ ä»Šå¤©æƒ³äº†è§£äº›ä»€ä¹ˆå‘¢ï¼Ÿ\n\nå¦‚æœå¯ä»¥æ­£å¸¸æ”¶åˆ° DeepSeek æ¨¡å‹çš„å“åº”ï¼Œåˆ™è¯´æ˜ DeepSeek çš„ API å·²ç»å¯ä»¥æ­£å¸¸ä½¿ç”¨ä¸”ç½‘ç»œè¿é€šæ€§æ­£å¸¸ã€‚\næ¥ä¸‹æ¥æˆ‘ä»¬è¦è€ƒè™‘çš„æ˜¯ï¼Œå¯¹äºè¿™æ ·ä¸€ä¸ª DeepSeek å®˜æ–¹çš„ API ï¼Œå¦‚ä½•æ¥å…¥åˆ° LangChain ä¸­å‘¢ï¼Ÿå…¶å®éå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ LangChain ä¸­çš„ä¸€ä¸ª DeepSeek ç»„ä»¶å³å¯åƒä¸Šè¿°ä»£ç ä¸€æ ·ï¼Œç›´æ¥ä½¿ç”¨ç›¸åŒçš„ DeepSeek_API_KEY ä¸å¤§æ¨¡å‹è¿›è¡Œäº¤äº’ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å®‰è£… LangChain çš„ DeepSeek ç»„ä»¶ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹:\npip install langchain-deepseek\n\nè¿™ä¸ªåº“å¹¶ä¸ä¼šè¢«æ˜¾å¼åœ°è°ƒç”¨ï¼Œä½†æ˜¯åœ¨åå°è¿è¡Œè¿‡ç¨‹ä¸­æ˜¯ä¼šè°ƒç”¨è¿™ä¸ªåº“çš„ï¼Œæ‰€ä»¥åŠ¡å¿…è¦å®‰è£…è¿™ä¸ªåº“\nå®‰è£…å¥½LangChainé›†æˆDeepSeekæ¨¡å‹çš„ä¾èµ–åŒ…åï¼Œéœ€è¦é€šè¿‡ä¸€ä¸ªinit_chat_modelå‡½æ•°æ¥åˆå§‹åŒ–å¤§æ¨¡å‹ï¼Œä»£ç å¦‚ä¸‹ï¼š\nfrom langchain.chat_models import init_chat_modelfrom dotenv import load_dotenvload_dotenv(override=True) # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡# model = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)model = init_chat_model(model=&quot;deepseek-reasoner&quot;, model_provider=&quot;deepseek&quot;)# å…¶ä¸­ model ç”¨æ¥æŒ‡å®šè¦ä½¿ç”¨çš„æ¨¡å‹åç§°ï¼Œè€Œ model_provider ç”¨æ¥æŒ‡å®šæ¨¡å‹æä¾›è€…ï¼Œå½“å†™å…¥ deepseek æ—¶ï¼Œä¼šè‡ªåŠ¨åŠ è½½ langchain-deepseek çš„ä¾èµ–åŒ…ï¼Œè‡ªåŠ¨åŠ è½½ç¯å¢ƒå˜é‡ DEEPSEEK_API_KEY ï¼Œå¹¶ä½¿ç”¨åœ¨ model ä¸­æŒ‡å®šçš„æ¨¡å‹åç§°ç”¨æ¥è¿›è¡Œäº¤äº’ã€‚question = &quot;ä½ å¥½ï¼Œè¯·ä½ ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±ã€‚&quot;result = model.invoke(question)resultprint(result.content)\n\nä¸ä»…ä»…æ˜¯DeepSeekæ¨¡å‹ï¼ŒLangChainè¿˜æ”¯æŒå…¶ä»–å¾ˆå¤šå¤§æ¨¡å‹ï¼Œå¦‚OpenAIã€Qwenã€Geminiç­‰ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨init_chat_modelå‡½æ•°ä¸­æŒ‡å®šä¸åŒçš„æ¨¡å‹åç§°ï¼Œå°±å¯ä»¥è°ƒç”¨ä¸åŒçš„æ¨¡å‹ã€‚å…³äºLangChainéƒ½æ”¯æŒå“ªäº›å¤§æ¨¡å‹ä»¥åŠæ¯ä¸ªæ¨¡å‹å¯¹åº”çš„æ˜¯å“ªä¸ªç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ï¼Œå¤§å®¶å¯ä»¥åœ¨LangChainçš„å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°ã€‚\nè€ƒè™‘åˆ°åç»­è¦å®ç°RAGéœ€è¦Embeddingæ¨¡å‹ï¼Œè€Œå›½å†…åªæœ‰Dashscopeçš„Embeddingæ¨¡å‹çš„apiæ¯”è¾ƒç¨³å®šï¼Œå› æ­¤åœ¨æ­¤ä»‹ç»ä¸€ä¸‹å¦‚ä½•æ¥å…¥Dashscopeã€‚DashscopeåŸåæ˜¯é˜¿é‡Œäº‘çš„çµç§¯ç¤¾åŒºï¼Œä¹Ÿæ˜¯å›½å†…æœ€å¤§çš„APIé›†æˆå¹³å°ï¼Œå…¶ä¸­åŒ…å«äº†å„ç±»å¼€æºæ¨¡å‹ï¼ˆå¦‚Qwen3ç³»åˆ—æ¨¡å‹ï¼‰å’Œå›½å†…åœ¨çº¿æ¨¡å‹ï¼ˆå¦‚DeepSeekã€BaiChuanï¼‰æ¨¡å‹APIæœåŠ¡ï¼Œç°åœ¨å·²åˆå¹¶å…¥é˜¿é‡Œäº‘ç™¾ç‚¼å¹³å°ã€‚å¯¹äºå›½å†…å¼€å‘è€…æ¥è¯´ï¼Œè‹¥è¦ä½¿ç”¨Qwenç³»åˆ—æ¨¡å‹APIï¼ˆè€Œéæœ¬åœ°éƒ¨ç½²ï¼‰ï¼Œé‚£ä¹ˆDashscopeå¹³å°æä¾›çš„APIæœåŠ¡è‚¯å®šæ˜¯æœ€åˆé€‚çš„ã€‚\nè€Œç™¾ç‚¼APIè·å–æ–¹å¼ä¹Ÿéå¸¸ç®€å•ï¼Œåªéœ€æ³¨å†Œé˜¿é‡Œäº‘è´¦å·ï¼Œç„¶åå‰å¾€æˆ‘çš„APIé¡µé¢è¿›è¡Œå……å€¼å’Œæ³¨å†Œå³å¯ï¼š\nç„¶åå³å¯è°ƒç”¨æµ·é‡å„ç±»æ¨¡å‹äº†ï¼š\nå½“æˆ‘ä»¬å®Œæˆäº†DashScope APIæ³¨å†Œåï¼Œå³å¯ä½¿ç”¨å¦‚ä¸‹ä»£ç è¿›è¡Œæ¨¡å‹è°ƒç”¨ï¼ˆéœ€è¦æå‰å°†DASHSCOPE_API_KEYå†™åˆ°æœ¬åœ°.envæ–‡ä»¶ä¸­ï¼‰ï¼š\nimport osfrom openai import OpenAIfrom dotenv import load_dotenvload_dotenv(override=True) # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡client = OpenAI(    api_key=os.getenv(&quot;DASHSCOPE_API_KEY&quot;),    base_url=&quot;https://dashscope.aliyuncs.com/compatible-mode/v1&quot;,)completion = client.chat.completions.create(    # æ¨¡å‹åˆ—è¡¨ï¼šhttps://help.aliyun.com/zh/model-studio/getting-started/models    model=&quot;qwen-plus&quot;,    messages=[        &#123;&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;You are a helpful assistant.&quot;&#125;,        &#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;ä½ æ˜¯è°ï¼Ÿ&quot;&#125;,    ],)print(completion.model_dump_json())\n\nå½“ç„¶ï¼Œä¹Ÿå¯ä»¥å°†DashScopeä¸­å„ç±»æ¨¡å‹æ¥å…¥LangChainï¼š\npip install --upgrade dashscope -i https://pypi.tuna.tsinghua.edu.cn/simple\n\nfrom langchain_community.chat_models.tongyi import ChatTongyifrom dotenv import load_dotenvload_dotenv(override=True) # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡model = ChatTongyi()question = &quot;ä½ å¥½ï¼Œè¯·ä½ ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±ã€‚&quot;result = model.invoke(question)print(result.content)\n\nã€è¡¥å……ã€‘ollamaå¼€æºå¤§æ¨¡å‹æ¥å…¥LangChain\nå½“ç„¶ï¼Œé™¤äº†åœ¨çº¿å¤§æ¨¡å‹çš„æ¥å…¥ï¼ŒlangChainä¹Ÿåªæ˜¯ä½¿ç”¨Ollamaã€vLLMç­‰æ¡†æ¶å¯åŠ¨çš„æœ¬åœ°å¤§æ¨¡å‹ã€‚è¿™é‡Œä»¥ollamaä¸ºä¾‹è¿›è¡Œæ¼”ç¤ºã€‚\npip install langchain-ollama\n\n\næ³¨æ„ï¼Œè¿™é‡Œè¦ç¡®ä¿ollamaå·²ç»é¡ºåˆ©å¼€å¯ï¼Œå¹¶æŸ¥çœ‹å½“å‰æ¨¡å‹åç§°ï¼š\nollama list\n\nç„¶åå³å¯ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•æ¥å…¥LangChainï¼š\nfrom langchain_ollama import ChatOllamamodel = ChatOllama(model=&quot;deepseek-r1&quot;)question = &quot;ä½ å¥½ï¼Œè¯·ä½ ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±ã€‚&quot;result = model.invoke(question)print(result.content)\n\näºŒã€LangChain æ ¸å¿ƒåŠŸèƒ½ Chain çš„æ­å»ºLangChainä¹‹æ‰€ä»¥è¢«ç§°ä¸ºLangChainï¼Œå…¶æ ¸å¿ƒæ¦‚å¿µå°±æ˜¯Chainã€‚ Chainç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯â€œé“¾â€ã€‚ä¸€ä¸ªé“¾ï¼ŒæŒ‡çš„æ˜¯å¯ä»¥æŒ‰ç…§æŸä¸€ç§é€»è¾‘ï¼ŒæŒ‰é¡ºåºç»„åˆæˆä¸€ä¸ªæµæ°´çº¿çš„æ–¹å¼ã€‚æ¯”å¦‚æˆ‘ä»¬åˆšåˆšå®ç°çš„é—®ç­”æµç¨‹ï¼š ç”¨æˆ·è¾“å…¥ä¸€ä¸ªé—®é¢˜ â€“&gt; å‘é€ç»™å¤§æ¨¡å‹ â€“&gt; å¤§æ¨¡å‹è¿›è¡Œæ¨ç† â€“&gt; å°†æ¨ç†ç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚è¿™ä¸ªæµç¨‹å°±æ˜¯ä¸€ä¸ªé“¾ã€‚\nä¾‹å¦‚ï¼Œæˆ‘ä»¬è¿™é‡Œå¯ä»¥å…ˆå°è¯•ç€æ­å»ºä¸€ä¸ªç®€å•çš„é“¾ï¼Œå°†æ¨¡å‹è¾“å‡ºç»“æœâ€œè¿‡æ»¤â€ä¸ºä¸€ä¸ªçº¯å­—ç¬¦ä¸²æ ¼å¼ï¼š\nfrom langchain_core.output_parsers import StrOutputParserfrom langchain.chat_models import init_chat_modelfrom dotenv import load_dotenvload_dotenv(override=True) # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡# ä½¿ç”¨ DeepSeek æ¨¡å‹model = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)# ç›´æ¥ä½¿ç”¨æ¨¡å‹ + è¾“å‡ºè§£æå™¨æ­å»ºä¸€ä¸ªé“¾basic_qa_chain = model | StrOutputParser()# æŸ¥çœ‹è¾“å‡ºç»“æœquestion = &quot;ä½ å¥½ï¼Œè¯·ä½ ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±ã€‚&quot;result = basic_qa_chain.invoke(question)print(result)\n\næ­¤æ—¶resultå°±ä¸å†æ˜¯åŒ…å«å„ç§æ¨¡å‹è°ƒç”¨ä¿¡æ¯çš„ç»“æœï¼Œè€Œæ˜¯çº¯ç²¹çš„æ¨¡å‹å“åº”çš„å­—ç¬¦ä¸²ç»“æœã€‚è€Œè¿™é‡Œç”¨åˆ°çš„StrOutputParser()å®é™…ä¸Šå°±æ˜¯ç”¨äºæ„æˆLangChainä¸­ä¸€ä¸ªé“¾æ¡çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½æ˜¯ç”¨äºå¤„ç†æ¨¡å‹è¾“å‡ºç»“æœã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿèƒ½å‘ç°ï¼Œåªéœ€è¦ä½¿ç”¨Model | OutputParserï¼Œå³å¯é«˜æ•ˆæ­å»ºä¸€ä¸ªé“¾ã€‚\nä¸€ä¸ªæœ€åŸºæœ¬çš„Chainç»“æ„ï¼Œæ˜¯ç”±Modelå’ŒOutputParserä¸¤ä¸ªç»„ä»¶æ„æˆçš„ï¼Œå…¶ä¸­Modelæ˜¯ç”¨æ¥è°ƒç”¨å¤§æ¨¡å‹çš„ï¼ŒOutputParseræ˜¯ç”¨æ¥è§£æå¤§æ¨¡å‹çš„å“åº”ç»“æœçš„ã€‚\nç±»ä¼¼è¿™ç§ç»“æœè§£æå™¨è¿˜æœ‰å¾ˆå¤šï¼Œç¨åæˆ‘ä»¬ä¼šç»§ç»­è¿›è¡Œä»‹ç»ã€‚\næ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•ä¸ºå½“å‰çš„æ‰§è¡Œæµç¨‹æ·»åŠ ä¸€ä¸ªæç¤ºè¯æ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©ChatPromptTemplateéå¸¸ä¾¿æ·çš„å°†ä¸€ä¸ªæç¤ºè¯æ¨¡æ¿åŒæ ·ä»¥é“¾çš„å½¢å¼åŠ å…¥åˆ°å½“å‰ä»»åŠ¡ä¸­ï¼š\nfrom langchain_core.output_parsers import StrOutputParserfrom langchain.chat_models import init_chat_modelfrom langchain.prompts import ChatPromptTemplatefrom dotenv import load_dotenvload_dotenv(override=True) # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡# ä½¿ç”¨ DeepSeek æ¨¡å‹model = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)prompt_template = ChatPromptTemplate([    (&quot;system&quot;, &quot;ä½ æ˜¯ä¸€ä¸ªä¹æ„åŠ©äººçš„åŠ©æ‰‹ï¼Œè¯·æ ¹æ®ç”¨æˆ·çš„é—®é¢˜ç»™å‡ºå›ç­”&quot;),    (&quot;user&quot;, &quot;è¿™æ˜¯ç”¨æˆ·çš„é—®é¢˜ï¼š &#123;topic&#125;ï¼Œ è¯·ç”¨ yes æˆ– no æ¥å›ç­”&quot;)])# ç›´æ¥ä½¿ç”¨æ¨¡å‹ + è¾“å‡ºè§£æå™¨bool_qa_chain = prompt_template | model | StrOutputParser()# æµ‹è¯•question = &quot;è¯·é—® 1 + 1 æ˜¯å¦ å¤§äº 2ï¼Ÿ&quot;# result = bool_qa_chain.invoke(question)# å»ºè®®æ˜¾å¼ä¼ å­—å…¸result = bool_qa_chain.invoke(&#123;&quot;topic&quot;: question&#125;)print(result)\n\nè‡³æ­¤ï¼Œæˆ‘ä»¬å°±æ­å»ºäº†ä¸€ä¸ªéå¸¸åŸºç¡€çš„é“¾ã€‚åœ¨LangChainä¸­ï¼Œä¸€ä¸ªåŸºç¡€çš„é“¾ä¸»è¦ç”±ä¸‰éƒ¨åˆ†æ„æˆï¼Œåˆ†åˆ«æ˜¯æç¤ºè¯æ¨¡æ¿ã€å¤§æ¨¡å‹å’Œç»“æœè§£æå™¨ï¼ˆç»“æ„åŒ–è§£æå™¨ï¼‰ï¼š\nç”¨æˆ·è¾“å…¥  â†“PromptTemplate â†’ ChatModel â†’ OutputParserï¼ˆæç¤ºè¯æ¨¡æ¿ï¼‰   ï¼ˆå¤§æ¨¡å‹ï¼‰    ï¼ˆç»“æ„åŒ–è§£æï¼‰  â†“ç»“æ„åŒ–ç»“æœ\n\nç»“æ„åŒ–è§£æå™¨åŠŸèƒ½æœ€å¤šï¼Œä¸€äº›æ ¸å¿ƒçš„ç»“æ„åŒ–è§£æå™¨åŠŸèƒ½å¦‚ä¸‹ï¼š\n\n\n\nè§£æå™¨åç§°\nåŠŸèƒ½æè¿°\nç±»å‹\n\n\n\nBooleanOutputParser\nå°†LLMè¾“å‡ºè§£æä¸ºå¸ƒå°”å€¼\nåŸºç¡€ç±»å‹è§£æ\n\n\nDatetimeOutputParser\nå°†LLMè¾“å‡ºè§£æä¸ºæ—¥æœŸæ—¶é—´\nåŸºç¡€ç±»å‹è§£æ\n\n\nEnumOutputParser\nè§£æè¾“å‡ºä¸ºé¢„å®šä¹‰æšä¸¾å€¼ä¹‹ä¸€\nåŸºç¡€ç±»å‹è§£æ\n\n\nRegexParser\nä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è§£æLLMè¾“å‡º\næ¨¡å¼åŒ¹é…è§£æ\n\n\nRegexDictParser\nä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å°†è¾“å‡ºè§£æä¸ºå­—å…¸\næ¨¡å¼åŒ¹é…è§£æ\n\n\nStructuredOutputParser\nå°†LLMè¾“å‡ºè§£æä¸ºç»“æ„åŒ–æ ¼å¼\nç»“æ„åŒ–è§£æ\n\n\nYamlOutputParser\nä½¿ç”¨Pydanticæ¨¡å‹è§£æYAMLè¾“å‡º\nç»“æ„åŒ–è§£æ\n\n\nPandasDataFrameOutputParser\nä½¿ç”¨Pandas DataFrameæ ¼å¼è§£æè¾“å‡º\næ•°æ®å¤„ç†è§£æ\n\n\nCombiningOutputParser\nå°†å¤šä¸ªè¾“å‡ºè§£æå™¨ç»„åˆä¸ºä¸€ä¸ª\nç»„åˆè§£æå™¨\n\n\nOutputFixingParser\nåŒ…è£…è§£æå™¨å¹¶å°è¯•ä¿®å¤è§£æé”™è¯¯\né”™è¯¯å¤„ç†è§£æ\n\n\nRetryOutputParser\nåŒ…è£…è§£æå™¨å¹¶å°è¯•ä¿®å¤è§£æé”™è¯¯\né”™è¯¯å¤„ç†è§£æ\n\n\nRetryWithErrorOutputParser\nåŒ…è£…è§£æå™¨å¹¶å°è¯•ä¿®å¤è§£æé”™è¯¯\né”™è¯¯å¤„ç†è§£æ\n\n\nResponseSchema\nç»“æ„åŒ–è¾“å‡ºè§£æå™¨çš„å“åº”æ¨¡å¼\nè¾…åŠ©ç±»\n\n\nä¸€äº›åŠŸèƒ½å®ç°å¦‚ä¸‹\nä¾‹å¦‚å€ŸåŠ©ç»“æ„åŒ–è§£æå™¨å¯ä»¥å°†yes or noè½¬åŒ–ä¸ºTrue or Fasleï¼š\nfrom langchain.output_parsers import BooleanOutputParserfrom langchain.chat_models import init_chat_modelfrom langchain.prompts import ChatPromptTemplatefrom dotenv import load_dotenvload_dotenv(override=True) # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡# ä½¿ç”¨ DeepSeek æ¨¡å‹model = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)prompt_template = ChatPromptTemplate([    (&quot;system&quot;, &quot;ä½ æ˜¯ä¸€ä¸ªä¹æ„åŠ©äººçš„åŠ©æ‰‹ï¼Œè¯·æ ¹æ®ç”¨æˆ·çš„é—®é¢˜ç»™å‡ºå›ç­”&quot;),    (&quot;user&quot;, &quot;è¿™æ˜¯ç”¨æˆ·çš„é—®é¢˜ï¼š &#123;topic&#125;ï¼Œ è¯·ç”¨ yes æˆ– no æ¥å›ç­”&quot;)])# ç›´æ¥ä½¿ç”¨æ¨¡å‹ + è¾“å‡ºè§£æå™¨bool_qa_chain = prompt_template | model | BooleanOutputParser()# æµ‹è¯•question = &quot;è¯·é—® 1 + 1 æ˜¯å¦ å¤§äº 2ï¼Ÿ&quot;result = bool_qa_chain.invoke(question)print(result) # false\n\nè€ŒStructuredOutputParseråˆ™å¯ä»¥åœ¨æ–‡æ¡£ä¸­æå–æŒ‡å®šçš„ç»“æ„åŒ–ä¿¡æ¯ï¼š\nfrom langchain.chat_models import init_chat_modelfrom langchain_core.prompts import PromptTemplatefrom langchain.output_parsers import ResponseSchema, StructuredOutputParserfrom dotenv import load_dotenvload_dotenv(override=True) # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡# ä½¿ç”¨ DeepSeek æ¨¡å‹model = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)schemas = [    ResponseSchema(name=&quot;name&quot;, description=&quot;ç”¨æˆ·çš„å§“å&quot;),    ResponseSchema(name=&quot;age&quot;, description=&quot;ç”¨æˆ·çš„å¹´é¾„&quot;)]parser = StructuredOutputParser.from_response_schemas(schemas)prompt = PromptTemplate.from_template(    &quot;è¯·æ ¹æ®ä»¥ä¸‹å†…å®¹æå–ç”¨æˆ·ä¿¡æ¯ï¼Œå¹¶è¿”å› JSON æ ¼å¼ï¼š\\n&#123;input&#125;\\n\\n&#123;format_instructions&#125;&quot;)chain = (    prompt.partial(format_instructions=parser.get_format_instructions()) | model | parser)result = chain.invoke(&#123;&quot;input&quot;: &quot;ç”¨æˆ·å«æé›·ï¼Œä»Šå¹´25å²ï¼Œæ˜¯ä¸€åå·¥ç¨‹å¸ˆã€‚&quot;&#125;)print(result) # &#123;&#x27;name&#x27;: &#x27;æé›·&#x27;, &#x27;age&#x27;: &#x27;25&#x27;&#125;\n\nè¿™é‡Œæˆ‘ä»¬åœ¨ PromptTemplate ä¸­ï¼Œå®šä¹‰äº†ä¸¤ä¸ªå ä½ç¬¦å˜é‡ï¼š\n\n&#123;input&#125; â†’ å°†ç”±ç”¨æˆ·ä¼ å…¥çš„æ–‡æœ¬æ›¿æ¢ï¼ˆå¦‚ â€œç”¨æˆ·å«æé›·ï¼Œä»Šå¹´25å²â€¦â€ï¼‰\n\n&#123;format_instructions&#125; â†’ ä¼šé€šè¿‡ partial(...) æå‰ç»‘å®šç»“æ„åŒ–æ ¼å¼è¯´æ˜\n\n\nè€Œæ ¼å¼åŒ–è¯´æ˜ä½¿ç”¨format_instructionsè¿›è¡Œæ ‡è¯†å…¶å®ä¹Ÿæ˜¯ä¸€ç§çº¦å®šä¿—ç§°çš„æ–¹æ³•ï¼Œä¸Šè¿°ä»£ç ä¹Ÿå°±æ˜¯ç›¸å½“äºåœ¨åˆ›å»ºChainçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±è¾“å…¥äº†&#123;format_instructions&#125;å¯¹åº”çš„å­—ç¬¦ä¸²parser.get_format_instructions()ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹ä»£ç è¿›è¡Œæ‰“å°æŸ¥çœ‹ï¼š\nprint(parser.get_format_instructions())\n\nè¾“å‡ºä¸ºï¼š\nThe output should be a markdown code snippet formatted in the following schema, including the leading and trailing &quot;```json&quot; and &quot;```&quot;:```json&#123;\t&quot;name&quot;: string  // ç”¨æˆ·çš„å§“å\t&quot;age&quot;: string  // ç”¨æˆ·çš„å¹´é¾„&#125;```\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›ä¸€æ­¥åˆ›å»ºå¤åˆé“¾\nfrom langchain.chat_models import init_chat_modelfrom langchain_core.prompts import PromptTemplatefrom langchain.output_parsers import ResponseSchema, StructuredOutputParserfrom dotenv import load_dotenvload_dotenv(override=True) # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡# ä½¿ç”¨ DeepSeek æ¨¡å‹model = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)# ç¬¬ä¸€æ­¥ï¼šæ ¹æ®æ ‡é¢˜ç”Ÿæˆæ–°é—»æ­£æ–‡news_gen_prompt = PromptTemplate.from_template(    &quot;è¯·æ ¹æ®ä»¥ä¸‹æ–°é—»æ ‡é¢˜æ’°å†™ä¸€æ®µç®€çŸ­çš„æ–°é—»å†…å®¹ï¼ˆ100å­—ä»¥å†…ï¼‰ï¼š\\n\\næ ‡é¢˜ï¼š&#123;title&#125;&quot;)# ç¬¬ä¸€ä¸ªå­é“¾ï¼šç”Ÿæˆæ–°é—»å†…å®¹news_chain = news_gen_prompt | model# ç¬¬äºŒæ­¥ï¼šä»æ­£æ–‡ä¸­æå–ç»“æ„åŒ–å­—æ®µschemas = [    ResponseSchema(name=&quot;time&quot;, description=&quot;äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´&quot;),    ResponseSchema(name=&quot;location&quot;, description=&quot;äº‹ä»¶å‘ç”Ÿçš„åœ°ç‚¹&quot;),    ResponseSchema(name=&quot;event&quot;, description=&quot;å‘ç”Ÿçš„å…·ä½“äº‹ä»¶&quot;),]parser = StructuredOutputParser.from_response_schemas(schemas)summary_prompt = PromptTemplate.from_template(    &quot;è¯·ä»ä¸‹é¢è¿™æ®µæ–°é—»å†…å®¹ä¸­æå–å…³é”®ä¿¡æ¯ï¼Œå¹¶è¿”å›ç»“æ„åŒ–JSONæ ¼å¼ï¼š\\n\\n&#123;news&#125;\\n\\n&#123;format_instructions&#125;&quot;)# ç¬¬äºŒä¸ªå­é“¾ï¼šç”Ÿæˆæ–°é—»æ‘˜è¦summary_chain = (    summary_prompt.partial(format_instructions=parser.get_format_instructions())    | model    | parser)# ç»„åˆæˆä¸€ä¸ªå¤åˆ Chainfull_chain = news_chain | summary_chain# è°ƒç”¨å¤åˆé“¾result = full_chain.invoke(&#123;&quot;title&quot;: &quot;è‹¹æœå…¬å¸åœ¨åŠ å·å‘å¸ƒæ–°æ¬¾AIèŠ¯ç‰‡&quot;&#125;)print(result)\n\nç®¡é“æ“ä½œç¬¦ | ä¼šè‡ªåŠ¨å°†å‰ä¸€ä¸ªé“¾çš„è¾“å‡ºä½œä¸ºåä¸€ä¸ªé“¾çš„è¾“å…¥ï¼Œæ•´ä½“æµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š\nç”¨æˆ·è¾“å…¥ï¼ˆtitleï¼‰          â”‚          â–¼  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  Chain 1: ç”Ÿæˆæ–°é—»æ­£æ–‡       â”‚  â”‚  Prompt: news_gen_prompt   â”‚  â”‚  Model: DeepSeek           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚          â–¼  ç”Ÿæˆçš„æ–°é—»å†…å®¹ï¼ˆnewsï¼‰          â”‚          â–¼  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  Chain 2: æå–ç»“æ„åŒ–å­—æ®µ(æ‘˜è¦)           â”‚  â”‚  Prompt: summary_pro                  â”‚  â”‚  Model: DeepSeek                      â”‚  â”‚  OutputParser: StructuredOutputParser â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚          â–¼  ç»“åŒ–è¾“å‡ºï¼ˆå¦‚ JSONï¼šæ—¶é—´ã€åœ°ç‚¹ã€äº‹ä»¶ï¼‰\n\nä¹Ÿå¯ä»¥å€ŸåŠ©LangChainé€‚é…å™¨è®¾ç½®è‡ªå®šä¹‰å¯è¿è¡Œçš„èŠ‚ç‚¹\nfrom langchain.chat_models import init_chat_modelfrom langchain_core.prompts import PromptTemplatefrom langchain.output_parsers import ResponseSchema, StructuredOutputParserfrom langchain_core.runnables import RunnableLambdafrom dotenv import load_dotenvload_dotenv(override=True) # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡# ä½¿ç”¨ DeepSeek æ¨¡å‹model = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)# ç¬¬ä¸€æ­¥ï¼šæ ¹æ®æ ‡é¢˜ç”Ÿæˆæ–°é—»æ­£æ–‡news_gen_prompt = PromptTemplate.from_template(    &quot;è¯·æ ¹æ®ä»¥ä¸‹æ–°é—»æ ‡é¢˜æ’°å†™ä¸€æ®µç®€çŸ­çš„æ–°é—»å†…å®¹ï¼ˆ100å­—ä»¥å†…ï¼‰ï¼š\\n\\næ ‡é¢˜ï¼š&#123;title&#125;&quot;)# ç¬¬ä¸€ä¸ªå­é“¾ï¼šç”Ÿæˆæ–°é—»å†…å®¹news_chain = news_gen_prompt | model# ç¬¬äºŒæ­¥ï¼šä»æ­£æ–‡ä¸­æå–ç»“æ„åŒ–å­—æ®µschemas = [    ResponseSchema(name=&quot;time&quot;, description=&quot;äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´&quot;),    ResponseSchema(name=&quot;location&quot;, description=&quot;äº‹ä»¶å‘ç”Ÿçš„åœ°ç‚¹&quot;),    ResponseSchema(name=&quot;event&quot;, description=&quot;å‘ç”Ÿçš„å…·ä½“äº‹ä»¶&quot;),]parser = StructuredOutputParser.from_response_schemas(schemas)summary_prompt = PromptTemplate.from_template(    &quot;è¯·ä»ä¸‹é¢è¿™æ®µæ–°é—»å†…å®¹ä¸­æå–å…³é”®ä¿¡æ¯ï¼Œå¹¶è¿”å›ç»“æ„åŒ–JSONæ ¼å¼ï¼š\\n\\n&#123;news&#125;\\n\\n&#123;format_instructions&#125;&quot;)# ç¬¬äºŒä¸ªå­é“¾ï¼šç”Ÿæˆæ–°é—»æ‘˜è¦summary_chain = (    summary_prompt.partial(format_instructions=parser.get_format_instructions())    | model    | parser)# ä¸€ä¸ªç®€å•çš„æ‰“å°å‡½æ•°ï¼Œè°ƒè¯•ç”¨def debug_print(x):    print(&quot;ä¸­é—´ç»“æœï¼ˆæ–°é—»æ­£æ–‡ï¼‰:&quot;, x)    return xdebug_node = RunnableLambda(debug_print)# æ’å…¥ debug èŠ‚ç‚¹full_chain = news_chain | debug_node | summary_chain# è°ƒç”¨å¤åˆé“¾result = full_chain.invoke(&#123;&quot;title&quot;: &quot;è‹¹æœå…¬å¸åœ¨åŠ å·å‘å¸ƒæ–°æ¬¾AIèŠ¯ç‰‡&quot;&#125;)print(result)\n\né€šè¿‡ä¸Šè¿°ä¸åŒçš„å°è¯•ï¼Œæˆ‘ä»¬å°±å·²ç»ç†è§£äº†åœ¨langChainä¸­ï¼Œå¦‚ä½•ä½¿ç”¨ChatPromptTemplateã€Modelã€OutputParseræ¥æ„å»ºä¸€ä¸ªç®€å•çš„Chainã€‚å…¶ä¸­ï¼š\n\nChatPromptTemplate æ˜¯ç”¨æ¥æ„å»ºæç¤ºæ¨¡æ¿çš„ï¼Œå°†è¾“å…¥çš„é—®é¢˜è½¬åŒ–ä¸ºæ¶ˆæ¯åˆ—è¡¨ï¼Œå¯ä»¥è®¾ç½®ç³»ç»ŸæŒ‡ä»¤ï¼Œä¹Ÿå¯ä»¥æ·»åŠ ä¸€äº›å˜é‡ï¼›\nModel æ˜¯ç”¨æ¥è°ƒç”¨å¤§æ¨¡å‹çš„ï¼Œå¯ä»¥æŒ‡å®šä½¿ç”¨ä¸åŒçš„æ¨¡å‹ï¼›\nOutputParser æ˜¯ç”¨æ¥è§£æå¤§æ¨¡å‹çš„å“åº”ç»“æœçš„ï¼Œå¯ä»¥æŒ‡å®šä½¿ç”¨ä¸åŒçš„è§£æå™¨ã€‚\n\n\n[è¡¥å……] LCELå…³é”®æ¦‚å¿µä»‹ç»\nä»€ä¹ˆæ˜¯ LCELï¼Ÿâ€”â€”LangChain Expression Language è¯¦è§£\nåœ¨ç°ä»£å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åº”ç”¨çš„æ„å»ºä¸­ï¼ŒLangChain æä¾›äº†ä¸€ç§å…¨æ–°çš„è¡¨è¾¾èŒƒå¼ï¼Œè¢«ç§°ä¸º LCELï¼ˆLangChain Expression Languageï¼‰ã€‚å®ƒä¸ä»…ç®€åŒ–äº†æ¨¡å‹äº¤äº’çš„ç¼–æ’è¿‡ç¨‹ï¼Œè¿˜å¢å¼ºäº†ç»„åˆçš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚æœ¬æ–‡å°†ä»æ¦‚å¿µã€è®¾è®¡ç›®çš„ã€æ ¸å¿ƒç‰¹æ€§å’Œå®é™…ä»·å€¼å‡ ä¸ªæ–¹é¢ï¼Œç³»ç»Ÿæ€§åœ°ä»‹ç» LCEL çš„æœ¬è´¨ã€‚\n\nä¸€ã€LCEL çš„å®šä¹‰\nLCELï¼Œå…¨ç§°ä¸º **LangChain Expression Language**ï¼Œæ˜¯ä¸€ç§ä¸“ä¸º LangChain æ¡†æ¶è®¾è®¡çš„è¡¨è¾¾è¯­è¨€ã€‚å®ƒé€šè¿‡ä¸€ç§é“¾å¼ç»„åˆçš„æ–¹å¼ï¼Œå…è®¸å¼€å‘è€…ä½¿ç”¨æ¸…æ™°ã€å£°æ˜å¼çš„è¯­æ³•æ¥æ„å»ºè¯­è¨€æ¨¡å‹é©±åŠ¨çš„åº”ç”¨æµç¨‹ã€‚\nç®€å•æ¥è¯´ï¼ŒLCEL æ˜¯ä¸€ç§â€œå‡½æ•°å¼ç®¡é“é£æ ¼â€çš„ç»„ä»¶ç»„åˆæœºåˆ¶ï¼Œç”¨äºè¿æ¥å„ç§å¯æ‰§è¡Œå•å…ƒï¼ˆRunnableï¼‰ã€‚è¿™äº›å•å…ƒåŒ…æ‹¬æç¤ºæ¨¡æ¿ã€è¯­è¨€æ¨¡å‹ã€è¾“å‡ºè§£æå™¨ã€å·¥å…·å‡½æ•°ç­‰ã€‚\n\näºŒã€è®¾è®¡ç›®çš„\nLCEL çš„è®¾è®¡åˆè¡·åœ¨äºï¼š\n\næ¨¡å—åŒ–æ„å»ºï¼šå°†æ¨¡å‹è°ƒç”¨æµç¨‹æ‹†è§£ä¸ºç‹¬ç«‹ã€å¯é‡ç”¨çš„ç»„ä»¶ã€‚\né€»è¾‘å¯è§†åŒ–ï¼šé€šè¿‡è¯­æ³•ç¬¦å·ï¼ˆå¦‚ç®¡é“ç¬¦ |ï¼‰å‘ˆç°å‡ºæ˜ç¡®çš„æ•°æ®æµè·¯å¾„ã€‚\nç»Ÿä¸€è¿è¡Œæ¥å£ï¼šæ‰€æœ‰ LCEL ç»„ä»¶éƒ½å®ç°äº† .invoke()ã€.stream()ã€.batch() ç­‰æ ‡å‡†æ–¹æ³•ï¼Œä¾¿äºåœ¨åŒæ­¥ã€å¼‚æ­¥æˆ–æ‰¹å¤„ç†ç¯å¢ƒä¸‹è°ƒç”¨ã€‚\nè„±ç¦»æ¡†æ¶é™åˆ¶ï¼šç›¸æ¯”ä¼ ç»Ÿçš„ Chain ç±»å’Œ Agent æ¶æ„ï¼ŒLCEL æ›´è½»é‡ã€æ›´å…·è¡¨è¾¾åŠ›ï¼Œå‡å°‘ä¾èµ–çš„â€œé»‘ç›’â€é€»è¾‘ã€‚\n\n\nä¸‰ã€æ ¸å¿ƒç»„æˆ\n\nRunnable æ¥å£\n\nLCEL çš„ä¸€åˆ‡åŸºç¡€å•å…ƒéƒ½æ˜¯ Runnable å¯¹è±¡ï¼Œå®ƒæ˜¯ä¸€ç§ç»Ÿä¸€çš„å¯è°ƒç”¨æ¥å£ï¼Œæ”¯æŒå¦‚ä¸‹å½¢å¼ï¼š\n\n.invoke(input)ï¼šåŒæ­¥è°ƒç”¨\n.stream(input)ï¼šæµå¼ç”Ÿæˆ\n.batch(inputs)ï¼šæ‰¹é‡æ‰§è¡Œ\n\n\nç®¡é“è¿ç®—ç¬¦ |\n\nè¿™æ˜¯ LCEL æœ€å…·ç‰¹è‰²çš„è¯­æ³•ç¬¦å·ã€‚å¤šä¸ª Runnable å¯¹è±¡å¯ä»¥é€šè¿‡ | ä¸²è”èµ·æ¥ï¼Œå½¢æˆæ¸…æ™°çš„æ•°æ®å¤„ç†é“¾ã€‚ä¾‹å¦‚ï¼š\nprompt | model | parser\n\nè¡¨ç¤ºæ•°æ®å°†ä¾æ¬¡ä¼ å…¥æç¤ºæ¨¡æ¿ã€æ¨¡å‹å’Œè¾“å‡ºè§£æå™¨ï¼Œæœ€ç»ˆè¾“å‡ºç»“æ„åŒ–ç»“æœã€‚\n\nPromptTemplate ä¸ OutputParser\n\nLCEL å¼ºè°ƒç»„ä»¶ä¹‹é—´çš„èŒè´£æ˜ç¡®ï¼ŒPrompt åªè´Ÿè´£æ¨¡æ¿åŒ–è¾“å…¥ï¼ŒParser åªè´Ÿè´£æ ¼å¼åŒ–è¾“å‡ºï¼ŒModel åªè´Ÿè´£æ¨ç†ã€‚\n\nå››ã€å…¸å‹ä¼˜åŠ¿\n\n\n\nç‰¹æ€§\næè¿°\n\n\n\n\nç®€æ´è¯­æ³•\nä½¿ç”¨ `\n` è¿ç®—ç¬¦æå‡å¯è¯»æ€§\n\n\nçµæ´»ç»„åˆ\nå¯ä»»æ„ç»„åˆ Promptã€æ¨¡å‹ã€å·¥å…·ã€å‡½æ•°ç­‰ç»„ä»¶\n\n\n\næ˜ç¡®è¾¹ç•Œ\næ¯ä¸ªæ­¥éª¤èŒè´£åˆ†æ˜ï¼Œæ–¹ä¾¿è°ƒè¯•ä¸é‡ç”¨\n\n\n\nå¯åµŒå¥—æ‰©å±•\næ”¯æŒå‡½æ•°åŒ…è£…ã€è‡ªå®šä¹‰ä¸­é—´ç»„ä»¶å’Œæµå¼æ‹“å±•\n\n\n\nä¸ Gradio/FastAPI é›†æˆè‰¯å¥½\nå¯ç”¨äºæ„å»º APIã€UI èŠå¤©ç­‰å¤šç§åœºæ™¯\n\n\n\n\näº”ã€æ€»ç»“\nLCEL æ˜¯ LangChain åœ¨ 2024 å¹´æœ«å¼•å…¥çš„ä¸€é¡¹é‡è¦ç‰¹æ€§ï¼Œæ ‡å¿—ç€ä»ä¼ ç»Ÿ Agent æ¶æ„å‘â€œå£°æ˜å¼ã€ç»„åˆå¼â€å¼€å‘èŒƒå¼çš„è½¬å˜ã€‚å®ƒä¸ä»…è®©å¼€å‘è€…èƒ½ä»¥æ›´æ¸…æ™°çš„æ–¹å¼ç»„ç»‡ LLM å·¥ä½œæµï¼Œä¹Ÿå¤§å¤§æé«˜äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ä¸å¯æµ‹è¯•æ€§ã€‚\n\nä¸‰ã€LangChain è®°å¿†å­˜å‚¨ä¸æ­å»ºå¤šè½®å¯¹è¯æœºå™¨äººåœ¨langChainä¸­æ„å»ºä¸€ä¸ªåŸºæœ¬çš„é—®ç­”æœºå™¨äººä»…éœ€è¦ä½¿ç”¨ä¸€ä¸ªChainä¾¿å¯ä»¥å¿«é€Ÿå®ç°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nfrom langchain_core.output_parsers import StrOutputParserfrom langchain.prompts import ChatPromptTemplatefrom langchain.chat_models import init_chat_modelfrom dotenv import load_dotenvload_dotenv(override=True) # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡chatbot_prompt = ChatPromptTemplate.from_messages([    (&quot;system&quot;, &quot;ä½ å«å°æ©˜ï¼Œæ˜¯ä¸€åä¹äºåŠ©äººçš„åŠ©æ‰‹ã€‚&quot;),    (&quot;user&quot;, &quot;&#123;input&#125;&quot;)])# ä½¿ç”¨ DeepSeek æ¨¡å‹model = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)# ç›´æ¥ä½¿ç”¨æ¨¡å‹ + è¾“å‡ºè§£æå™¨basic_qa_chain = chatbot_prompt | model | StrOutputParser()# æµ‹è¯•question = &quot;ä½ å¥½ï¼Œè¯·ä½ ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±ã€‚&quot;result = basic_qa_chain.invoke(question)print(result)\n\nåœ¨LangChainä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡äººå·¥æ‹¼æ¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¥ä¸ºæ¯æ¬¡æ¨¡å‹è°ƒç”¨è®¾ç½®å¤šè½®å¯¹è¯è®°å¿†ã€‚\nfrom langchain_core.messages import AIMessage, HumanMessage, SystemMessagefrom langchain_core.prompts import ChatPromptTemplate, MessagesPlaceholderfrom langchain.chat_models import init_chat_modelfrom langchain_core.output_parsers import StrOutputParserfrom dotenv import load_dotenvload_dotenv(override=True) # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡model  = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)parser = StrOutputParser()prompt = ChatPromptTemplate.from_messages([    SystemMessage(content=&quot;ä½ å«å°æ©˜ï¼Œæ˜¯ä¸€åä¹äºåŠ©äººçš„åŠ©æ‰‹ã€‚&quot;),    MessagesPlaceholder(variable_name=&quot;messages&quot;),])chain = prompt | model | parsermessages_list = []  # åˆå§‹åŒ–å†å²print(&quot;ğŸ”¹ è¾“å…¥ exit ç»“æŸå¯¹è¯&quot;)while True:    user_query = input(&quot;ä½ ï¼š&quot;)    if user_query.lower() in &#123;&quot;exit&quot;, &quot;quit&quot;&#125;:        break    # 1) è¿½åŠ ç”¨æˆ·æ¶ˆæ¯    messages_list.append(HumanMessage(content=user_query))    # 2) è°ƒç”¨æ¨¡å‹    assistant_reply = chain.invoke(&#123;&quot;messages&quot;: messages_list&#125;)    print(&quot;å°æ©˜ï¼š&quot;, assistant_reply)    # 3) è¿½åŠ  AI å›å¤    messages_list.append(AIMessage(content=assistant_reply))    # 4) ä»…ä¿ç•™æœ€è¿‘ 50 æ¡    messages_list = messages_list[-50:]\n\næ­¤å¤–è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå¤§å®¶ç»å¸¸çœ‹åˆ°çš„é—®ç­”æœºå™¨äººå…¶å®éƒ½æ˜¯é‡‡ç”¨æµå¼ä¼ è¾“æ¨¡å¼ã€‚ç”¨æˆ·è¾“å…¥é—®é¢˜ï¼Œç­‰å¾…æ¨¡å‹ç›´æ¥è¿”å›å›ç­”ï¼Œç„¶åç”¨æˆ·å†è¾“å…¥é—®é¢˜ï¼Œæ¨¡å‹å†è¿”å›å›ç­”ï¼Œè¿™æ ·å¾ªç¯ä¸‹å»ï¼Œç”¨æˆ·è¾“å…¥é—®é¢˜å’Œæ¨¡å‹è¿”å›å›ç­”ä¹‹é—´çš„æ—¶é—´é—´éš”å¤ªé•¿ï¼Œå¯¼è‡´ç”¨æˆ·æ„Ÿè§‰æœºå™¨äººååº”å¾ˆæ…¢ã€‚æ‰€ä»¥LangChainæä¾›äº†ä¸€ä¸ªastreamæ–¹æ³•ï¼Œå¯ä»¥å®ç°æµå¼è¾“å‡ºï¼Œå³ä¸€æ—¦æ¨¡å‹æœ‰è¾“å‡ºï¼Œå°±ç«‹å³è¿”å›ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥çœ‹åˆ°æ¨¡å‹æ­£åœ¨æ€è€ƒï¼Œè€Œä¸æ˜¯ç­‰å¾…æ¨¡å‹æ€è€ƒå®Œå†è¿”å›ã€‚\nå®ç°çš„æ–¹æ³•ä¹Ÿéå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨è°ƒç”¨æ¨¡å‹æ—¶å°†invokeæ–¹æ³•æ›¿æ¢ä¸ºastreamæ–¹æ³•ï¼Œç„¶åä½¿ç”¨async forå¾ªç¯æ¥æŒç»­è·å–æ¨¡å‹çš„è¾“å‡ºå³å¯ã€‚ä»£ç å¦‚ä¸‹ï¼š\nfrom langchain_core.output_parsers import StrOutputParserfrom langchain.chat_models import init_chat_modelfrom langchain.prompts import ChatPromptTemplatefrom dotenv import load_dotenvimport asyncioload_dotenv(override=True)  # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡chatbot_prompt = ChatPromptTemplate.from_messages([    (&quot;system&quot;, &quot;ä½ å«å°æ™ºï¼Œæ˜¯ä¸€åä¹äºåŠ©äººçš„åŠ©æ‰‹ã€‚&quot;),    (&quot;user&quot;, &quot;&#123;input&#125;&quot;)])# ä½¿ç”¨ DeepSeek æ¨¡å‹model = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)# ç›´æ¥ä½¿ç”¨æç¤ºæ¨¡ç‰ˆ + æ¨¡å‹ + è¾“å‡ºè§£æå™¨qa_chain_with_system = chatbot_prompt | model | StrOutputParser()async def main():    async for chunk in qa_chain_with_system.astream(&#123;&quot;input&quot;: &quot;ä½ å¥½ï¼Œè¯·ä½ ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±&quot;&#125;):        print(chunk, end=&quot;&quot;, flush=True)# è¿è¡Œå¼‚æ­¥ä¸»å‡½æ•°asyncio.run(main())\n\nåŒæ ·çš„ï¼Œå¯ä»¥è¿›ä¸€æ­¥ä¸ºæ¯æ¬¡æ¨¡å‹è°ƒç”¨è®¾ç½®å¤šè½®å¯¹è¯è®°å¿†ã€‚\nimport asynciofrom langchain_core.messages import AIMessage, HumanMessage, SystemMessagefrom langchain_core.prompts import ChatPromptTemplate, MessagesPlaceholderfrom langchain.chat_models import init_chat_modelfrom langchain_core.output_parsers import StrOutputParserfrom dotenv import load_dotenvload_dotenv(override=True)  # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡model = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)parser = StrOutputParser()prompt = ChatPromptTemplate.from_messages([    SystemMessage(content=&quot;ä½ å«å°æ©˜ï¼Œæ˜¯ä¸€åä¹äºåŠ©äººçš„åŠ©æ‰‹ã€‚&quot;),    MessagesPlaceholder(variable_name=&quot;messages&quot;),])chain = prompt | model | parserasync def main():    messages_list = []  # åˆå§‹åŒ–å†å²    print(&quot;ğŸ”¹ è¾“å…¥ exit ç»“æŸå¯¹è¯&quot;)    while True:        user_query = input(&quot;ä½ ï¼š&quot;)        if user_query.lower() in &#123;&quot;exit&quot;, &quot;quit&quot;&#125;:            break        # 1) è¿½åŠ ç”¨æˆ·æ¶ˆæ¯        messages_list.append(HumanMessage(content=user_query))        # 2) è°ƒç”¨æ¨¡å‹ï¼ˆå¼‚æ­¥æµå¼è¾“å‡ºï¼‰        print(&quot;å°æ©˜ï¼š&quot;, end=&quot;&quot;, flush=True)        assistant_reply = &quot;&quot;        async for chunk in chain.astream(&#123;&quot;messages&quot;: messages_list&#125;):            print(chunk, end=&quot;&quot;, flush=True)            assistant_reply += chunk  # æ”¶é›†å›å¤å†…å®¹        print() # æ¢è¡Œ        # 3) è¿½åŠ  AI å›å¤        messages_list.append(AIMessage(content=assistant_reply))        # 4) ä»…ä¿ç•™æœ€è¿‘ 50 æ¡        messages_list = messages_list[-50:]# è¿è¡Œå¼‚æ­¥ä¸»å‡½æ•°asyncio.run(main())\n\nå¦‚ä¸Šæ‰€ç¤ºå±•ç¤ºçš„é—®ç­”æ•ˆæœå°±æ˜¯æˆ‘ä»¬åœ¨æ„å»ºå¤§æ¨¡å‹åº”ç”¨æ—¶éœ€è¦å®ç°çš„æµå¼è¾“å‡ºæ•ˆæœã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¿›ä¸€æ­¥åœ°ï¼Œä½¿ç”¨gradioæ¥å¼€å‘ä¸€ä¸ªæ”¯æŒåœ¨ç½‘é¡µä¸Šè¿›è¡Œäº¤äº’çš„é—®ç­”æœºå™¨äººã€‚Gradio æ˜¯ä¸€ä¸ªç”¨äºå¿«é€Ÿæ„å»ºæœºå™¨å­¦ä¹ æ¨¡å‹äº¤äº’å¼æ¼”ç¤ºç•Œé¢çš„ Python åº“ã€‚å®ƒå…è®¸å¼€å‘è€…ç”¨å‡ è¡Œä»£ç åˆ›å»º Web åº”ç”¨ï¼Œæ— éœ€å‰ç«¯çŸ¥è¯†å³å¯è®©ç”¨æˆ·é€šè¿‡æµè§ˆå™¨è¾“å…¥æ•°æ®å¹¶æŸ¥çœ‹æ¨¡å‹é¢„æµ‹ç»“æœã€‚\né¦–å…ˆéœ€è¦å®‰è£…ä¸€ä¸‹gradioçš„ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…\npip install gradio\n\nå®Œæ•´å®ç°çš„ä»£ç å¦‚ä¸‹ï¼š\n# å¯¼å…¥å¿…è¦çš„åº“import gradio as gr  # ç”¨äºæ„å»ºWebç•Œé¢çš„åº“from langchain.chat_models import init_chat_model  # åˆå§‹åŒ–èŠå¤©æ¨¡å‹çš„å‡½æ•°from langchain_core.output_parsers import StrOutputParser  # å­—ç¬¦ä¸²è¾“å‡ºè§£æå™¨from langchain_core.prompts import ChatPromptTemplate, MessagesPlaceholder  # èŠå¤©æç¤ºæ¨¡æ¿å’Œæ¶ˆæ¯å ä½ç¬¦from langchain_core.messages import SystemMessage, HumanMessage, AIMessage  # ç³»ç»Ÿæ¶ˆæ¯ã€äººç±»æ¶ˆæ¯å’ŒAIæ¶ˆæ¯from dotenv import load_dotenv  # ç”¨äºåŠ è½½ç¯å¢ƒå˜é‡load_dotenv(override=True)  # åŠ è½½ .env æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡ï¼ˆç”¨äºå­˜å‚¨APIå¯†é’¥ç­‰æ•æ„Ÿä¿¡æ¯ï¼‰# ==================== ç¬¬ä¸€éƒ¨åˆ†ï¼šè®¾ç½®è¯­è¨€æ¨¡å‹å’Œå¯¹è¯é“¾ ====================# 1. åˆå§‹åŒ–èŠå¤©æ¨¡å‹# ä½¿ç”¨&quot;deepseek-chat&quot;æ¨¡å‹ï¼Œæ¨¡å‹æä¾›è€…ä¸º&quot;deepseek&quot;model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)# 2. åˆ›å»ºè¾“å‡ºè§£æå™¨ï¼ˆå°†æ¨¡å‹è¾“å‡ºè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼‰parser = StrOutputParser()# 3. åˆ›å»ºèŠå¤©æç¤ºæ¨¡æ¿# è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªç³»ç»Ÿæ¶ˆæ¯ï¼ˆè®¾ç½®AIåŠ©æ‰‹çš„è§’è‰²ï¼‰å’Œä¸€ä¸ªæ¶ˆæ¯å ä½ç¬¦ï¼ˆç”¨äºä¼ å…¥å¯¹è¯å†å²ï¼‰chatbot_prompt = ChatPromptTemplate.from_messages(    [        SystemMessage(content=&quot;ä½ å«å°æ©˜ï¼Œæ˜¯ä¸€åä¹äºåŠ©äººçš„åŠ©æ‰‹ã€‚&quot;),  # ç³»ç»Ÿè§’è‰²è®¾å®š        MessagesPlaceholder(variable_name=&quot;messages&quot;),  # æ‰‹åŠ¨ä¼ å…¥å†å²å¯¹è¯æ¶ˆæ¯    ])# 4. åˆ›å»ºå¯¹è¯é“¾# ä½¿ç”¨LangChainçš„LCELï¼ˆLangChain Expression Languageï¼‰å°†æç¤ºæ¨¡æ¿ã€æ¨¡å‹å’Œè§£æå™¨ç»„åˆèµ·æ¥# æµç¨‹ï¼šæç¤ºæ¨¡æ¿ -&gt; æ¨¡å‹ -&gt; è¾“å‡ºè§£æå™¨qa_chain = chatbot_prompt | model | parser# ==================== ç¬¬äºŒéƒ¨åˆ†ï¼šåˆ›å»ºGradioç•Œé¢ ====================# å®šä¹‰CSSæ ·å¼ï¼ˆç”¨äºç¾åŒ–ç•Œé¢ï¼‰CSS = &quot;&quot;&quot;.main-container &#123;max-width: 1200px; margin: 0 auto; padding: 20px;&#125;  # ä¸»å®¹å™¨æ ·å¼.header-text &#123;text-align: center; margin-bottom: 20px;&#125;  # æ ‡é¢˜æ ·å¼&quot;&quot;&quot;# åˆ›å»ºèŠå¤©æœºå™¨äººç•Œé¢çš„å‡½æ•°def create_chatbot() -&gt; gr.Blocks:    # åˆ›å»ºä¸€ä¸ªGradio Blocksç•Œé¢ï¼ˆæ¯”Interfaceæ›´çµæ´»ï¼‰    with gr.Blocks(title=&quot;DeepSeek Chat&quot;, css=CSS) as demo:  # è®¾ç½®æ ‡é¢˜å’ŒCSS        # ä¸»å®¹å™¨ï¼ˆä½¿ç”¨ä¸Šé¢å®šä¹‰çš„CSSç±»ï¼‰        with gr.Column(elem_classes=[&quot;main-container&quot;]):            # æ ‡é¢˜            gr.Markdown(&quot;# æµå¼å¯¹è¯æœºå™¨äºº&quot;, elem_classes=[&quot;header-text&quot;])                        # èŠå¤©æœºå™¨äººç»„ä»¶            chatbot = gr.Chatbot(                height=500,  # é«˜åº¦500åƒç´                 show_copy_button=True,  # æ˜¾ç¤ºå¤åˆ¶æŒ‰é’®                avatar_images=(  # è®¾ç½®å¤´åƒ                    &quot;https://smallgoodgood.top/images/23.jpg&quot;,  # ç”¨æˆ·å¤´åƒ                    &quot;https://smallgoodgood.top/images/23.jpg&quot;,  # AIå¤´åƒ                )            )                        # è¾“å…¥æ¡†å’ŒæŒ‰é’®            msg = gr.Textbox(placeholder=&quot;è¯·è¾“å…¥æ‚¨çš„é—®é¢˜...&quot;, container=False, scale=7)  # æ–‡æœ¬è¾“å…¥æ¡†            submit = gr.Button(&quot;å‘é€&quot;, scale=1, variant=&quot;primary&quot;)  # å‘é€æŒ‰é’®ï¼ˆä¸»è¦æ ·å¼ï¼‰            clear = gr.Button(&quot;æ¸…ç©º&quot;, scale=1)  # æ¸…ç©ºæŒ‰é’®        # ---------------  çŠ¶æ€ç®¡ç†ï¼šä¿å­˜ messages_list  ---------------        # Gradioçš„Stateç»„ä»¶ç”¨äºä¿å­˜å¯¹è¯å†å²ï¼ˆçœŸæ­£çš„Messageå¯¹è±¡åˆ—è¡¨ï¼‰        state = gr.State([])        # ---------------  ä¸»å“åº”å‡½æ•°ï¼ˆæµå¼å¤„ç†ï¼‰ ----------------------        async def respond(user_msg: str, chat_hist: list, messages_list: list):            &quot;&quot;&quot;            å¤„ç†ç”¨æˆ·è¾“å…¥å¹¶ç”ŸæˆAIå›å¤ï¼ˆæµå¼ï¼‰            å‚æ•°:                user_msg: ç”¨æˆ·è¾“å…¥çš„æ¶ˆæ¯                chat_hist: èŠå¤©å†å²ï¼ˆç”¨äºæ˜¾ç¤ºåœ¨ç•Œé¢ä¸Šï¼‰                messages_list: ä¿å­˜çš„Messageå¯¹è±¡åˆ—è¡¨ï¼ˆç”¨äºæ¨¡å‹å¤„ç†ï¼‰            è¿”å›:                æ›´æ–°åçš„msg, chat_histå’Œmessages_list            &quot;&quot;&quot;                        # 1) æ£€æŸ¥ç”¨æˆ·è¾“å…¥æ˜¯å¦ä¸ºç©º            if not user_msg.strip():                yield &quot;&quot;, chat_hist, messages_list  # å¦‚æœä¸ºç©ºï¼Œç›´æ¥è¿”å›                return            # 2) å°†ç”¨æˆ·æ¶ˆæ¯æ·»åŠ åˆ°å†å²ä¸­            # åˆ›å»ºHumanMessageå¯¹è±¡ï¼ˆè¡¨ç¤ºç”¨æˆ·æ¶ˆæ¯ï¼‰            messages_list.append(HumanMessage(content=user_msg))            # æ›´æ–°èŠå¤©å†å²ï¼ˆç”¨äºç•Œé¢æ˜¾ç¤ºï¼‰            chat_hist = chat_hist + [(user_msg, None)]            yield &quot;&quot;, chat_hist, messages_list  # å…ˆæ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯            # 3) æµå¼è°ƒç”¨æ¨¡å‹ç”Ÿæˆå›å¤            partial = &quot;&quot;  # ç”¨äºç´¯ç§¯æ¨¡å‹çš„æµå¼è¾“å‡º            # å¼‚æ­¥æµå¼è°ƒç”¨å¯¹è¯é“¾            async for chunk in qa_chain.astream(&#123;&quot;messages&quot;: messages_list&#125;):                partial += chunk  # ç´¯ç§¯æ¨¡å‹è¾“å‡º                # æ›´æ–°æœ€åä¸€æ¡AIå›å¤ï¼ˆå®ç°æµå¼æ•ˆæœï¼‰                chat_hist[-1] = (user_msg, partial)                yield &quot;&quot;, chat_hist, messages_list  # å®æ—¶æ›´æ–°ç•Œé¢            # 4) å°†å®Œæ•´å›å¤åŠ å…¥å†å²ï¼Œå¹¶è£å‰ªåˆ°æœ€è¿‘50æ¡ï¼ˆé˜²æ­¢å†…å­˜å ç”¨è¿‡å¤§ï¼‰            messages_list.append(AIMessage(content=partial))  # åˆ›å»ºAIMessageå¯¹è±¡            messages_list = messages_list[-50:]  # åªä¿ç•™æœ€è¿‘50æ¡æ¶ˆæ¯            # 5) æœ€ç»ˆè¿”å›ï¼ˆGradioéœ€è¦æŠŠæ–°çš„stateä¼ å›ï¼‰            yield &quot;&quot;, chat_hist, messages_list        # ---------------  æ¸…ç©ºå†å²å‡½æ•° -------------------------------        def clear_history():            &quot;&quot;&quot;æ¸…ç©ºèŠå¤©å†å²&quot;&quot;&quot;            return [], &quot;&quot;, []  # è¿”å›ç©ºåˆ—è¡¨ï¼Œåˆ†åˆ«å¯¹åº”: chatbot, msgè¾“å…¥æ¡†, messages_list        # ---------------  äº‹ä»¶ç»‘å®š ------------------------------        # ç»‘å®šè¾“å…¥æ¡†çš„å›è½¦äº‹ä»¶å’Œå‘é€æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶        msg.submit(respond, [msg, chatbot, state], [msg, chatbot, state])        submit.click(respond, [msg, chatbot, state], [msg, chatbot, state])        # ç»‘å®šæ¸…ç©ºæŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶        clear.click(clear_history, outputs=[chatbot, msg, state])    return demo  # è¿”å›åˆ›å»ºçš„Gradioç•Œé¢# ==================== ç¬¬ä¸‰éƒ¨åˆ†ï¼šå¯åŠ¨åº”ç”¨ ====================# åˆ›å»ºèŠå¤©æœºå™¨äººç•Œé¢demo = create_chatbot()# å¯åŠ¨åº”ç”¨# å‚æ•°è¯´æ˜:# server_name=&quot;127.0.0.1&quot; - æœ¬åœ°è¿è¡Œ# server_port=7860 - ä½¿ç”¨7860ç«¯å£# share=False - ä¸ç”Ÿæˆå…¬å¼€é“¾æ¥# debug=True - è°ƒè¯•æ¨¡å¼demo.launch(server_name=&quot;127.0.0.1&quot;, server_port=7860, share=False, debug=True)\n\nè¿è¡Œåï¼Œåœ¨æµè§ˆå™¨è®¿é—®http://127.0.0.1:7860å³å¯è¿›è¡Œé—®ç­”äº¤äº’ã€‚\nå½“ç„¶è¿™åªæ˜¯æœ€ç®€å•çš„é—®ç­”æœºå™¨äººå®ç°å½¢å¼ï¼Œå®é™…ä¸Šä¼ä¸šåº”ç”¨çš„é—®ç­”æœºå™¨äººå¾€å¾€éœ€è¦æ›´åŠ å¤æ‚çš„é€»è¾‘ï¼Œæ¯”å¦‚ç”¨æˆ·æƒé™ç®¡ç†ã€ä¸Šä¸‹æ–‡è®°å¿†ç­‰\nå››ã€LangChain æ¥å…¥å·¥å…·æµç¨‹åœ¨LangChainç”Ÿæ€ä¸­ï¼Œæ—¢æœ‰æµ·é‡ä¸°å¯Œçš„å†…ç½®å·¥å…·ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ¥å…¥è‡ªå®šä¹‰å·¥å…·ï¼Œä¸ä»…èƒ½é€šè¿‡æ­å»ºä¸€ä¸ªä¸ªé“¾ï¼ˆChainï¼‰å°†å·¥å…·å°è£…åœ¨å¯¹åº”çš„å·¥ä½œæµä¸­ï¼Œä¹Ÿèƒ½å€ŸåŠ©LangChain AgentåŠŸèƒ½ï¼Œå®æ—¶çµæ´»åˆ›å»ºä¸åŒçš„Chainæ¥å®Œæˆå¤æ‚å·¥å…·è°ƒç”¨ï¼Œç”šè‡³è¿˜å¯ä»¥ä½¿ç”¨æ›´é«˜çº§çš„LangGraphè¿›è¡Œå·¥ä½œæµç¼–æ’ã€‚\næœ¬å°èŠ‚æˆ‘ä»¬å°†é¦–å…ˆä»‹ç»å¦‚ä½•åœ¨LangChainä¸­æ¥å…¥å¤–éƒ¨å·¥å…·ï¼Œç„¶åä»ä¸‹ä¸€å°èŠ‚å¼€å§‹ï¼Œæˆ‘ä»¬ä¼šè¿›ä¸€æ­¥ä»‹ç»å¦‚ä½•ä½¿ç”¨LangChain Agentåº“æ¥æ­å»ºæ›´åŠ å¤æ‚çš„å·¥ä½œæµã€‚\nè¿™é‡Œæˆ‘ä»¬é¦–å…ˆä»‹ç»æœ€åŸºæœ¬çš„LangChainæ¥å…¥å·¥å…·æµç¨‹ã€‚åœ¨MCPçˆ†ç«ä¹‹å‰ï¼ŒLangChianç”Ÿæ€ä¸­å°±å·²ç»å†…ç½®é›†æˆäº†éå¸¸å¤šçš„å®ç”¨å·¥å…·ï¼Œå¼€å‘è€…å¯ä»¥å¿«é€Ÿè°ƒç”¨è¿™äº›å·¥å…·å®Œæˆæ›´åŠ å¤æ‚å·¥ä½œæµçš„å¼€å‘ã€‚\nLangChainå†…ç½®å·¥å…·åˆ—è¡¨\næˆ‘ä»¬å°±ä»¥å…¶ä¸­ä»£ç è§£é‡Šå™¨ä¸ºä¾‹ï¼Œæ¥ä»‹ç»å¦‚ä½•å°†å†…ç½®å·¥å…·æ¥å…¥LangChainçš„å·¥ä½œæµä¸­ã€‚\npip install -qU langchain-community langchain-experimental pandas\n\nTelcoæ•°æ®é›†æ˜¯Kaggleåˆ†äº«çš„ä¸€ä¸ªé«˜åˆ†æ•°æ®é›†ï¼Œæ˜¯Kaggleå¹³å°ä¸Šéå¸¸ç»å…¸çš„å›´ç»•åæ€æ•°æ®é›†å»ºæ¨¡çš„æ•°æ®é›†ã€‚è¯¥æ•°æ®æºè‡ªIBMå•†ä¸šç¤¾åŒºï¼ˆIBM Business Analytics Communityï¼‰ä¸Šåˆ†äº«çš„æ•°æ®é›†ï¼Œç”¨äºç¤¾åŒºæˆå‘˜å†…éƒ¨å­¦ä¹ ä½¿ç”¨ã€‚\næ ¹æ®IBMå•†ä¸šç¤¾åŒºåˆ†äº«å›¢é˜Ÿæè¿°ï¼Œè¯¥æ•°æ®é›†ä¸ºæŸç”µä¿¡å…¬å¸åœ¨åŠ åˆ©ç¦å°¼äºšä¸º7000ä½™ä½ç”¨æˆ·ï¼ˆä¸ªäºº&#x2F;å®¶åº­ï¼‰æä¾›ç”µè¯å’Œäº’è”ç½‘æœåŠ¡çš„ç›¸å…³è®°å½•ã€‚ç”±äºè¯¥æ•°æ®é›†å¹¶ä¸æ˜¯ç«èµ›æ•°æ®é›†ï¼Œå› æ­¤æ•°æ®é›†çš„ä¸‹è½½æ–¹å¼ç›¸å¯¹å®¹æ˜“ï¼Œå®˜ç½‘ä¹Ÿæä¾›äº†ç½‘é¡µä¸‹è½½é€‰é¡¹ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¯¥æ•°æ®é›†çš„Kaggleä¸»é¡µçœ‹åˆ°æ•°æ®é›†çš„ç›¸å…³ä¿¡æ¯ä»¥åŠä¸‹è½½åœ°å€ã€‚å½“ç„¶ï¼Œç†Ÿç»ƒä½¿ç”¨Kaggleä¸»é¡µè·å–æ•°æ®å’ŒæŒ–æ˜ä¿¡æ¯ï¼ˆè€Œä¸æ˜¯å€ŸåŠ©ç¬¬ä¸‰æ–¹æ¸ é“ï¼‰ï¼Œä¹Ÿæ˜¯ç®—æ³•å·¥ç¨‹å¸ˆå¿…å¤‡æŠ€èƒ½ä¹‹ä¸€ã€‚\næˆ‘ä»¬å¯ä»¥å…ˆç”¨ä»¥ä¸‹ä»£ç æŸ¥çœ‹æ•°æ®é›†çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼š\nimport pandas as pddataset = pd.read_csv(&#x27;WA_Fn-UseC_-Telco-Customer-Churn.csv&#x27;)pd.set_option(&#x27;max_colwidth&#x27;,200)print(dataset.head(5))dataset.info()\n\nå…¶ä¸­æ•°æ®é›†å„å­—æ®µè§£é‡Šå¦‚ä¸‹ï¼š\n\n\n\nå­—æ®µ\nè§£é‡Š\n\n\n\ncustomerID\nç”¨æˆ·ID\n\n\ngender\næ€§åˆ«\n\n\nSeniorCitizen\næ˜¯å¦æ˜¯è€å¹´äººï¼ˆ1ä»£è¡¨æ˜¯ï¼‰\n\n\nPartner\næ˜¯å¦æœ‰é…å¶ï¼ˆYes or Noï¼‰\n\n\nDependents\næ˜¯å¦ç»æµç‹¬ç«‹ï¼ˆYes or Noï¼‰\n\n\ntenure\nç”¨æˆ·å…¥ç½‘æ—¶é—´\n\n\nPhoneService\næ˜¯å¦å¼€é€šç”µè¯ä¸šåŠ¡ï¼ˆYes or Noï¼‰\n\n\nMultipleLines\næ˜¯å¦å¼€é€šå¤šæ¡ç”µè¯ä¸šåŠ¡ï¼ˆYes ã€ No or No phoneserviceï¼‰\n\n\nInternetService\næ˜¯å¦å¼€é€šäº’è”ç½‘æœåŠ¡ï¼ˆNoã€DSLæ•°å­—ç½‘ç»œæˆ–filber poticå…‰çº¿ç½‘ç»œï¼‰\n\n\nOnlineSecurity\næ˜¯å¦å¼€é€šç½‘ç»œå®‰å…¨æœåŠ¡ï¼ˆYesã€No or No internetserviceï¼‰\n\n\nOnlineBackup\næ˜¯å¦å¼€é€šåœ¨çº¿å¤‡ä»½æœåŠ¡ï¼ˆYesã€No or No internetserviceï¼‰\n\n\nDeviceProtection\næ˜¯å¦å¼€é€šè®¾å¤‡ä¿æŠ¤æœåŠ¡ï¼ˆYesã€No or No internetserviceï¼‰\n\n\nTechSupport\næ˜¯å¦å¼€é€šæŠ€æœ¯æ”¯æŒä¸šåŠ¡ï¼ˆYesã€No or No internetserviceï¼‰\n\n\nStreamingTV\næ˜¯å¦å¼€é€šç½‘ç»œç”µè§†ï¼ˆYesã€No or No internetserviceï¼‰\n\n\nStreamingMovies\næ˜¯å¦å¼€é€šç½‘ç»œç”µå½±ï¼ˆYesã€No or No internetserviceï¼‰\n\n\nContract\nåˆåŒç­¾è®¢æ–¹å¼ï¼ˆæŒ‰æœˆã€æŒ‰å¹´æˆ–è€…ä¸¤å¹´ï¼‰\n\n\nPaperlessBilling\næ˜¯å¦å¼€é€šç”µå­è´¦å•ï¼ˆYes or Noï¼‰\n\n\nPaymentMethod\nä»˜æ¬¾æ–¹å¼ï¼ˆbank transferã€credit cardã€electronic checkã€mailed checkï¼‰\n\n\nMonthlyCharges\næœˆåº¦è´¹ç”¨\n\n\nTotalCharges\næ€»è´¹ç”¨\n\n\nChurn\næ˜¯å¦æµå¤±ï¼ˆYes or Noï¼‰\n\n\næ¥ä¸‹æ¥æµ‹è¯•LangChainå†…ç½®ä»£ç è§£é‡Šå™¨å·¥å…·åŠŸèƒ½ï¼š\n# å¯¼å…¥å¿…è¦çš„åº“import pandas as pd  # ç”¨äºæ•°æ®å¤„ç†å’Œåˆ†æçš„æ ¸å¿ƒåº“from langchain_experimental.tools import PythonAstREPLTool  # LangChainçš„å®éªŒæ€§å·¥å…·ï¼Œå…è®¸å®‰å…¨æ‰§è¡ŒPythonä»£ç # è¯»å–CSVæ–‡ä»¶åˆ°Pandas DataFrame# è¿™æ˜¯ä¸€ä¸ªç”µä¿¡å®¢æˆ·æµå¤±æ•°æ®é›†(æ¥è‡ªKaggle)df = pd.read_csv(&#x27;WA_Fn-UseC_-Telco-Customer-Churn.csv&#x27;)# åˆ›å»ºPythonAstREPLToolå·¥å…·å®ä¾‹# localså‚æ•°å°†å½“å‰ä½œç”¨åŸŸçš„å˜é‡(è¿™é‡Œåªæœ‰df)ä¼ é€’åˆ°å·¥å…·çš„æ‰§è¡Œç¯å¢ƒä¸­# è¿™æ ·å·¥å…·å†…éƒ¨å°±å¯ä»¥è®¿é—®è¿™ä¸ªDataFrametool = PythonAstREPLTool(locals=&#123;&quot;df&quot;: df&#125;)# ä½¿ç”¨LangChainå†…ç½®ä»£ç è§£é‡Šå™¨å·¥å…·æ‰§è¡ŒPythonä»£ç å­—ç¬¦ä¸²# è¿™é‡Œè®¡ç®—&#x27;SeniorCitizen&#x27;åˆ—çš„å¹³å‡å€¼# invokeæ–¹æ³•ä¼šå®‰å…¨åœ°æ‰§è¡Œä¼ å…¥çš„ä»£ç å¹¶è¿”å›ç»“æœprint(tool.invoke(&quot;df[&#x27;SeniorCitizen&#x27;].mean()&quot;))  # è¾“å‡ºè€å¹´å®¢æˆ·æ¯”ä¾‹çš„å¹³å‡å€¼# ç›´æ¥ä½¿ç”¨Pandasè®¡ç®—&#x27;MonthlyCharges&#x27;åˆ—çš„å¹³å‡å€¼# è¿™æ˜¯å¸¸è§„çš„Pandasæ“ä½œæ–¹å¼ï¼Œä¸ä½¿ç”¨LangChainå·¥å…·print(df[&#x27;MonthlyCharges&#x27;].mean())  # è¾“å‡ºæœˆè´¹ç”¨çš„å¹³å‡å€¼\n\nPythonAstREPLToolæ˜¯ä¸€ä¸ªä»£ç æ‰§è¡Œå·¥å…·ï¼Œç‰¹ç‚¹ï¼š\n\nå®‰å…¨åœ°åœ¨æ²™ç®±ä¸­æ‰§è¡ŒPythonä»£ç \nå¯ä»¥é™åˆ¶å¯è®¿é—®çš„å˜é‡å’Œå‡½æ•°\nå¸¸ç”¨äºAIä»£ç†(Agent)ä¸­è®©AIåŠ¨æ€æ‰§è¡Œä»£ç \n\né€šè¿‡localså‚æ•°ï¼Œæˆ‘ä»¬åªæš´éœ²dfå˜é‡ç»™å·¥å…·\nç„¶åinvoke()æ–¹æ³•æ‰§è¡Œä»£ç å­—ç¬¦ä¸²å¹¶è¿”å›ç»“æœ\næ¥ä¸‹æ¥åˆ›å»ºLangChainå·¥ä½œæµå¹¶ç»‘å®šå†…ç½®å·¥å…·\nimport pandas as pd  # ç”¨äºæ•°æ®å¤„ç†å’Œåˆ†æçš„æ ¸å¿ƒåº“from langchain_experimental.tools import PythonAstREPLTool  # LangChainçš„å®éªŒæ€§å·¥å…·ï¼Œå…è®¸å®‰å…¨æ‰§è¡ŒPythonä»£ç from langchain.chat_models import init_chat_modelfrom dotenv import load_dotenvload_dotenv(override=True)model  = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)df = pd.read_csv(&#x27;WA_Fn-UseC_-Telco-Customer-Churn.csv&#x27;)tool = PythonAstREPLTool(locals=&#123;&quot;df&quot;: df&#125;)llm_with_tools = model.bind_tools([tool])response = llm_with_tools.invoke(    &quot;æˆ‘æœ‰ä¸€å¼ è¡¨ï¼Œåä¸º&#x27;df&#x27;ï¼Œè¯·å¸®æˆ‘è®¡ç®—MonthlyChargeså­—æ®µçš„å‡å€¼ã€‚&quot;)print(response)\n\né€šè¿‡è§‚å¯Ÿè¾“å‡ºï¼Œæ­¤æ—¶æˆ‘ä»¬å‘ç°ï¼ŒLangChainå›å¤çš„ç»“æœå°±ä¸å†æ˜¯ç®€å•çš„æ–‡å­—å†…å®¹ï¼Œè€Œæ˜¯ä¸€æ¡è°ƒç”¨å¤–éƒ¨å·¥å…·çš„æ¶ˆæ¯ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•å°†è¿™æ¡æ¶ˆæ¯é‡Œé¢æ¶‰åŠåˆ°ä»£ç è¿è¡Œçš„æ ¸å¿ƒå‚æ•°æå–å‡ºæ¥ï¼š\nimport pandas as pd  # ç”¨äºæ•°æ®å¤„ç†å’Œåˆ†æçš„æ ¸å¿ƒåº“from langchain_experimental.tools import PythonAstREPLTool  # LangChainçš„å®éªŒæ€§å·¥å…·ï¼Œå…è®¸å®‰å…¨æ‰§è¡ŒPythonä»£ç from langchain_core.output_parsers.openai_tools import JsonOutputKeyToolsParserfrom langchain.chat_models import init_chat_modelfrom dotenv import load_dotenvload_dotenv(override=True)model  = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)df = pd.read_csv(&#x27;WA_Fn-UseC_-Telco-Customer-Churn.csv&#x27;)tool = PythonAstREPLTool(locals=&#123;&quot;df&quot;: df&#125;)parser = JsonOutputKeyToolsParser(key_name=tool.name, first_tool_only=True)llm_with_tools = model.bind_tools([tool]) | parserresponse = llm_with_tools.invoke(    &quot;æˆ‘æœ‰ä¸€å¼ è¡¨ï¼Œåä¸º&#x27;df&#x27;ï¼Œè¯·å¸®æˆ‘è®¡ç®—MonthlyChargeså­—æ®µçš„å‡å€¼ã€‚&quot;)print(response)\n\næ­¤æ—¶è¾“å‡ºï¼š\n&#123;&#x27;query&#x27;: &quot;df[&#x27;MonthlyCharges&#x27;].mean()&quot;&#125;\n\næ¥ç€é€šè¿‡è®¾ç½®æç¤ºè¯æ¨¡æ¿ï¼Œå†åœ¨å½“å‰é“¾ä¸­åŠ å…¥ä¸€ä¸ªtoolå¤–éƒ¨å‡½æ•°çš„ç¯èŠ‚ï¼Œå³å¯è®©å¤§æ¨¡å‹è¾“å‡ºçš„å‚æ•°ç›´æ¥å¸¦å…¥åˆ°toolä¸­è¿›è¡Œè¿è¡Œ\nimport pandas as pd  # ç”¨äºæ•°æ®å¤„ç†å’Œåˆ†æçš„æ ¸å¿ƒåº“from langchain_core.prompts import ChatPromptTemplatefrom langchain_experimental.tools import PythonAstREPLTool  # LangChainçš„å®éªŒæ€§å·¥å…·ï¼Œå…è®¸å®‰å…¨æ‰§è¡ŒPythonä»£ç from langchain_core.output_parsers.openai_tools import JsonOutputKeyToolsParserfrom langchain.chat_models import init_chat_modelfrom dotenv import load_dotenvload_dotenv(override=True)system = f&quot;&quot;&quot;ä½ å¯ä»¥è®¿é—®ä¸€ä¸ªåä¸º `df` çš„ pandas æ•°æ®æ¡†ï¼Œä½ å¯ä»¥ä½¿ç”¨df.head().to_markdown() æŸ¥çœ‹æ•°æ®é›†çš„åŸºæœ¬ä¿¡æ¯ï¼Œ \\è¯·æ ¹æ®ç”¨æˆ·æå‡ºçš„é—®é¢˜ï¼Œç¼–å†™ Python ä»£ç æ¥å›ç­”ã€‚åªè¿”å›ä»£ç ï¼Œä¸è¿”å›å…¶ä»–å†…å®¹ã€‚åªå…è®¸ä½¿ç”¨ pandas å’Œå†…ç½®åº“ã€‚&quot;&quot;&quot;prompt = ChatPromptTemplate([    (&quot;system&quot;, system),    (&quot;user&quot;, &quot;&#123;question&#125;&quot;)])model  = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)df = pd.read_csv(&#x27;WA_Fn-UseC_-Telco-Customer-Churn.csv&#x27;)tool = PythonAstREPLTool(locals=&#123;&quot;df&quot;: df&#125;)llm_with_tools = model.bind_tools([tool])parser = JsonOutputKeyToolsParser(key_name=tool.name, first_tool_only=True)chain = prompt | llm_with_tools | parser | toolprint(chain.invoke(&#123;&quot;question&quot;: &quot;è¯·å¸®æˆ‘è®¡ç®—MonthlyChargeså­—æ®µçš„å‡å€¼ã€‚&quot;&#125;))\n\nåŒæ—¶ï¼ŒæŒ‰ç…§æ­¤å‰ä»‹ç»çš„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨é“¾æ¡ä¸­åŠ å…¥ä¸€ä¸ªæ‰“å°çš„ç¯èŠ‚ï¼Œè®©æ¨¡å‹å°†ç¼–å†™çš„Pythonä»£ç è¿›è¡Œæ‰“å°ï¼š\nimport pandas as pd  # ç”¨äºæ•°æ®å¤„ç†å’Œåˆ†æçš„æ ¸å¿ƒåº“from langchain_core.prompts import ChatPromptTemplatefrom langchain_core.runnables import RunnableLambdafrom langchain_experimental.tools import PythonAstREPLTool  # LangChainçš„å®éªŒæ€§å·¥å…·ï¼Œå…è®¸å®‰å…¨æ‰§è¡ŒPythonä»£ç from langchain_core.output_parsers.openai_tools import JsonOutputKeyToolsParserfrom langchain.chat_models import init_chat_modelfrom dotenv import load_dotenvload_dotenv(override=True)system = f&quot;&quot;&quot;ä½ å¯ä»¥è®¿é—®ä¸€ä¸ªåä¸º `df` çš„ pandas æ•°æ®æ¡†ï¼Œä½ å¯ä»¥ä½¿ç”¨df.head().to_markdown() æŸ¥çœ‹æ•°æ®é›†çš„åŸºæœ¬ä¿¡æ¯ï¼Œ \\è¯·æ ¹æ®ç”¨æˆ·æå‡ºçš„é—®é¢˜ï¼Œç¼–å†™ Python ä»£ç æ¥å›ç­”ã€‚åªè¿”å›ä»£ç ï¼Œä¸è¿”å›å…¶ä»–å†…å®¹ã€‚åªå…è®¸ä½¿ç”¨ pandas å’Œå†…ç½®åº“ã€‚&quot;&quot;&quot;prompt = ChatPromptTemplate([    (&quot;system&quot;, system),    (&quot;user&quot;, &quot;&#123;question&#125;&quot;)])model  = init_chat_model(model=&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)df = pd.read_csv(&#x27;WA_Fn-UseC_-Telco-Customer-Churn.csv&#x27;)tool = PythonAstREPLTool(locals=&#123;&quot;df&quot;: df&#125;)llm_with_tools = model.bind_tools([tool])parser = JsonOutputKeyToolsParser(key_name=tool.name, first_tool_only=True)def code_print(res):    print(&quot;å³å°†è¿è¡ŒPythonä»£ç :&quot;, res[&#x27;query&#x27;])    return resprint_node = RunnableLambda(code_print)chain = prompt | llm_with_tools | parser | print_node | toolprint(chain.invoke(&#123;&quot;question&quot;: &quot;è¯·å¸®æˆ‘åˆ†ægenderã€SeniorCitizenå’ŒChurnä¸‰ä¸ªå­—æ®µä¹‹é—´çš„ç›¸å…³å…³ç³»ã€‚&quot;&#125;))\n\nè‡³æ­¤ï¼Œä¸€ä¸ªç®€å•çš„åŒ…å«å®˜æ–¹å†…ç½®å·¥å…·çš„ä»£ç è§£é‡Šå™¨å·¥ä½œæµå°±æ­å»ºå®Œæˆäº†ã€‚\næ¥ä¸‹æ¥æ˜¯LangChainæ¥å…¥è‡ªå®šä¹‰å¤–éƒ¨å·¥ä½œæµç¨‹\nè¿™é‡Œæˆ‘ä»¬ä»¥å®æ—¶è·å–å¤©æ°”æ•°æ®ä¸ºä¾‹ï¼Œå°è¯•åˆ›å»ºä¸€ä¸ªå¤–éƒ¨å‡½æ•°ï¼Œå¹¶å°†å…¶å°è£…ä¸ºLangChiançš„ä¸€é¡¹åŸºç¡€å·¥ä½œã€‚åœ¨langChainä¸­ï¼Œå¦‚æœæƒ³è¦æŠŠä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œå˜æˆä¸€ä¸ªå¯ä»¥è¢«å¤§æ¨¡å‹è°ƒç”¨çš„å·¥å…·ï¼Œåªéœ€è¦å°†å‡½æ•°åŒ…è£…æˆä¸€ä¸ªToolå¯¹è±¡å³å¯ã€‚\nè¿™é‡Œæˆ‘ä»¬é¦–å…ˆéœ€è¦è·å–OpenWeather API Keyï¼Œå¹¶å†™å…¥.envæ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿åç»­è¿›è¡Œå¤©æ°”æŸ¥è¯¢\næµè§ˆå™¨è®¿é—®openweathermapå®˜æ–¹ç½‘ç«™\næ¥ç€æ³¨å†Œå¹¶ç»‘å®šé‚®ç®±\næœ€åè¿›å…¥openweathermapå®˜æ–¹ç½‘ç«™ï¼Œç‚¹å‡»ä½ çš„ç”¨æˆ·åï¼Œé€‰æ‹©â€œMy API keysâ€ï¼Œå³å¯è·å–OpenWeather API Key\nç„¶åå…ˆå°è¯•åˆ›å»ºè¿™ä¸ªå¤–éƒ¨å‡½æ•°è¿›è¡Œæµ‹è¯•ï¼š\nimport osimport requests,jsonfrom dotenv import load_dotenvload_dotenv(override=True)OPENWEATHER_API_KEY = os.getenv(&quot;OPENWEATHER_API_KEY&quot;)print(&quot;Loaded API Key:&quot;, OPENWEATHER_API_KEY)  # æ£€æŸ¥æ˜¯å¦éNonedef get_weather(loc):    &quot;&quot;&quot;    æŸ¥è¯¢å³æ—¶å¤©æ°”å‡½æ•°    :param loc: å¿…è¦å‚æ•°ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæŸ¥è¯¢å¤©æ°”çš„å…·ä½“åŸå¸‚åç§°ï¼Œ\\    æ³¨æ„ï¼Œä¸­å›½çš„åŸå¸‚éœ€è¦ç”¨å¯¹åº”åŸå¸‚çš„è‹±æ–‡åç§°ä»£æ›¿ï¼Œä¾‹å¦‚å¦‚æœéœ€è¦æŸ¥è¯¢åŒ—äº¬å¸‚å¤©æ°”ï¼Œåˆ™locå‚æ•°éœ€è¦è¾“å…¥&#x27;Beijing&#x27;ï¼›    :returnï¼šOpenWeather APIæŸ¥è¯¢å³æ—¶å¤©æ°”çš„ç»“æœï¼Œå…·ä½“URLè¯·æ±‚åœ°å€ä¸ºï¼šhttps://api.openweathermap.org/data/2.5/weather\\    è¿”å›ç»“æœå¯¹è±¡ç±»å‹ä¸ºè§£æä¹‹åçš„JSONæ ¼å¼å¯¹è±¡ï¼Œå¹¶ç”¨å­—ç¬¦ä¸²å½¢å¼è¿›è¡Œè¡¨ç¤ºï¼Œå…¶ä¸­åŒ…å«äº†å…¨éƒ¨é‡è¦çš„å¤©æ°”ä¿¡æ¯    &quot;&quot;&quot;    # Step 1.æ„å»ºè¯·æ±‚    url = &quot;https://api.openweathermap.org/data/2.5/weather&quot;    # Step 2.è®¾ç½®æŸ¥è¯¢å‚æ•°    params = &#123;        &quot;q&quot;: loc,        &quot;appid&quot;: os.getenv(&quot;OPENWEATHER_API_KEY&quot;),  # è¾“å…¥API key        &quot;units&quot;: &quot;metric&quot;,  # ä½¿ç”¨æ‘„æ°åº¦è€Œä¸æ˜¯åæ°åº¦        &quot;lang&quot;: &quot;zh_cn&quot;  # è¾“å‡ºè¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡    &#125;    # Step 3.å‘é€GETè¯·æ±‚    response = requests.get(url, params=params)    # Step 4.è§£æå“åº”    data = response.json()    return json.dumps(data)print(get_weather(&quot;Beijing&quot;))\n\næ³¨æ„ï¼šå¦‚æœè¿”å›401ï¼Œè¯·ä¸è¦æƒŠæ…Œï¼Œå› ä¸ºAPI Keyä¼šè¿‡ä¸€ä¼šå„¿ç”Ÿæ•ˆï¼Œæ—¶é—´ä¸€èˆ¬åœ¨ä¸€å°æ—¶å†…\nç´§æ¥ç€å°†å…¶å°è£…ä¸ºLangChainèƒ½å¤Ÿè¯†åˆ«çš„å¤–éƒ¨å‡½æ•°ï¼Œå¹¶ä¸”å¦‚æœæƒ³è®©å¤§æ¨¡å‹è°ƒç”¨æŸä¸€ä¸ªå¤–éƒ¨å·¥å…·ï¼Œéœ€è¦ä½¿ç”¨bind_toolsæ–¹æ³•ï¼Œå°†å·¥å…·ç»‘å®šåˆ°æ¨¡å‹ä¸Šã€‚æ¥ä¸‹æ¥ï¼Œä¾¿å¯ä»¥é€šè¿‡æ–°çš„llm_with_toolsæ¨¡å‹é€šè¿‡invokeæ–¹æ³•æ¥è°ƒç”¨æ¨¡å‹ã€‚è¿™ä¼šäº§ç”Ÿä¸€ä¸ªåŒ…å«tool_calls çš„æ¨¡å‹å“åº”ã€‚ä»£ç å¦‚ä¸‹ï¼š\nimport osimport requests,jsonfrom langchain.chat_models import init_chat_modelfrom langchain_core.tools import toolfrom dotenv import load_dotenvload_dotenv(override=True)# åˆå§‹åŒ–æ¨¡å‹model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)OPENWEATHER_API_KEY = os.getenv(&quot;OPENWEATHER_API_KEY&quot;)print(&quot;Loaded API Key:&quot;, OPENWEATHER_API_KEY)  # æ£€æŸ¥æ˜¯å¦éNone@tooldef get_weather(loc):    &quot;&quot;&quot;    æŸ¥è¯¢å³æ—¶å¤©æ°”å‡½æ•°    :param loc: å¿…è¦å‚æ•°ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæŸ¥è¯¢å¤©æ°”çš„å…·ä½“åŸå¸‚åç§°ï¼Œ\\    æ³¨æ„ï¼Œä¸­å›½çš„åŸå¸‚éœ€è¦ç”¨å¯¹åº”åŸå¸‚çš„è‹±æ–‡åç§°ä»£æ›¿ï¼Œä¾‹å¦‚å¦‚æœéœ€è¦æŸ¥è¯¢åŒ—äº¬å¸‚å¤©æ°”ï¼Œåˆ™locå‚æ•°éœ€è¦è¾“å…¥&#x27;Beijing&#x27;ï¼›    :returnï¼šOpenWeather APIæŸ¥è¯¢å³æ—¶å¤©æ°”çš„ç»“æœï¼Œå…·ä½“URLè¯·æ±‚åœ°å€ä¸ºï¼šhttps://api.openweathermap.org/data/2.5/weather\\    è¿”å›ç»“æœå¯¹è±¡ç±»å‹ä¸ºè§£æä¹‹åçš„JSONæ ¼å¼å¯¹è±¡ï¼Œå¹¶ç”¨å­—ç¬¦ä¸²å½¢å¼è¿›è¡Œè¡¨ç¤ºï¼Œå…¶ä¸­åŒ…å«äº†å…¨éƒ¨é‡è¦çš„å¤©æ°”ä¿¡æ¯    &quot;&quot;&quot;    # Step 1.æ„å»ºè¯·æ±‚    url = &quot;https://api.openweathermap.org/data/2.5/weather&quot;    # Step 2.è®¾ç½®æŸ¥è¯¢å‚æ•°    params = &#123;        &quot;q&quot;: loc,        &quot;appid&quot;: os.getenv(&quot;OPENWEATHER_API_KEY&quot;),  # è¾“å…¥API key        &quot;units&quot;: &quot;metric&quot;,  # ä½¿ç”¨æ‘„æ°åº¦è€Œä¸æ˜¯åæ°åº¦        &quot;lang&quot;: &quot;zh_cn&quot;  # è¾“å‡ºè¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡    &#125;    # Step 3.å‘é€GETè¯·æ±‚    response = requests.get(url, params=params)    # Step 4.è§£æå“åº”    data = response.json()    return json.dumps(data)print(get_weather.name)print(get_weather.description)print(get_weather.args)# å®šä¹‰ å¤©æ°”æŸ¥è¯¢ å·¥å…·å‡½æ•°tools = [get_weather]# å°†å·¥å…·ç»‘å®šåˆ°æ¨¡å‹llm_with_tools = model.bind_tools(tools)response = llm_with_tools.invoke(&quot;ä½ å¥½ï¼Œ è¯·é—®åŒ—äº¬çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ&quot;)print(response)print(response.additional_kwargs)\n\næˆ‘ä»¬ç»§ç»­è°ƒç”¨JsonOutputKeyToolsParserè¾“å‡ºè§£æå™¨æ¥å¤„ç†æ¨¡å‹å“åº”ã€‚å¹¶åŠ å…¥ä¸€ä¸ªtoolå¤–éƒ¨å‡½æ•°çš„ç¯èŠ‚ï¼Œå³å¯è®©å¤§æ¨¡å‹è¾“å‡ºçš„å‚æ•°ç›´æ¥å¸¦å…¥åˆ°toolä¸­è¿›è¡Œè¿è¡Œï¼Œå°±èƒ½é¡ºåˆ©çš„å°†ç”¨æˆ·çš„éœ€æ±‚è½¬åŒ–ä¸ºå¤©æ°”æŸ¥è¯¢ï¼Œå¹¶å®Œæˆå¤–éƒ¨å·¥å…·å®Œæˆè‡ªåŠ¨è¿è¡Œ\nimport osimport requests,jsonfrom langchain.chat_models import init_chat_modelfrom langchain_core.tools import toolfrom langchain_core.output_parsers.openai_tools import JsonOutputKeyToolsParserfrom dotenv import load_dotenvload_dotenv(override=True)# åˆå§‹åŒ–æ¨¡å‹model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)OPENWEATHER_API_KEY = os.getenv(&quot;OPENWEATHER_API_KEY&quot;)print(&quot;Loaded API Key:&quot;, OPENWEATHER_API_KEY)  # æ£€æŸ¥æ˜¯å¦éNone@tooldef get_weather(loc):    &quot;&quot;&quot;    æŸ¥è¯¢å³æ—¶å¤©æ°”å‡½æ•°    :param loc: å¿…è¦å‚æ•°ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæŸ¥è¯¢å¤©æ°”çš„å…·ä½“åŸå¸‚åç§°ï¼Œ\\    æ³¨æ„ï¼Œä¸­å›½çš„åŸå¸‚éœ€è¦ç”¨å¯¹åº”åŸå¸‚çš„è‹±æ–‡åç§°ä»£æ›¿ï¼Œä¾‹å¦‚å¦‚æœéœ€è¦æŸ¥è¯¢åŒ—äº¬å¸‚å¤©æ°”ï¼Œåˆ™locå‚æ•°éœ€è¦è¾“å…¥&#x27;Beijing&#x27;ï¼›    :returnï¼šOpenWeather APIæŸ¥è¯¢å³æ—¶å¤©æ°”çš„ç»“æœï¼Œå…·ä½“URLè¯·æ±‚åœ°å€ä¸ºï¼šhttps://api.openweathermap.org/data/2.5/weather\\    è¿”å›ç»“æœå¯¹è±¡ç±»å‹ä¸ºè§£æä¹‹åçš„JSONæ ¼å¼å¯¹è±¡ï¼Œå¹¶ç”¨å­—ç¬¦ä¸²å½¢å¼è¿›è¡Œè¡¨ç¤ºï¼Œå…¶ä¸­åŒ…å«äº†å…¨éƒ¨é‡è¦çš„å¤©æ°”ä¿¡æ¯    &quot;&quot;&quot;    # Step 1.æ„å»ºè¯·æ±‚    url = &quot;https://api.openweathermap.org/data/2.5/weather&quot;    # Step 2.è®¾ç½®æŸ¥è¯¢å‚æ•°    params = &#123;        &quot;q&quot;: loc,        &quot;appid&quot;: os.getenv(&quot;OPENWEATHER_API_KEY&quot;),  # è¾“å…¥API key        &quot;units&quot;: &quot;metric&quot;,  # ä½¿ç”¨æ‘„æ°åº¦è€Œä¸æ˜¯åæ°åº¦        &quot;lang&quot;: &quot;zh_cn&quot;  # è¾“å‡ºè¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡    &#125;    # Step 3.å‘é€GETè¯·æ±‚    response = requests.get(url, params=params)    # Step 4.è§£æå“åº”    data = response.json()    return json.dumps(data)print(get_weather.name)print(get_weather.description)print(get_weather.args)# å®šä¹‰ å¤©æ°”æŸ¥è¯¢ å·¥å…·å‡½æ•°tools = [get_weather]# å°†å·¥å…·ç»‘å®šåˆ°æ¨¡å‹llm_with_tools = model.bind_tools(tools)parser = JsonOutputKeyToolsParser(key_name=get_weather.name, first_tool_only=True)llm_chain = llm_with_tools | parserget_weather_chain = llm_with_tools | parser | get_weatherresponse = get_weather_chain.invoke(&quot;ä½ å¥½ï¼Œ è¯·é—®åŒ—äº¬çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ&quot;)print(response)\n\nèƒ½å¤Ÿçœ‹åˆ°ï¼Œæ­¤æ—¶Chainå°±èƒ½é¡ºåˆ©çš„å°†ç”¨æˆ·çš„éœ€æ±‚è½¬åŒ–ä¸ºå¤©æ°”æŸ¥è¯¢ï¼Œå¹¶å®Œæˆå¤–éƒ¨å·¥å…·çš„è‡ªåŠ¨è¿è¡Œã€‚ä½†åªæœ‰è¿™ä¸€æ­¥è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†è°ƒç”¨å·¥å…·è¿”å›çš„ç»“æœè½¬åŒ–ä¸ºä¸€ä¸ªæ¨¡å‹çš„é—®ç­”ï¼š\nimport osimport requests,jsonfrom langchain.chat_models import init_chat_modelfrom langchain_core.tools import toolfrom langchain_core.output_parsers.openai_tools import JsonOutputKeyToolsParserfrom langchain.prompts import PromptTemplatefrom langchain_core.output_parsers import StrOutputParserfrom langchain.prompts import PromptTemplatefrom langchain_core.output_parsers import StrOutputParserfrom dotenv import load_dotenvload_dotenv(override=True)# åˆå§‹åŒ–æ¨¡å‹model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)OPENWEATHER_API_KEY = os.getenv(&quot;OPENWEATHER_API_KEY&quot;)print(&quot;Loaded API Key:&quot;, OPENWEATHER_API_KEY)  # æ£€æŸ¥æ˜¯å¦éNone@tooldef get_weather(loc):    &quot;&quot;&quot;    æŸ¥è¯¢å³æ—¶å¤©æ°”å‡½æ•°    :param loc: å¿…è¦å‚æ•°ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæŸ¥è¯¢å¤©æ°”çš„å…·ä½“åŸå¸‚åç§°ï¼Œ\\    æ³¨æ„ï¼Œä¸­å›½çš„åŸå¸‚éœ€è¦ç”¨å¯¹åº”åŸå¸‚çš„è‹±æ–‡åç§°ä»£æ›¿ï¼Œä¾‹å¦‚å¦‚æœéœ€è¦æŸ¥è¯¢åŒ—äº¬å¸‚å¤©æ°”ï¼Œåˆ™locå‚æ•°éœ€è¦è¾“å…¥&#x27;Beijing&#x27;ï¼›    :returnï¼šOpenWeather APIæŸ¥è¯¢å³æ—¶å¤©æ°”çš„ç»“æœï¼Œå…·ä½“URLè¯·æ±‚åœ°å€ä¸ºï¼šhttps://api.openweathermap.org/data/2.5/weather\\    è¿”å›ç»“æœå¯¹è±¡ç±»å‹ä¸ºè§£æä¹‹åçš„JSONæ ¼å¼å¯¹è±¡ï¼Œå¹¶ç”¨å­—ç¬¦ä¸²å½¢å¼è¿›è¡Œè¡¨ç¤ºï¼Œå…¶ä¸­åŒ…å«äº†å…¨éƒ¨é‡è¦çš„å¤©æ°”ä¿¡æ¯    &quot;&quot;&quot;    # Step 1.æ„å»ºè¯·æ±‚    url = &quot;https://api.openweathermap.org/data/2.5/weather&quot;    # Step 2.è®¾ç½®æŸ¥è¯¢å‚æ•°    params = &#123;        &quot;q&quot;: loc,        &quot;appid&quot;: os.getenv(&quot;OPENWEATHER_API_KEY&quot;),  # è¾“å…¥API key        &quot;units&quot;: &quot;metric&quot;,  # ä½¿ç”¨æ‘„æ°åº¦è€Œä¸æ˜¯åæ°åº¦        &quot;lang&quot;: &quot;zh_cn&quot;  # è¾“å‡ºè¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡    &#125;    # Step 3.å‘é€GETè¯·æ±‚    response = requests.get(url, params=params)    # Step 4.è§£æå“åº”    data = response.json()    return json.dumps(data)print(get_weather.name)print(get_weather.description)print(get_weather.args)# å®šä¹‰ å¤©æ°”æŸ¥è¯¢ å·¥å…·å‡½æ•°tools = [get_weather]# å°†å·¥å…·ç»‘å®šåˆ°æ¨¡å‹llm_with_tools = model.bind_tools(tools)parser = JsonOutputKeyToolsParser(key_name=get_weather.name, first_tool_only=True)get_weather_chain = llm_with_tools | parser | get_weather# Prompt æ¨¡æ¿output_prompt = PromptTemplate.from_template(    &quot;&quot;&quot;ä½ å°†æ”¶åˆ°ä¸€æ®µ JSON æ ¼å¼çš„å¤©æ°”æ•°æ®ï¼Œè¯·ç”¨ç®€æ´è‡ªç„¶çš„æ–¹å¼å°†å…¶è½¬è¿°ç»™ç”¨æˆ·ã€‚ä»¥ä¸‹æ˜¯å¤©æ°” JSON æ•°æ®ï¼š```json&#123;weather_json&#125;```è¯·å°†å…¶è½¬æ¢ä¸ºä¸­æ–‡å¤©æ°”æè¿°ï¼Œä¾‹å¦‚ï¼šâ€œåŒ—äº¬å½“å‰å¤©æ°”æ™´ï¼Œæ°”æ¸©ä¸º 23Â°Cï¼Œæ¹¿åº¦ 58%ï¼Œé£é€Ÿ 2.1 ç±³/ç§’ã€‚â€åªè¿”å›ä¸€å¥è¯æè¿°ï¼Œä¸è¦å…¶ä»–è¯´æ˜æˆ–è§£é‡Šã€‚&quot;&quot;&quot;)output_chain = output_prompt | model | StrOutputParser()full_chain = get_weather_chain | output_chainresponse = full_chain.invoke(&quot;è¯·é—®åŒ—äº¬ä»Šå¤©çš„å¤©æ°”å¦‚ä½•ï¼Ÿ&quot;)print(response)\n\næœ€ç»ˆï¼Œæˆ‘ä»¬å°†è¿™ä¸¤ä¸ªChainè¿›è¡Œæ‹¼æ¥ï¼Œå³æ„æˆå®Œæ•´çš„å¤–éƒ¨å·¥å…·è°ƒç”¨æµç¨‹ã€‚\næ¥ç€ï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹LangChainæ¥å…¥è‡ªå®šä¹‰å¤–éƒ¨å·¥ä½œæµç¨‹\né¦–å…ˆè¦äº†è§£ä¸€ä¸‹ Function calling åŸºæœ¬åŸç†\næˆ‘ä»¬éƒ½çŸ¥é“ï¼Œèƒ½è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼Œæ˜¯å¤§æ¨¡å‹è¿›åŒ–ä¸ºæ™ºèƒ½ä½“Agentçš„å…³é”®ï¼Œå¦‚æœä¸èƒ½ä½¿ç”¨å¤–éƒ¨å·¥å…·ï¼Œå¤§æ¨¡å‹å°±åªèƒ½æ˜¯ä¸ªç®€å•çš„èŠå¤©æœºå™¨äººï¼Œç”šè‡³è¿æŸ¥è¯¢å¤©æ°”éƒ½åšä¸åˆ°ã€‚ç”±äºåº•å±‚æŠ€æœ¯é™åˆ¶å•Šï¼Œå¤§æ¨¡å‹æœ¬èº«æ˜¯æ— æ³•å’Œå¤–éƒ¨å·¥å…·ç›´æ¥é€šä¿¡çš„ï¼Œå› æ­¤Function callingçš„æ€è·¯ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ªå¤–éƒ¨å‡½æ•°ï¼ˆfunctionï¼‰ä½œä¸ºä¸­ä»‹ï¼Œä¸€è¾¹ä¼ é€’å¤§æ¨¡å‹çš„è¯·æ±‚ï¼Œå¦ä¸€è¾¹è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼Œæœ€ç»ˆè®©å¤§æ¨¡å‹èƒ½å¤Ÿé—´æ¥çš„è°ƒç”¨å¤–éƒ¨å·¥å…·ã€‚\n\nä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬è¦æŸ¥è¯¢å½“å‰å¤©æ°”æ—¶ï¼Œè®©å¤§æ¨¡å‹è°ƒç”¨å¤–éƒ¨å·¥å…·çš„function callingçš„è¿‡ç¨‹å°±å¦‚å›¾æ‰€ç¤ºï¼š\n\nè€Œå®Œæ•´çš„ä¸€æ¬¡Function callingæ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š\n\nDeepSeek function calling çš„ä¸‰ç§å“åº”æ¨¡å¼ï¼š\n\nåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬å…¶å®å¯ä»¥ç›´æ¥ä½¿ç”¨create_tool_calling_agentæ¥å¿«é€Ÿæ„å»ºå·¥å…·è°ƒç”¨ä»£ç†ã€‚å¹¶ä½¿ç”¨AgentExecutoræ¥æ‰§è¡Œä»£ç†ï¼Œä»£ç å¦‚ä¸‹ï¼š\nimport jsonimport osimport requestsfrom langchain.agents import create_tool_calling_agent, tool, AgentExecutorfrom langchain_core.prompts import ChatPromptTemplatefrom langchain.chat_models import init_chat_modelfrom dotenv import load_dotenvload_dotenv(override=True)OPENWEATHER_API_KEY = os.getenv(&quot;OPENWEATHER_API_KEY&quot;)# åˆå§‹åŒ–æ¨¡å‹model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)@tooldef get_weather(loc):    &quot;&quot;&quot;    æŸ¥è¯¢å³æ—¶å¤©æ°”å‡½æ•°    :param loc: å¿…è¦å‚æ•°ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæŸ¥è¯¢å¤©æ°”çš„å…·ä½“åŸå¸‚åç§°ï¼Œ\\    æ³¨æ„ï¼Œä¸­å›½çš„åŸå¸‚éœ€è¦ç”¨å¯¹åº”åŸå¸‚çš„è‹±æ–‡åç§°ä»£æ›¿ï¼Œä¾‹å¦‚å¦‚æœéœ€è¦æŸ¥è¯¢åŒ—äº¬å¸‚å¤©æ°”ï¼Œåˆ™locå‚æ•°éœ€è¦è¾“å…¥&#x27;Beijing&#x27;ï¼›    :returnï¼šOpenWeather APIæŸ¥è¯¢å³æ—¶å¤©æ°”çš„ç»“æœï¼Œå…·ä½“URLè¯·æ±‚åœ°å€ä¸ºï¼šhttps://api.openweathermap.org/data/2.5/weather\\    è¿”å›ç»“æœå¯¹è±¡ç±»å‹ä¸ºè§£æä¹‹åçš„JSONæ ¼å¼å¯¹è±¡ï¼Œå¹¶ç”¨å­—ç¬¦ä¸²å½¢å¼è¿›è¡Œè¡¨ç¤ºï¼Œå…¶ä¸­åŒ…å«äº†å…¨éƒ¨é‡è¦çš„å¤©æ°”ä¿¡æ¯    &quot;&quot;&quot;    # Step 1.æ„å»ºè¯·æ±‚    url = &quot;https://api.openweathermap.org/data/2.5/weather&quot;    # Step 2.è®¾ç½®æŸ¥è¯¢å‚æ•°    params = &#123;        &quot;q&quot;: loc,        &quot;appid&quot;: os.getenv(&quot;OPENWEATHER_API_KEY&quot;),  # è¾“å…¥API key        &quot;units&quot;: &quot;metric&quot;,  # ä½¿ç”¨æ‘„æ°åº¦è€Œä¸æ˜¯åæ°åº¦        &quot;lang&quot;: &quot;zh_cn&quot;  # è¾“å‡ºè¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡    &#125;    # Step 3.å‘é€GETè¯·æ±‚    response = requests.get(url, params=params)    # Step 4.è§£æå“åº”    data = response.json()    return json.dumps(data)#å®šä¹‰å·¥å…·tools = [get_weather]# æ„å»ºæç¤ºæ¨¡ç‰ˆprompt = ChatPromptTemplate.from_messages(    [        (&quot;system&quot;, &quot;ä½ æ˜¯å¤©æ°”åŠ©æ‰‹ï¼Œè¯·æ ¹æ®ç”¨æˆ·çš„é—®é¢˜ï¼Œç»™å‡ºç›¸åº”çš„å¤©æ°”ä¿¡æ¯&quot;),        (&quot;human&quot;, &quot;&#123;input&#125;&quot;),        (&quot;placeholder&quot;, &quot;&#123;agent_scratchpad&#125;&quot;),    ])# ç›´æ¥ä½¿ç”¨`create_tool_calling_agent`åˆ›å»ºä»£ç†agent = create_tool_calling_agent(model, tools, prompt)# ä½¿ç”¨`AgentExecutor`æ¥æ‰§è¡Œä»£ç†agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)response = agent_executor.invoke(&#123;&quot;input&quot;: &quot;è¯·é—®ä»Šå¤©åŒ—äº¬çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ&quot;&#125;)print(response)print(response[&quot;output&quot;])\n\nLangChain ä¸­Agentsæ¨¡å—çš„æ•´ä½“æ¶æ„è®¾è®¡ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š\n\nåœ¨Agentsçš„å†…éƒ¨ç»“æ„ã€‚æ¯ä¸ªAgentç»„ä»¶ä¸€èˆ¬ä¼šç”±è¯­è¨€æ¨¡å‹ + æç¤º + è¾“å‡ºè§£æå™¨æ„æˆï¼Œå®ƒä¼šä½œä¸ºAgentsçš„å¤§è„‘å»å¤„ç†ç”¨æˆ·çš„è¾“å…¥ã€‚Agentèƒ½å¤Ÿå¤„ç†çš„è¾“å…¥ä¸»è¦æ¥æºäºä¸‰ä¸ªæ–¹é¢ï¼šinputä»£è¡¨ç”¨æˆ·çš„åŸå§‹è¾“å…¥ï¼ŒModel ResponseæŒ‡çš„æ˜¯æ¨¡å‹å¯¹æŸä¸€ä¸ªå­ä»»åŠ¡çš„å“åº”è¾“å‡ºï¼Œè€ŒHistoryåˆ™èƒ½æºå¸¦ä¸Šä¸‹æ–‡çš„ä¿¡æ¯ã€‚å…¶è¾“å‡ºéƒ¨åˆ†ï¼Œåˆ™é“¾æ¥åˆ°å®é™…çš„å·¥å…·åº“ï¼Œéœ€è¦è°ƒç”¨å“ªäº›å·¥å…·ï¼Œå°†ç”±ç»è¿‡Agentæ¨¡å—åæ‹†åˆ†çš„å­ä»»åŠ¡æ¥å†³å®šã€‚\nè€Œæˆ‘ä»¬çŸ¥é“ï¼Œå¤§æ¨¡å‹è°ƒç”¨å¤–éƒ¨å‡½æ•°ä¼šåˆ†ä¸ºä¸¤ä¸ªè¿‡ç¨‹ï¼šè¯†åˆ«å·¥å…·å’Œå®é™…æ‰§è¡Œã€‚åœ¨ Message -&gt; Agent -&gt; Toolkits è¿™ä¸ªæµç¨‹ä¸­ï¼Œè´Ÿè´£çš„æ˜¯å°†å­ä»»åŠ¡æ‹†è§£ï¼Œç„¶åæ ¹æ®è¿™äº›å­ä»»åŠ¡åœ¨å·¥å…·åº“ä¸­æ‰¾åˆ°ç›¸åº”çš„å·¥å…·ï¼Œæå–å·¥å…·åç§°åŠæ‰€éœ€å‚æ•°ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥è§†ä½œä¸€ç§â€œé™æ€â€çš„æ‰§è¡Œæµç¨‹ã€‚è€Œå°†è¿™äº›å†³ç­–è½¬åŒ–ä¸ºå®é™…è¡ŒåŠ¨çš„å·¥ä½œï¼Œåˆ™ä¼šäº¤ç»™AgentExecutorã€‚\næ‰€ä»¥ç»¼ä¸Šéœ€è¦ç†è§£çš„æ˜¯ï¼šåœ¨LangChainçš„Agentså®é™…æ¶æ„ä¸­ï¼ŒAgentçš„è§’è‰²æ˜¯æ¥æ”¶è¾“å…¥å¹¶å†³å®šé‡‡å–çš„æ“ä½œï¼Œä½†å®ƒæœ¬èº«å¹¶ä¸ç›´æ¥æ‰§è¡Œè¿™äº›æ“ä½œã€‚è¿™ä¸€ä»»åŠ¡æ˜¯ç”±AgentExecutoræ¥å®Œæˆçš„ã€‚å°†Agentï¼ˆå†³ç­–å¤§è„‘ï¼‰ä¸AgentExecutorï¼ˆæ‰§è¡Œæ“ä½œçš„Runtimeï¼‰ç»“åˆä½¿ç”¨ï¼Œæ‰æ„æˆäº†å®Œæ•´çš„Agentsï¼ˆæ™ºèƒ½ä½“ï¼‰ï¼Œå…¶ä¸­AgentExecutorè´Ÿè´£è°ƒç”¨ä»£ç†å¹¶æ‰§è¡ŒæŒ‡å®šçš„å·¥å…·ï¼Œä»¥æ­¤æ¥å®ç°æ•´ä¸ªæ™ºèƒ½ä½“çš„åŠŸèƒ½ã€‚\nè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆcreate_tool_calling_agentéœ€è¦é€šè¿‡AgentExecutoræ‰èƒ½å¤Ÿå®é™…è¿è¡Œçš„åŸå› ã€‚å½“ç„¶ï¼Œåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œ**AgentExecutorçš„å†…éƒ¨å·²ç»è‡ªåŠ¨å¤„ç†å¥½äº†å…³äºæˆ‘ä»¬å·¥å…·è°ƒç”¨çš„æ‰€æœ‰é€»è¾‘ï¼Œå…¶ä¸­åŒ…å«ä¸²è¡Œå’Œå¹¶è¡Œå·¥å…·è°ƒç”¨çš„ä¸¤ç§å¸¸ç”¨æ¨¡å¼ã€‚**\nåœ¨å¤§æ¨¡å‹ä¸­ï¼Œå¹¶è¡Œå·¥å…·è°ƒç”¨æŒ‡çš„æ˜¯åœ¨å¤§æ¨¡å‹è°ƒç”¨å¤–éƒ¨å·¥å…·æ—¶ï¼Œå¯ä»¥åœ¨å•æ¬¡äº¤äº’è¿‡ç¨‹ä¸­å¯ä»¥åŒæ—¶è°ƒç”¨å¤šä¸ªå·¥å…·ï¼Œå¹¶è¡Œæ‰§è¡Œä»¥è§£å†³ç”¨æˆ·çš„é—®é¢˜ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\nè€Œåœ¨create_tool_calling_agentä¸­ï¼Œå·²ç»è‡ªåŠ¨å¤„ç†äº†å¹¶è¡Œå·¥å…·è°ƒç”¨çš„å¤„ç†é€»è¾‘ï¼Œå¹¶ä¸éœ€è¦æˆ‘ä»¬åœ¨æ‰‹åŠ¨å¤„ç†ï¼Œæ¯”å¦‚æ¥ä¸‹æ¥æµ‹è¯•ä¸€äº›å¤æ‚çš„é—®é¢˜ï¼š\nimport jsonimport osimport requestsfrom langchain.agents import create_tool_calling_agent, tool, AgentExecutorfrom langchain_core.prompts import ChatPromptTemplatefrom langchain.chat_models import init_chat_modelfrom dotenv import load_dotenvload_dotenv(override=True)OPENWEATHER_API_KEY = os.getenv(&quot;OPENWEATHER_API_KEY&quot;)# åˆå§‹åŒ–æ¨¡å‹model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)@tooldef get_weather(loc):    &quot;&quot;&quot;    æŸ¥è¯¢å³æ—¶å¤©æ°”å‡½æ•°    :param loc: å¿…è¦å‚æ•°ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæŸ¥è¯¢å¤©æ°”çš„å…·ä½“åŸå¸‚åç§°ï¼Œ\\    æ³¨æ„ï¼Œä¸­å›½çš„åŸå¸‚éœ€è¦ç”¨å¯¹åº”åŸå¸‚çš„è‹±æ–‡åç§°ä»£æ›¿ï¼Œä¾‹å¦‚å¦‚æœéœ€è¦æŸ¥è¯¢åŒ—äº¬å¸‚å¤©æ°”ï¼Œåˆ™locå‚æ•°éœ€è¦è¾“å…¥&#x27;Beijing&#x27;ï¼›    :returnï¼šOpenWeather APIæŸ¥è¯¢å³æ—¶å¤©æ°”çš„ç»“æœï¼Œå…·ä½“URLè¯·æ±‚åœ°å€ä¸ºï¼šhttps://api.openweathermap.org/data/2.5/weather\\    è¿”å›ç»“æœå¯¹è±¡ç±»å‹ä¸ºè§£æä¹‹åçš„JSONæ ¼å¼å¯¹è±¡ï¼Œå¹¶ç”¨å­—ç¬¦ä¸²å½¢å¼è¿›è¡Œè¡¨ç¤ºï¼Œå…¶ä¸­åŒ…å«äº†å…¨éƒ¨é‡è¦çš„å¤©æ°”ä¿¡æ¯    &quot;&quot;&quot;    # Step 1.æ„å»ºè¯·æ±‚    url = &quot;https://api.openweathermap.org/data/2.5/weather&quot;    # Step 2.è®¾ç½®æŸ¥è¯¢å‚æ•°    params = &#123;        &quot;q&quot;: loc,        &quot;appid&quot;: os.getenv(&quot;OPENWEATHER_API_KEY&quot;),  # è¾“å…¥API key        &quot;units&quot;: &quot;metric&quot;,  # ä½¿ç”¨æ‘„æ°åº¦è€Œä¸æ˜¯åæ°åº¦        &quot;lang&quot;: &quot;zh_cn&quot;  # è¾“å‡ºè¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡    &#125;    # Step 3.å‘é€GETè¯·æ±‚    response = requests.get(url, params=params)    # Step 4.è§£æå“åº”    data = response.json()    return json.dumps(data)#å®šä¹‰å·¥å…·tools = [get_weather]# æ„å»ºæç¤ºæ¨¡ç‰ˆprompt = ChatPromptTemplate.from_messages(    [        (&quot;system&quot;, &quot;ä½ æ˜¯å¤©æ°”åŠ©æ‰‹ï¼Œè¯·æ ¹æ®ç”¨æˆ·çš„é—®é¢˜ï¼Œç»™å‡ºç›¸åº”çš„å¤©æ°”ä¿¡æ¯&quot;),        (&quot;human&quot;, &quot;&#123;input&#125;&quot;),        (&quot;placeholder&quot;, &quot;&#123;agent_scratchpad&#125;&quot;),    ])# ç›´æ¥ä½¿ç”¨`create_tool_calling_agent`åˆ›å»ºä»£ç†agent = create_tool_calling_agent(model, tools, prompt)# ä½¿ç”¨`AgentExecutor`æ¥æ‰§è¡Œä»£ç†agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)response = agent_executor.invoke(&#123;&quot;input&quot;: &quot;è¯·é—®ä»Šå¤©åŒ—äº¬å’Œæ­å·çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Œå“ªä¸ªåŸå¸‚æ›´çƒ­ï¼Ÿ&quot;&#125;)print(response[&quot;output&quot;])\n\nä»è¿™ä¸ªè¿‡ç¨‹ä¸­å¯ä»¥æ˜æ˜¾çš„çœ‹å‡ºï¼Œä¸€æ¬¡æ€§å‘èµ·äº†åŒä¸€ä¸ªå¤–éƒ¨å‡½æ•°çš„ä¸¤æ¬¡è°ƒç”¨è¯·æ±‚ï¼Œå¹¶ä¾æ¬¡è·å¾—äº†åŒ—äº¬å’Œæ­å·ä¸¤ä¸ªåŸå¸‚çš„å¤©æ°”ã€‚è¿™å°±æ˜¯ä¸€æ¬¡æ ‡å‡†çš„parallel_function_callã€‚\n\næ¥ä¸‹æ¥ç»§ç»­å°è¯•è¿›è¡Œå¤šå·¥å…·ä¸²è”è°ƒç”¨æµ‹è¯•ï¼š\n\næ­¤æ—¶æˆ‘ä»¬å†å®šä¹‰ä¸€ä¸ªwrite_fileå‡½æ•°ï¼Œç”¨äºå°†â€œæ–‡æœ¬å†™å…¥æœ¬åœ°â€ï¼Œç„¶ååœ¨toolsåˆ—è¡¨ä¸­ç›´æ¥æ·»åŠ write_fileå·¥å…·ï¼Œå¹¶ä¿®æ”¹æç¤ºæ¨¡ç‰ˆï¼Œæ·»åŠ write_fileå·¥å…·çš„ä½¿ç”¨åœºæ™¯ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š \nimport jsonimport osimport requestsfrom langchain.agents import create_tool_calling_agent, tool, AgentExecutorfrom langchain_core.prompts import ChatPromptTemplatefrom langchain.chat_models import init_chat_modelfrom dotenv import load_dotenvload_dotenv(override=True)OPENWEATHER_API_KEY = os.getenv(&quot;OPENWEATHER_API_KEY&quot;)# åˆå§‹åŒ–æ¨¡å‹model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)@tooldef get_weather(loc):    &quot;&quot;&quot;    æŸ¥è¯¢å³æ—¶å¤©æ°”å‡½æ•°    :param loc: å¿…è¦å‚æ•°ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæŸ¥è¯¢å¤©æ°”çš„å…·ä½“åŸå¸‚åç§°ï¼Œ\\    æ³¨æ„ï¼Œä¸­å›½çš„åŸå¸‚éœ€è¦ç”¨å¯¹åº”åŸå¸‚çš„è‹±æ–‡åç§°ä»£æ›¿ï¼Œä¾‹å¦‚å¦‚æœéœ€è¦æŸ¥è¯¢åŒ—äº¬å¸‚å¤©æ°”ï¼Œåˆ™locå‚æ•°éœ€è¦è¾“å…¥&#x27;Beijing&#x27;ï¼›    :returnï¼šOpenWeather APIæŸ¥è¯¢å³æ—¶å¤©æ°”çš„ç»“æœï¼Œå…·ä½“URLè¯·æ±‚åœ°å€ä¸ºï¼šhttps://api.openweathermap.org/data/2.5/weather\\    è¿”å›ç»“æœå¯¹è±¡ç±»å‹ä¸ºè§£æä¹‹åçš„JSONæ ¼å¼å¯¹è±¡ï¼Œå¹¶ç”¨å­—ç¬¦ä¸²å½¢å¼è¿›è¡Œè¡¨ç¤ºï¼Œå…¶ä¸­åŒ…å«äº†å…¨éƒ¨é‡è¦çš„å¤©æ°”ä¿¡æ¯    &quot;&quot;&quot;    # Step 1.æ„å»ºè¯·æ±‚    url = &quot;https://api.openweathermap.org/data/2.5/weather&quot;    # Step 2.è®¾ç½®æŸ¥è¯¢å‚æ•°    params = &#123;        &quot;q&quot;: loc,        &quot;appid&quot;: os.getenv(&quot;OPENWEATHER_API_KEY&quot;),  # è¾“å…¥API key        &quot;units&quot;: &quot;metric&quot;,  # ä½¿ç”¨æ‘„æ°åº¦è€Œä¸æ˜¯åæ°åº¦        &quot;lang&quot;: &quot;zh_cn&quot;  # è¾“å‡ºè¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡    &#125;    # Step 3.å‘é€GETè¯·æ±‚    response = requests.get(url, params=params)    # Step 4.è§£æå“åº”    data = response.json()    return json.dumps(data)@tooldef write_file(content):    &quot;&quot;&quot;    å°†æŒ‡å®šå†…å®¹å†™å…¥æœ¬åœ°æ–‡ä»¶ã€‚    :param content: å¿…è¦å‚æ•°ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºéœ€è¦å†™å…¥æ–‡æ¡£çš„å…·ä½“å†…å®¹ã€‚    :returnï¼šæ˜¯å¦æˆåŠŸå†™å…¥    &quot;&quot;&quot;    return &quot;å·²æˆåŠŸå†™å…¥æœ¬åœ°æ–‡ä»¶ã€‚&quot;#å®šä¹‰å·¥å…·tools = [get_weather, write_file]# æ„å»ºæç¤ºæ¨¡ç‰ˆprompt = ChatPromptTemplate.from_messages(    [        (&quot;system&quot;, &quot;ä½ æ˜¯å¤©æ°”åŠ©æ‰‹ï¼Œè¯·æ ¹æ®ç”¨æˆ·çš„é—®é¢˜ï¼Œç»™å‡ºç›¸åº”çš„å¤©æ°”ä¿¡æ¯ï¼Œå¦‚æœç”¨æˆ·éœ€è¦å°†æŸ¥è¯¢ç»“æœå†™å…¥æ–‡ä»¶ï¼Œè¯·ä½¿ç”¨write_fileå·¥å…·&quot;),        (&quot;human&quot;, &quot;&#123;input&#125;&quot;),        (&quot;placeholder&quot;, &quot;&#123;agent_scratchpad&#125;&quot;),    ])# ç›´æ¥ä½¿ç”¨`create_tool_calling_agent`åˆ›å»ºä»£ç†agent = create_tool_calling_agent(model, tools, prompt)# ä½¿ç”¨`AgentExecutor`æ¥æ‰§è¡Œä»£ç†agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)response = agent_executor.invoke(&#123;&quot;input&quot;: &quot;æŸ¥ä¸€ä¸‹åŒ—äº¬å’Œæ­å·ç°åœ¨çš„æ¸©åº¦ï¼Œå¹¶å°†ç»“æœå†™å…¥æœ¬åœ°çš„æ–‡ä»¶ä¸­ã€‚&quot;&#125;)print(response[&quot;output&quot;])\n\né€šè¿‡ä¸­é—´è¿‡ç¨‹ä¿¡æ¯çš„æ‰“å°ï¼Œæˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°åœ¨ä¸€æ¬¡äº¤äº’è¿‡ç¨‹ä¸­ä¾æ¬¡è°ƒç”¨çš„get_weatheræŸ¥è¯¢åˆ°åŒ—äº¬å’Œæ­å·çš„å¤©æ°”ï¼Œç„¶ååˆå°†ç»“æœå†™å…¥åˆ°æœ¬åœ°çš„æ–‡ä»¶ä¸­ã€‚è¿™å°±æ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„ä¸²è¡Œå·¥å…·è°ƒç”¨çš„æµç¨‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\näº”ã€LangChain Agentè¿›é˜¶åŠŸèƒ½ä»‹ç»å€ŸåŠ©LangChain Agent+å†…ç½®å·¥å…·å¿«é€Ÿæ­å»ºæ™ºèƒ½ä½“\næ—¢ç„¶LangChain Agentèƒ½æ›´åŠ çµæ´»è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼ŒLangChain Agent+LangChainå†…ç½®å·¥å…·ä¹Ÿèƒ½æ›´åŠ å¿«é€Ÿçš„å®Œæˆå¤æ‚Agentå¼€å‘ã€‚\nLangChain ç¬¬ä¸‰æ–¹å·¥å…·é›†æˆ\nä¸‹é¢é€‰æ‹©ä»¥LangChain çš„ Tavily Search å·¥å…·ä¸ºä¾‹è¿›è¡Œè®²è§£\nå¯ä»¥é€šè¿‡è®¿é—®æ­¤ç«™ç‚¹åˆ›å»ºä¸€ä¸ªå¸æˆ·æ¥è·å–LangChain çš„ Tavily Search å·¥å…·çš„ API å¯†é’¥ï¼Œå¹¶å°†å…¶åŠ åˆ°.envæ–‡ä»¶ä¸­\nTAVILY_API_KEY=tvly-xxx\n\nlangchain-tavilyé›†æˆå­˜åœ¨äºåŒ…ä¸­\npip install -U langchain-tavily\n\nå…ˆç¼–å†™ä¸€ä¸ªç®€å•çš„ç¨‹åºéªŒè¯è¯¥å·¥å…·èƒ½æ­£å¸¸è¿è¡Œ\nimport osfrom langchain_tavily import TavilySearchfrom dotenv import load_dotenvload_dotenv(override=True)# åˆå§‹åŒ– Tavily æœç´¢å·¥å…·search = TavilySearch(max_results=2)# æ‰§è¡Œæœç´¢result = search.invoke(&quot;è‹¹æœ2025WWDCå‘å¸ƒä¼š&quot;)print(result)\n\nå†ä½¿ç”¨LangChain Agenté…åˆLangChainå†…ç½®çš„Tavily Searchå·¥å…·å¿«é€Ÿåœ°å®Œæˆå¤æ‚Agentå¼€å‘\nimport osfrom langchain_tavily import TavilySearchfrom langchain.agents import AgentExecutor, create_tool_calling_agent, toolfrom langchain_core.prompts import ChatPromptTemplatefrom langchain.chat_models import init_chat_modelfrom dotenv import load_dotenvload_dotenv(override=True)# åˆå§‹åŒ– Tavily æœç´¢å·¥å…·search = TavilySearch(max_results=2)tools = [search]prompt = ChatPromptTemplate.from_messages(    [        (&quot;system&quot;, &quot;ä½ æ˜¯ä¸€ååŠ©äººä¸ºä¹çš„åŠ©æ‰‹ï¼Œå¹¶ä¸”å¯ä»¥è°ƒç”¨å·¥å…·è¿›è¡Œç½‘ç»œæœç´¢ï¼Œè·å–å®æ—¶ä¿¡æ¯ã€‚&quot;),        (&quot;human&quot;, &quot;&#123;input&#125;&quot;),        (&quot;placeholder&quot;, &quot;&#123;agent_scratchpad&#125;&quot;),    ])# åˆå§‹åŒ–æ¨¡å‹model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)agent = create_tool_calling_agent(model, tools, prompt)agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)result = agent_executor.invoke(&#123;&quot;input&quot;: &quot;è¯·é—®è‹¹æœ2025WWDCå‘å¸ƒä¼šå¬å¼€çš„æ—¶é—´æ˜¯ï¼Ÿ&quot;&#125;)print(result[&#x27;output&#x27;])\n\næ¥ç€æˆ‘ä»¬æ¥å®Œæˆå¤šæ™ºèƒ½ä½“åä½œå®ç°æµè§ˆå™¨è‡ªåŠ¨åŒ–\næ­£å¦‚ä¸Šè¿°æˆ‘ä»¬ä½¿ç”¨çš„create_tool_calling_agentæ–¹æ³•ï¼Œå®ƒå…¶å®åœ¨langChainä¸­æ˜¯ä¸€ä¸ªé€šç”¨çš„ç”¨æ¥æ„å»ºå·¥å…·ä»£ç†çš„æ–¹æ³•ï¼Œé™¤æ­¤ä»¥å¤–ï¼ŒlangChainè¿˜å°è£…äº†éå¸¸å¤šç§ä¸åŒçš„Agentå®ç°å½¢å¼\nä¸‹é¢æ˜¯æ¨èçš„Agentåˆ›å»ºå‡½æ•°ï¼š\n\n\n\nå‡½æ•°å\nåŠŸèƒ½æè¿°\né€‚ç”¨åœºæ™¯\n\n\n\ncreate_tool_calling_agent\nåˆ›å»ºä½¿ç”¨å·¥å…·çš„Agent\né€šç”¨å·¥å…·è°ƒç”¨\n\n\ncreate_openai_tools_agent\nåˆ›å»ºOpenAIå·¥å…·Agent\nOpenAIæ¨¡å‹ä¸“ç”¨\n\n\ncreate_openai_functions_agent\nåˆ›å»ºOpenAIå‡½æ•°Agent\nOpenAIå‡½æ•°è°ƒç”¨\n\n\ncreate_react_agent\nåˆ›å»ºReActæ¨ç†Agent\næ¨ç†+è¡ŒåŠ¨æ¨¡å¼\n\n\ncreate_structured_chat_agent\nåˆ›å»ºç»“æ„åŒ–èŠå¤©Agent\nå¤šè¾“å…¥å·¥å…·æ”¯æŒ\n\n\ncreate_conversational_retrieval_agent\nåˆ›å»ºå¯¹è¯æ£€ç´¢Agent\næ£€ç´¢å¢å¼ºå¯¹è¯\n\n\ncreate_json_chat_agent\nåˆ›å»ºJSONèŠå¤©Agent\nJSONæ ¼å¼äº¤äº’\n\n\ncreate_xml_agent\nåˆ›å»ºXMLæ ¼å¼Agent\nXMLé€»è¾‘æ ¼å¼\n\n\ncreate_self_ask_with_search_agent\nåˆ›å»ºè‡ªé—®è‡ªç­”æœç´¢Agent\nè‡ªä¸»æœç´¢æ¨ç†\n\n\nå…¶ä¸­æ¯”è¾ƒé€šç”¨åœºæ™¯çš„å°±æ˜¯æˆ‘ä»¬åˆšåˆšä½¿ç”¨çš„create_tool_calling_agentï¼Œè€Œå¯¹äºä¸€äº›ç¬¦åˆOpenAI API RESTFUL APIçš„æ¨¡å‹ï¼Œåˆ™åŒæ ·å¯ä»¥ä½¿ç”¨create_openai_tools_agentï¼Œå¦å¤–åƒcreate_react_agentå¯ä»¥ç”¨äºä¸€äº›æ¨ç†ä»»åŠ¡ï¼Œcreate_conversational_retrieval_agentåˆ™å¯ä»¥ç”¨äºä¸€äº›å¯¹è¯ç³»ç»Ÿï¼Œå…·ä½“è¿˜æ˜¯éœ€è¦æ ¹æ®å®é™…éœ€æ±‚æ¥é€‰æ‹©ã€‚\nç›®å‰æ¥è¯´ï¼Œåœ¨å¤§æ¨¡å‹åº”ç”¨å¼€å‘é¢†åŸŸæœ‰éå¸¸å¤šçš„éœ€æ±‚åœºæ™¯ï¼Œå…¶ä¸­ä¸€ä¸ªæ¯”è¾ƒçƒ­é—¨çš„å°±æ˜¯æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–æå–ç½‘é¡µå†…å®¹ï¼Œç„¶åè¿›è¡Œåˆ†æï¼Œæœ€åç”ŸæˆæŠ¥å‘Šã€‚è¿™æ ·çš„æµç¨‹æå‡æ•ˆç‡å’Œæ”¶é›†ä¿¡æ¯çš„æœ‰æ•ˆé€”å¾„ã€‚å› æ­¤æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å°è¯•ä½¿ç”¨å°è¯•ä½¿ç”¨create_openai_tools_agentæ¥å®é™…å¼€å‘ä¸€ä¸ªæµè§ˆå™¨è‡ªåŠ¨åŒ–ä»£ç†ã€‚\né¦–å…ˆï¼Œæ‰§è¡Œæµè§ˆå™¨è‡ªåŠ¨åŒ–ä»£ç†éœ€è¦å®‰è£…ä¸€ç³»åˆ—çš„ç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\npip install playwright lxml langchain_community beautifulsoup4 reportlab\n\næ­¤å¤–ï¼Œè¿˜éœ€è¦å®‰è£… Playwright æµè§ˆå™¨ï¼Œéœ€è¦åœ¨å½“å‰è™šæ‹Ÿç¯å¢ƒä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š\nplaywright install\n\nè¿™ä¸ªå®‰è£…è¿‡ç¨‹å®ƒä¼šä¸‹è½½å¹¶å®‰è£… Playwright æ”¯æŒçš„æµè§ˆå™¨å†…æ ¸ï¼ˆæ³¨æ„ï¼šè¿™é‡Œä¸æ˜¯ç”¨æˆ‘ä»¬æœ¬æœºå·²æœ‰çš„æµè§ˆå™¨ï¼‰ï¼ŒåŒ…æ‹¬Chromiumï¼ˆç±»ä¼¼ Chromeï¼‰ã€Firefoxã€WebKitï¼ˆç±»ä¼¼ Safariï¼‰ï¼Œå¹¶å°†è¿™äº›æµè§ˆå™¨ä¸‹è½½åˆ°æœ¬åœ°çš„ .cache/ms-playwright ç›®å½•æˆ–é¡¹ç›®çš„ ~/.playwright ç›®å½•ä¸­ï¼Œä»¥ä¾¿ Playwright ä½¿ç”¨ç¨³å®šä¸€è‡´çš„è¿è¡Œç¯å¢ƒã€‚\nè¿™ä¸ªæ¡ˆä¾‹çš„æ ¸å¿ƒä»£ç é¦–å…ˆæ˜¯éœ€è¦ç”¨ä»£ç†å·¥å…·åˆå§‹åŒ–åŒæ­¥ Playwright æµè§ˆå™¨ï¼š\nsync_browser = create_sync_playwright_browser()toolkit = PlayWrightBrowserToolkit.from_browser(sync_browser=sync_browser)tools = toolkit.get_tools()\n\nç„¶åå†é€šè¿‡create_openai_tools_agentæ¥æ”¶åˆå§‹åŒ–çš„å¤§æ¨¡å‹å’ŒPlaywrightå·¥å…·æ„å»ºå…±åŒæ„å»ºOpenAI Tools ä»£ç†ï¼Œæœ€åé€šè¿‡AgentExecutoræ‰§è¡Œä»£ç†ã€‚\n# é€šè¿‡ LangChain åˆ›å»º OpenAI å·¥å…·ä»£ç†agent = create_openai_tools_agent(model, tools, prompt)# é€šè¿‡ AgentExecutor æ‰§è¡Œä»£ç†agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)\n\nå®Œæ•´çš„ä»£ç å› ä¸ºlangChiançš„æ¨¡å—åŒ–å°è£…éå¸¸ç®€æ´ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nfrom langchain_community.agent_toolkits import PlayWrightBrowserToolkitfrom langchain_community.tools.playwright.utils import create_sync_playwright_browserfrom langchain import hubfrom langchain.agents import AgentExecutor, create_openai_tools_agentfrom langchain.chat_models import init_chat_modelimport osfrom dotenv import load_dotenvload_dotenv(override=True)DeepSeek_API_KEY = os.getenv(&quot;DEEPSEEK_API_KEY&quot;)# print(DeepSeek_API_KEY)  # å¯ä»¥é€šè¿‡æ‰“å°æŸ¥çœ‹# åˆå§‹åŒ– Playwright æµè§ˆå™¨ï¼šsync_browser = create_sync_playwright_browser()toolkit = PlayWrightBrowserToolkit.from_browser(sync_browser=sync_browser)tools = toolkit.get_tools()# é€šè¿‡ LangChain Hub æ‹‰å–æç¤ºè¯æ¨¡ç‰ˆ# https://smith.langchain.com/hub# è¿™æ˜¯ LangChain ä¸­ä» LangChain Hub åŠ è½½é¢„å®šä¹‰æç¤ºè¯æ¨¡æ¿ï¼ˆprompt templateï¼‰çš„æ“ä½œ# &quot;hwchase17/openai-tools-agent&quot; æ˜¯ LangChain å®˜æ–¹ç»´æŠ¤çš„ä¸€ä¸ªæ ‡å‡†æç¤ºè¯æ¨¡æ¿ï¼Œä¸“ä¸º OpenAI å·¥å…·è°ƒç”¨å‹ Agent è®¾è®¡prompt = hub.pull(&quot;hwchase17/openai-tools-agent&quot;)# åˆå§‹åŒ–æ¨¡å‹model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)# é€šè¿‡ LangChain åˆ›å»º OpenAI å·¥å…·ä»£ç†agent = create_openai_tools_agent(model, tools, prompt)# é€šè¿‡ AgentExecutor æ‰§è¡Œä»£ç†agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)if __name__ == &quot;__main__&quot;:    # å®šä¹‰ä»»åŠ¡    command = &#123;        &quot;input&quot;: &quot;è®¿é—®è¿™ä¸ªç½‘ç«™ https://blogroll.naosi.org/ å¹¶ç”¨ä¸­æ–‡å¸®æˆ‘æ€»ç»“ä¸€ä¸‹è¿™ä¸ªç½‘ç«™çš„å†…å®¹&quot;    &#125;    # æ‰§è¡Œä»»åŠ¡    response = agent_executor.invoke(command)    print(response[&#x27;output&#x27;])\n\næ›´è¿›ä¸€æ­¥åœ°ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†Playwright Agentå°è£…æˆå·¥å…·å‡½æ•°ï¼Œå¹¶ç»“åˆLangChainçš„LCELä¸²è¡Œé“¾ï¼Œå®ç°ä¸€ä¸ªæ›´åŠ å¤æ‚çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–ä»£ç†ã€‚è¿™é‡Œå®šä¹‰çš„å·¥å…·å¦‚ä¸‹æ‰€ç¤ºï¼š\n# 1. åˆ›å»ºç½‘ç«™æ€»ç»“å·¥å…·@tooldef summarize_website(url: str) -&gt; str:    &quot;&quot;&quot;è®¿é—®æŒ‡å®šç½‘ç«™å¹¶è¿”å›å†…å®¹æ€»ç»“&quot;&quot;&quot;    try:        # åˆ›å»ºæµè§ˆå™¨å®ä¾‹        sync_browser = create_sync_playwright_browser()        toolkit = PlayWrightBrowserToolkit.from_browser(sync_browser=sync_browser)        tools = toolkit.get_tools()        # åˆå§‹åŒ–æ¨¡å‹å’ŒAgent        model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)        prompt = hub.pull(&quot;hwchase17/openai-tools-agent&quot;)        agent = create_openai_tools_agent(model, tools, prompt)        agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=False)        # æ‰§è¡Œæ€»ç»“ä»»åŠ¡        command = &#123;            &quot;input&quot;: f&quot;è®¿é—®è¿™ä¸ªç½‘ç«™ &#123;url&#125; å¹¶å¸®æˆ‘è¯¦ç»†æ€»ç»“ä¸€ä¸‹è¿™ä¸ªç½‘ç«™çš„å†…å®¹ï¼ŒåŒ…æ‹¬ä¸»è¦åŠŸèƒ½ã€ç‰¹ç‚¹å’Œä½¿ç”¨æ–¹æ³•&quot;        &#125;        result = agent_executor.invoke(command)        return result.get(&quot;output&quot;, &quot;æ— æ³•è·å–ç½‘ç«™å†…å®¹æ€»ç»“&quot;)    except Exception as e:        return f&quot;ç½‘ç«™è®¿é—®å¤±è´¥: &#123;str(e)&#125;&quot;# 2. åˆ›å»ºPDFç”Ÿæˆå·¥å…·@tooldef generate_pdf(content: str) -&gt; str:    &quot;&quot;&quot;å°†æ–‡æœ¬å†…å®¹ç”Ÿæˆä¸ºPDFæ–‡ä»¶&quot;&quot;&quot;    try:        # ç”Ÿæˆæ–‡ä»¶åï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰        timestamp = datetime.now().strftime(&quot;%Y%m%d_%H%M%S&quot;)        filename = f&quot;website_summary_&#123;timestamp&#125;.pdf&quot;        # åˆ›å»ºPDFæ–‡æ¡£        doc = SimpleDocTemplate(filename, pagesize=A4)        styles = getSampleStyleSheet()        # æ³¨å†Œä¸­æ–‡å­—ä½“ï¼ˆå¦‚æœç³»ç»Ÿæœ‰çš„è¯ï¼‰        try:            # Windows ç³»ç»Ÿå­—ä½“è·¯å¾„            font_paths = [                &quot;C:/Windows/Fonts/simhei.ttf&quot;,  # é»‘ä½“                &quot;C:/Windows/Fonts/simsun.ttc&quot;,  # å®‹ä½“                &quot;C:/Windows/Fonts/msyh.ttc&quot;,  # å¾®è½¯é›…é»‘            ]            chinese_font_registered = False            for font_path in font_paths:                if os.path.exists(font_path):                    try:                        pdfmetrics.registerFont(TTFont(&#x27;ChineseFont&#x27;, font_path))                        chinese_font_registered = True                        print(f&quot;âœ… æˆåŠŸæ³¨å†Œä¸­æ–‡å­—ä½“: &#123;font_path&#125;&quot;)                        break                    except:                        continue            if not chinese_font_registered:                print(&quot;âš ï¸ æœªæ‰¾åˆ°ä¸­æ–‡å­—ä½“ï¼Œä½¿ç”¨é»˜è®¤å­—ä½“&quot;)        except Exception as e:            print(f&quot;âš ï¸ å­—ä½“æ³¨å†Œå¤±è´¥: &#123;e&#125;&quot;)        # è‡ªå®šä¹‰æ ·å¼ - æ”¯æŒä¸­æ–‡        title_style = ParagraphStyle(            &#x27;CustomTitle&#x27;,            parent=styles[&#x27;Heading1&#x27;],            fontSize=18,            alignment=TA_CENTER,            spaceAfter=30,            fontName=&#x27;ChineseFont&#x27; if &#x27;chinese_font_registered&#x27; in locals() and chinese_font_registered else &#x27;Helvetica-Bold&#x27;        )        content_style = ParagraphStyle(            &#x27;CustomContent&#x27;,            parent=styles[&#x27;Normal&#x27;],            fontSize=11,            alignment=TA_JUSTIFY,            leftIndent=20,            rightIndent=20,            spaceAfter=12,            fontName=&#x27;ChineseFont&#x27; if &#x27;chinese_font_registered&#x27; in locals() and chinese_font_registered else &#x27;Helvetica&#x27;        )        # æ„å»ºPDFå†…å®¹        story = []        # æ ‡é¢˜        story.append(Paragraph(&quot;ç½‘ç«™å†…å®¹æ€»ç»“æŠ¥å‘Š&quot;, title_style))        story.append(Spacer(1, 20))        # ç”Ÿæˆæ—¶é—´        time_text = f&quot;ç”Ÿæˆæ—¶é—´: &#123;datetime.now().strftime(&#x27;%Y-%m-%d %H:%M:%S&#x27;)&#125;&quot;        story.append(Paragraph(time_text, styles[&#x27;Normal&#x27;]))        story.append(Spacer(1, 20))        # åˆ†éš”çº¿        story.append(Paragraph(&quot;=&quot; * 50, styles[&#x27;Normal&#x27;]))        story.append(Spacer(1, 15))        # ä¸»è¦å†…å®¹ - æ”¹è¿›ä¸­æ–‡å¤„ç†        if content:            # æ¸…ç†å’Œå¤„ç†å†…å®¹            content = content.replace(&#x27;\\r\\n&#x27;, &#x27;\\n&#x27;).replace(&#x27;\\r&#x27;, &#x27;\\n&#x27;)            paragraphs = content.split(&#x27;\\n&#x27;)            for para in paragraphs:                if para.strip():                    # å¤„ç†ç‰¹æ®Šå­—ç¬¦ï¼Œç¡®ä¿PDFå¯ä»¥æ­£ç¡®æ˜¾ç¤º                    clean_para = para.strip()                    # è½¬æ¢HTMLå®ä½“                    clean_para = clean_para.replace(&#x27;&amp;lt;&#x27;, &#x27;&lt;&#x27;).replace(&#x27;&amp;gt;&#x27;, &#x27;&gt;&#x27;).replace(&#x27;&amp;amp;&#x27;, &#x27;&amp;&#x27;)                    try:                        story.append(Paragraph(clean_para, content_style))                        story.append(Spacer(1, 8))                    except Exception as para_error:                        # å¦‚æœæ®µè½æœ‰é—®é¢˜ï¼Œå°è¯•ç”¨é»˜è®¤å­—ä½“                        try:                            fallback_style = ParagraphStyle(                                &#x27;Fallback&#x27;,                                parent=styles[&#x27;Normal&#x27;],                                fontSize=10,                                leftIndent=20,                                rightIndent=20,                                spaceAfter=10                            )                            story.append(Paragraph(clean_para, fallback_style))                            story.append(Spacer(1, 8))                        except:                            # å¦‚æœè¿˜æ˜¯æœ‰é—®é¢˜ï¼Œè®°å½•é”™è¯¯ä½†ç»§ç»­                            print(f&quot;âš ï¸ æ®µè½å¤„ç†å¤±è´¥: &#123;clean_para[:50]&#125;...&quot;)                            continue        else:            story.append(Paragraph(&quot;æš‚æ— å†…å®¹&quot;, content_style))        # é¡µè„šä¿¡æ¯        story.append(Spacer(1, 30))        story.append(Paragraph(&quot;=&quot; * 50, styles[&#x27;Normal&#x27;]))        story.append(Paragraph(&quot;æœ¬æŠ¥å‘Šç”± Playwright PDF Agent è‡ªåŠ¨ç”Ÿæˆ&quot;, styles[&#x27;Italic&#x27;]))        # ç”ŸæˆPDF        doc.build(story)        # è·å–ç»å¯¹è·¯å¾„        abs_path = os.path.abspath(filename)        print(f&quot;ğŸ“„ PDFæ–‡ä»¶ç”Ÿæˆå®Œæˆ: &#123;abs_path&#125;&quot;)        return f&quot;PDFæ–‡ä»¶å·²æˆåŠŸç”Ÿæˆ: &#123;abs_path&#125;&quot;    except Exception as e:        error_msg = f&quot;PDFç”Ÿæˆå¤±è´¥: &#123;str(e)&#125;&quot;        print(error_msg)        return error_msg\n\nç„¶åæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸åŒçš„é“¾è·¯ï¼Œæ¯”å¦‚ç®€å•çš„ä¸²è¡Œé“¾ç”±Playwright Agentå’Œ generate_pdf Agentç»„æˆï¼Œå³å…ˆçˆ¬å–ç½‘é¡µçš„å†…å®¹ï¼Œç„¶åå°†ç½‘é¡µä¸­çš„å†…å®¹å†™å…¥åˆ°æœ¬åœ°çš„PDFæ–‡ä»¶ä¸­ã€‚\n# æ–¹æ³•1ï¼šç®€å•ä¸²è¡Œé“¾simple_chain = summarize_website | generate_pdf\n\né™¤æ­¤ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å†å®šä¸€ä¸ªæ‘˜è¦å·¥å…·ï¼Œåœ¨ä½¿ç”¨Playwrightå·¥å…·è®¿é—®ç½‘é¡µåï¼Œæ ¹æ®çˆ¬å–åˆ°çš„ç½‘é¡µå†…å®¹å…ˆä½¿ç”¨å¤§æ¨¡å‹è¿›è¡Œæ‘˜è¦æ€»ç»“ï¼Œå†è°ƒç”¨generate_pdfå·¥å…·å°†æ€»ç»“å†…å®¹å†™å…¥åˆ°æœ¬åœ°çš„PDFæ–‡ä»¶ä¸­ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š\noptimization_prompt = ChatPromptTemplate.from_template(    &quot;&quot;&quot;è¯·ä¼˜åŒ–ä»¥ä¸‹ç½‘ç«™æ€»ç»“å†…å®¹ï¼Œä½¿å…¶æ›´é€‚åˆPDFæŠ¥å‘Šæ ¼å¼ï¼š    åŸå§‹æ€»ç»“ï¼š    &#123;summary&#125;    è¯·é‡æ–°ç»„ç»‡å†…å®¹ï¼ŒåŒ…æ‹¬ï¼š    1. æ¸…æ™°çš„æ ‡é¢˜å’Œç»“æ„    2. è¦ç‚¹æ€»ç»“    3. è¯¦ç»†è¯´æ˜    4. ä½¿ç”¨è¦æ±‚ç­‰    ä¼˜åŒ–åçš„å†…å®¹ï¼š&quot;&quot;&quot;)model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)# å¸¦ä¼˜åŒ–çš„ä¸²è¡Œé“¾ï¼šç½‘ç«™æ€»ç»“ â†’ LLMä¼˜åŒ– â†’ PDFç”Ÿæˆoptimized_chain = (    summarize_website     | (lambda summary: &#123;&quot;summary&quot;: summary&#125;)    | optimization_prompt     | model     | StrOutputParser()     | generate_pdf)\n\nå®Œæ•´çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š\nfrom langchain_community.agent_toolkits import PlayWrightBrowserToolkitfrom langchain_community.tools.playwright.utils import create_sync_playwright_browserfrom langchain import hubfrom langchain.agents import AgentExecutor, create_openai_tools_agentfrom langchain.chat_models import init_chat_modelfrom langchain_core.tools import toolfrom langchain_core.prompts import ChatPromptTemplatefrom langchain_core.output_parsers import StrOutputParserfrom reportlab.lib.pagesizes import letter, A4from reportlab.platypus import SimpleDocTemplate, Paragraph, Spacerfrom reportlab.lib.styles import getSampleStyleSheet, ParagraphStylefrom reportlab.lib.enums import TA_JUSTIFY, TA_CENTERfrom reportlab.pdfbase import pdfmetricsfrom reportlab.pdfbase.ttfonts import TTFontimport osfrom datetime import datetimeimport osfrom dotenv import load_dotenvload_dotenv(override=True)DeepSeek_API_KEY = os.getenv(&quot;DEEPSEEK_API_KEY&quot;)# 1. åˆ›å»ºç½‘ç«™æ€»ç»“å·¥å…·@tooldef summarize_website(url: str) -&gt; str:    &quot;&quot;&quot;è®¿é—®æŒ‡å®šç½‘ç«™å¹¶è¿”å›å†…å®¹æ€»ç»“&quot;&quot;&quot;    try:        # åˆ›å»ºæµè§ˆå™¨å®ä¾‹        sync_browser = create_sync_playwright_browser()        toolkit = PlayWrightBrowserToolkit.from_browser(sync_browser=sync_browser)        tools = toolkit.get_tools()        # åˆå§‹åŒ–æ¨¡å‹å’ŒAgent        model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)        prompt = hub.pull(&quot;hwchase17/openai-tools-agent&quot;)        agent = create_openai_tools_agent(model, tools, prompt)        agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=False)        # æ‰§è¡Œæ€»ç»“ä»»åŠ¡        command = &#123;            &quot;input&quot;: f&quot;è®¿é—®è¿™ä¸ªç½‘ç«™ &#123;url&#125; å¹¶å¸®æˆ‘è¯¦ç»†æ€»ç»“ä¸€ä¸‹è¿™ä¸ªç½‘ç«™çš„å†…å®¹ï¼ŒåŒ…æ‹¬ä¸»è¦åŠŸèƒ½ã€ç‰¹ç‚¹å’Œä½¿ç”¨æ–¹æ³•&quot;        &#125;        result = agent_executor.invoke(command)        return result.get(&quot;output&quot;, &quot;æ— æ³•è·å–ç½‘ç«™å†…å®¹æ€»ç»“&quot;)    except Exception as e:        return f&quot;ç½‘ç«™è®¿é—®å¤±è´¥: &#123;str(e)&#125;&quot;# 2. åˆ›å»ºPDFç”Ÿæˆå·¥å…·@tooldef generate_pdf(content: str) -&gt; str:    &quot;&quot;&quot;å°†æ–‡æœ¬å†…å®¹ç”Ÿæˆä¸ºPDFæ–‡ä»¶&quot;&quot;&quot;    try:        # ç”Ÿæˆæ–‡ä»¶åï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰        timestamp = datetime.now().strftime(&quot;%Y%m%d_%H%M%S&quot;)        filename = f&quot;website_summary_&#123;timestamp&#125;.pdf&quot;        # åˆ›å»ºPDFæ–‡æ¡£        doc = SimpleDocTemplate(filename, pagesize=A4)        styles = getSampleStyleSheet()        # æ³¨å†Œä¸­æ–‡å­—ä½“ï¼ˆå¦‚æœç³»ç»Ÿæœ‰çš„è¯ï¼‰        try:            # Windows ç³»ç»Ÿå­—ä½“è·¯å¾„            font_paths = [                &quot;C:/Windows/Fonts/simhei.ttf&quot;,  # é»‘ä½“                &quot;C:/Windows/Fonts/simsun.ttc&quot;,  # å®‹ä½“                &quot;C:/Windows/Fonts/msyh.ttc&quot;,  # å¾®è½¯é›…é»‘            ]            chinese_font_registered = False            for font_path in font_paths:                if os.path.exists(font_path):                    try:                        pdfmetrics.registerFont(TTFont(&#x27;ChineseFont&#x27;, font_path))                        chinese_font_registered = True                        print(f&quot;âœ… æˆåŠŸæ³¨å†Œä¸­æ–‡å­—ä½“: &#123;font_path&#125;&quot;)                        break                    except:                        continue            if not chinese_font_registered:                print(&quot;âš ï¸ æœªæ‰¾åˆ°ä¸­æ–‡å­—ä½“ï¼Œä½¿ç”¨é»˜è®¤å­—ä½“&quot;)        except Exception as e:            print(f&quot;âš ï¸ å­—ä½“æ³¨å†Œå¤±è´¥: &#123;e&#125;&quot;)        # è‡ªå®šä¹‰æ ·å¼ - æ”¯æŒä¸­æ–‡        title_style = ParagraphStyle(            &#x27;CustomTitle&#x27;,            parent=styles[&#x27;Heading1&#x27;],            fontSize=18,            alignment=TA_CENTER,            spaceAfter=30,            fontName=&#x27;ChineseFont&#x27; if &#x27;chinese_font_registered&#x27; in locals() and chinese_font_registered else &#x27;Helvetica-Bold&#x27;        )        content_style = ParagraphStyle(            &#x27;CustomContent&#x27;,            parent=styles[&#x27;Normal&#x27;],            fontSize=11,            alignment=TA_JUSTIFY,            leftIndent=20,            rightIndent=20,            spaceAfter=12,            fontName=&#x27;ChineseFont&#x27; if &#x27;chinese_font_registered&#x27; in locals() and chinese_font_registered else &#x27;Helvetica&#x27;        )        # æ„å»ºPDFå†…å®¹        story = []        # æ ‡é¢˜        story.append(Paragraph(&quot;ç½‘ç«™å†…å®¹æ€»ç»“æŠ¥å‘Š&quot;, title_style))        story.append(Spacer(1, 20))        # ç”Ÿæˆæ—¶é—´        time_text = f&quot;ç”Ÿæˆæ—¶é—´: &#123;datetime.now().strftime(&#x27;%Y-%m-%d %H:%M:%S&#x27;)&#125;&quot;        story.append(Paragraph(time_text, styles[&#x27;Normal&#x27;]))        story.append(Spacer(1, 20))        # åˆ†éš”çº¿        story.append(Paragraph(&quot;=&quot; * 50, styles[&#x27;Normal&#x27;]))        story.append(Spacer(1, 15))        # ä¸»è¦å†…å®¹ - æ”¹è¿›ä¸­æ–‡å¤„ç†        if content:            # æ¸…ç†å’Œå¤„ç†å†…å®¹            content = content.replace(&#x27;\\r\\n&#x27;, &#x27;\\n&#x27;).replace(&#x27;\\r&#x27;, &#x27;\\n&#x27;)            paragraphs = content.split(&#x27;\\n&#x27;)            for para in paragraphs:                if para.strip():                    # å¤„ç†ç‰¹æ®Šå­—ç¬¦ï¼Œç¡®ä¿PDFå¯ä»¥æ­£ç¡®æ˜¾ç¤º                    clean_para = para.strip()                    # è½¬æ¢HTMLå®ä½“                    clean_para = clean_para.replace(&#x27;&amp;lt;&#x27;, &#x27;&lt;&#x27;).replace(&#x27;&amp;gt;&#x27;, &#x27;&gt;&#x27;).replace(&#x27;&amp;amp;&#x27;, &#x27;&amp;&#x27;)                    try:                        story.append(Paragraph(clean_para, content_style))                        story.append(Spacer(1, 8))                    except Exception as para_error:                        # å¦‚æœæ®µè½æœ‰é—®é¢˜ï¼Œå°è¯•ç”¨é»˜è®¤å­—ä½“                        try:                            fallback_style = ParagraphStyle(                                &#x27;Fallback&#x27;,                                parent=styles[&#x27;Normal&#x27;],                                fontSize=10,                                leftIndent=20,                                rightIndent=20,                                spaceAfter=10                            )                            story.append(Paragraph(clean_para, fallback_style))                            story.append(Spacer(1, 8))                        except:                            # å¦‚æœè¿˜æ˜¯æœ‰é—®é¢˜ï¼Œè®°å½•é”™è¯¯ä½†ç»§ç»­                            print(f&quot;âš ï¸ æ®µè½å¤„ç†å¤±è´¥: &#123;clean_para[:50]&#125;...&quot;)                            continue        else:            story.append(Paragraph(&quot;æš‚æ— å†…å®¹&quot;, content_style))        # é¡µè„šä¿¡æ¯        story.append(Spacer(1, 30))        story.append(Paragraph(&quot;=&quot; * 50, styles[&#x27;Normal&#x27;]))        story.append(Paragraph(&quot;æœ¬æŠ¥å‘Šç”± Playwright PDF Agent è‡ªåŠ¨ç”Ÿæˆ&quot;, styles[&#x27;Italic&#x27;]))        # ç”ŸæˆPDF        doc.build(story)        # è·å–ç»å¯¹è·¯å¾„        abs_path = os.path.abspath(filename)        print(f&quot;ğŸ“„ PDFæ–‡ä»¶ç”Ÿæˆå®Œæˆ: &#123;abs_path&#125;&quot;)        return f&quot;PDFæ–‡ä»¶å·²æˆåŠŸç”Ÿæˆ: &#123;abs_path&#125;&quot;    except Exception as e:        error_msg = f&quot;PDFç”Ÿæˆå¤±è´¥: &#123;str(e)&#125;&quot;        print(error_msg)        return error_msg# 3. åˆ›å»ºä¸²è¡Œé“¾print(&quot;=== åˆ›å»ºä¸²è¡Œé“¾ï¼šç½‘ç«™æ€»ç»“ â†’ PDFç”Ÿæˆ ===&quot;)# æ–¹æ³•1ï¼šç®€å•ä¸²è¡Œé“¾simple_chain = summarize_website | generate_pdf# æ–¹æ³•2ï¼šå¸¦LLMä¼˜åŒ–çš„ä¸²è¡Œé“¾optimization_prompt = ChatPromptTemplate.from_template(    &quot;&quot;&quot;è¯·ä¼˜åŒ–ä»¥ä¸‹ç½‘ç«™æ€»ç»“å†…å®¹ï¼Œä½¿å…¶æ›´é€‚åˆPDFæŠ¥å‘Šæ ¼å¼ï¼š    åŸå§‹æ€»ç»“ï¼š    &#123;summary&#125;        è¯·é‡æ–°ç»„ç»‡å†…å®¹ï¼ŒåŒ…æ‹¬ï¼š    1. æ¸…æ™°çš„æ ‡é¢˜å’Œç»“æ„    2. è¦ç‚¹æ€»ç»“    3. è¯¦ç»†è¯´æ˜    4. ä½¿ç”¨è¦æ±‚ç­‰        ä¼˜åŒ–åçš„å†…å®¹ï¼š&quot;&quot;&quot;)model = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)# å¸¦ä¼˜åŒ–çš„ä¸²è¡Œé“¾ï¼šç½‘ç«™æ€»ç»“ â†’ LLMä¼˜åŒ– â†’ PDFç”Ÿæˆoptimized_chain = (        summarize_website        | (lambda summary: &#123;&quot;summary&quot;: summary&#125;)        | optimization_prompt        | model        | StrOutputParser()        | generate_pdf)# 4. æµ‹è¯•å‡½æ•°def test_simple_chain(url: str):    &quot;&quot;&quot;æµ‹è¯•ç®€å•ä¸²è¡Œé“¾&quot;&quot;&quot;    print(f&quot;\\nğŸ”„ å¼€å§‹å¤„ç†URL: &#123;url&#125;&quot;)    print(&quot;ğŸ“ æ­¥éª¤1: ç½‘ç«™æ€»ç»“...&quot;)    print(&quot;ğŸ“„ æ­¥éª¤2: ç”ŸæˆPDF...&quot;)    result = simple_chain.invoke(url)    print(f&quot;âœ… å®Œæˆ: &#123;result&#125;&quot;)    return resultdef test_optimized_chain(url: str):    &quot;&quot;&quot;æµ‹è¯•ä¼˜åŒ–ä¸²è¡Œé“¾&quot;&quot;&quot;    print(f&quot;\\nğŸ”„ å¼€å§‹å¤„ç†URL (ä¼˜åŒ–ç‰ˆ): &#123;url&#125;&quot;)    print(&quot;ğŸ“ æ­¥éª¤1: ç½‘ç«™æ€»ç»“...&quot;)    print(&quot;ğŸ¨ æ­¥éª¤2: å†…å®¹ä¼˜åŒ–...&quot;)    print(&quot;ğŸ“„ æ­¥éª¤3: ç”ŸæˆPDF...&quot;)    result = optimized_chain.invoke(url)    print(f&quot;âœ… å®Œæˆ: &#123;result&#125;&quot;)    return result# 5. åˆ›å»ºäº¤äº’å¼å‡½æ•°def create_website_pdf_report(url: str, use_optimization: bool = True):    &quot;&quot;&quot;åˆ›å»ºç½‘ç«™PDFæŠ¥å‘Šçš„ä¸»å‡½æ•°&quot;&quot;&quot;    print(&quot;=&quot; * 60)    print(&quot;ğŸ¤– ç½‘ç«™å†…å®¹PDFç”Ÿæˆå™¨&quot;)    print(&quot;=&quot; * 60)    try:        if use_optimization:            result = test_optimized_chain(url)        else:            result = test_simple_chain(url)        print(&quot;\\n&quot; + &quot;=&quot; * 60)        print(&quot;ğŸ‰ ä»»åŠ¡å®Œæˆï¼&quot;)        print(&quot;=&quot; * 60)        return result    except Exception as e:        error_msg = f&quot;âŒ å¤„ç†å¤±è´¥: &#123;str(e)&#125;&quot;        print(error_msg)        return error_msg# 6. ä¸»ç¨‹åºå…¥å£if __name__ == &quot;__main__&quot;:    # æµ‹è¯•URL    test_url = &quot;https://blogroll.naosi.org/&quot;    print(&quot;é€‰æ‹©å¤„ç†æ–¹å¼:&quot;)    print(&quot;1. ç®€å•ä¸²è¡Œé“¾ï¼ˆç›´æ¥æ€»ç»“ â†’ PDFï¼‰&quot;)    print(&quot;2. ä¼˜åŒ–ä¸²è¡Œé“¾ï¼ˆæ€»ç»“ â†’ ä¼˜åŒ– â†’ PDFï¼‰&quot;)    choice = input(&quot;è¯·é€‰æ‹© (1/2): &quot;).strip()    if choice == &quot;1&quot;:        create_website_pdf_report(test_url, use_optimization=False)    elif choice == &quot;2&quot;:        create_website_pdf_report(test_url, use_optimization=True)    else:        print(&quot;ä½¿ç”¨é»˜è®¤ä¼˜åŒ–æ¨¡å¼...&quot;)        create_website_pdf_report(test_url, use_optimization=True)\n\nè¿™é‡Œä»…åšæ¼”ç¤ºå‚è€ƒï¼Œå®é™…ç”Ÿæˆæ•ˆæœä¸ä½³ï¼Œå¦‚éœ€ä½¿ç”¨åç»­è¿˜éœ€è¦æ›´ç²¾ç»†çš„è°ƒæ•´\nå…­ã€LangChain æ¥å…¥ MCP æŠ€æœ¯å®ç°æµç¨‹MCPï¼Œå…¨ç§°æ˜¯Model Context Protocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼Œç”±Claudeæ¯å…¬å¸Anthropicäºå»å¹´11æœˆæ­£å¼æå‡ºã€‚\nAnthropic MCPå‘å¸ƒé€šå‘Š\nMCP GitHubä¸»é¡µ\nMCPçš„æ ¸å¿ƒä½œç”¨ï¼Œæ˜¯ç»Ÿä¸€äº†Agentå¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¤§æ¨¡å‹è°ƒç”¨å¤–éƒ¨å·¥å…·çš„æŠ€æœ¯å®ç°æµç¨‹ï¼Œä»è€Œå¤§å¹…æé«˜Agentå¼€å‘æ•ˆç‡ã€‚åœ¨MCPè¯ç”Ÿä¹‹å‰ï¼Œä¸åŒçš„å¤–éƒ¨å·¥å…·å„æœ‰ä¸åŒçš„è°ƒç”¨æ–¹æ³•ï¼Œè¦è¿æ¥è¿™äº›å¤–éƒ¨å·¥å…·å¼€å‘Agentï¼Œå°±å¿…é¡»â€œæ¯ä¸€æŠŠé”å•ç‹¬é…ä¸€æŠŠé’¥åŒ™â€ï¼Œå¼€å‘å·¥ä½œéå¸¸ç¹çã€‚\n\nè€ŒMCPçš„è¯ç”Ÿï¼Œåˆ™ç»Ÿä¸€äº†è¿™äº›å¤–éƒ¨å·¥å…·çš„è°ƒç”¨æµç¨‹ï¼Œä½¿å¾—æ— è®ºä»€ä¹ˆæ ·çš„å·¥å…·ï¼Œéƒ½å¯ä»¥å€ŸåŠ©MCPæŠ€æœ¯æŒ‰ç…§ç»Ÿä¸€çš„ä¸€ä¸ªæµç¨‹å¿«é€Ÿæ¥å…¥åˆ°å¤§æ¨¡å‹ä¸­ï¼Œä»è€Œå¤§å¹…åŠ å¿«Agentå¼€å‘æ•ˆç‡ã€‚è¿™å°±å¥½æ¯”ç°åœ¨å¾ˆå¤šè®¾å¤‡éƒ½å¯ä»¥ä½¿ç”¨type-cå’Œç”µè„‘è¿æ¥ç±»ä¼¼ã€‚\n\nä»æŠ€æœ¯å®ç°è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å°†MCPçœ‹æˆæ˜¯Function callingçš„ä¸€ç§å°è£…ï¼Œé€šè¿‡server-clientæ¶æ„å’Œä¸€æ•´å¥—å¼€å‘å·¥å…·ï¼Œæ¥è§„èŒƒåŒ–Function callingå¼€å‘æµç¨‹ã€‚\n\né¦–å…ˆæ¥ä»‹ç»ä¸€ä¸‹MCPåŸºç¡€å®ç°æµç¨‹\nlangchain-mcp-adapters é¡¹ç›®ä¸»è¦ä¸ºLangChainå’ŒLangGraphæä¾›MCPçš„æ¥å…¥å’Œå…¼å®¹æ¥å£ï¼Œå…¶å·¥ä½œæµç¨‹ä¸»è¦å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\nå®é™…ä¸Šload_mcp_tools() è¿”å›çš„æ˜¯æ ‡å‡†çš„ LangChain å·¥å…·ï¼Œæ‰€ä»¥æ˜¯å®Œå…¨å¯ä»¥ç›´æ¥åœ¨LangChainç¯å¢ƒä¸­è¿›è¡Œä½¿ç”¨çš„ã€‚åŒæ—¶ï¼Œå®Œå…¨æ”¯æŒstdioã€Http SSEå’ŒStreamable HTTPä¸‰ç§ä¸åŒçš„é€šè®¯åè®®ã€‚\nä¸€ä¸ªæç®€çš„å¤©æ°”æŸ¥è¯¢MCPè°ƒç”¨æµç¨‹å¦‚ä¸‹ï¼š\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆå°è¯•æ‰‹åŠ¨å®ç°ä¸€éMCPå®è·µæµç¨‹ï¼Œç„¶åå†è€ƒè™‘å°†å·²ç»éƒ¨ç½²å¥½çš„serverä»£å…¥å…¶ä¸­ï¼Œä½œä¸ºtoolsè¿›è¡Œè°ƒç”¨ã€‚\né¦–å…ˆå€ŸåŠ©uvåˆ›å»ºMCPè¿è¡Œç¯å¢ƒ\næ–¹æ³• 1ï¼šä½¿ç”¨ pip å®‰è£…ï¼ˆé€‚ç”¨äºå·²å®‰è£… pip çš„ç³»ç»Ÿï¼‰\npip install uv\n\næ–¹æ³• 2ï¼šä½¿ç”¨ curl ç›´æ¥å®‰è£…\nå¦‚æœä½ çš„ç³»ç»Ÿæ²¡æœ‰ pipï¼Œå¯ä»¥ç›´æ¥è¿è¡Œï¼š\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n\nè¿™ä¼šè‡ªåŠ¨ä¸‹è½½ uv å¹¶å®‰è£…åˆ° /usr/local/binã€‚\næ¥ç€åˆ›å»º MCP å®¢æˆ·ç«¯é¡¹ç›®\n# åˆ›å»ºé¡¹ç›®ç›®å½•uv init mcp-client# è¿›å…¥é¡¹ç›®ç›®å½•cd mcp-client\n\næ¥ç€åˆ›å»ºMCPå®¢æˆ·ç«¯è™šæ‹Ÿç¯å¢ƒ\n# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒuv venv# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ# Linux/macOSç¯å¢ƒsource .venv/bin/activate# Windowsç¯å¢ƒ.\\.venv\\Scripts\\Activate.ps1# .\\.venv\\Scripts\\activate.bat\n\nç„¶åå³å¯é€šè¿‡addæ–¹æ³•åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…ç›¸å…³çš„åº“ã€‚\n# å®‰è£… MCP SDKuv add mcp openai python-dotenv httpx\n\næ¥ç€ç¼–å†™ç”¨äºå¤©æ°”æŸ¥è¯¢çš„serveræœåŠ¡å™¨ä»£ç ï¼š\nè¿™é‡Œæˆ‘ä»¬éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªweather_server.pyï¼Œå¹¶å†™å…¥å¦‚ä¸‹ä»£ç ï¼š\nimport jsonimport httpxfrom typing import Anyfrom mcp.server.fastmcp import FastMCP# åˆå§‹åŒ– MCP æœåŠ¡å™¨mcp = FastMCP(&quot;WeatherServer&quot;)# OpenWeather API é…ç½®OPENWEATHER_API_BASE = &quot;https://api.openweathermap.org/data/2.5/weather&quot;API_KEY = &quot;YOUR_API_KEY&quot;  # è¯·æ›¿æ¢ä¸ºä½ è‡ªå·±çš„ OpenWeather API KeyUSER_AGENT = &quot;weather-app/1.0&quot;async def fetch_weather(city: str) -&gt; dict[str, Any] | None:    &quot;&quot;&quot;    ä» OpenWeather API è·å–å¤©æ°”ä¿¡æ¯ã€‚    :param city: åŸå¸‚åç§°ï¼ˆéœ€ä½¿ç”¨è‹±æ–‡ï¼Œå¦‚ Beijingï¼‰    :return: å¤©æ°”æ•°æ®å­—å…¸ï¼›è‹¥å‡ºé”™è¿”å›åŒ…å« error ä¿¡æ¯çš„å­—å…¸    &quot;&quot;&quot;    params = &#123;        &quot;q&quot;: city,        &quot;appid&quot;: API_KEY,        &quot;units&quot;: &quot;metric&quot;,        &quot;lang&quot;: &quot;zh_cn&quot;    &#125;    headers = &#123;&quot;User-Agent&quot;: USER_AGENT&#125;    async with httpx.AsyncClient() as client:        try:            response = await client.get(OPENWEATHER_API_BASE, params=params, headers=headers, timeout=30.0)            response.raise_for_status()            return response.json()  # è¿”å›å­—å…¸ç±»å‹        except httpx.HTTPStatusError as e:            return &#123;&quot;error&quot;: f&quot;HTTP é”™è¯¯: &#123;e.response.status_code&#125;&quot;&#125;        except Exception as e:            return &#123;&quot;error&quot;: f&quot;è¯·æ±‚å¤±è´¥: &#123;str(e)&#125;&quot;&#125;def format_weather(data: dict[str, Any] | str) -&gt; str:    &quot;&quot;&quot;    å°†å¤©æ°”æ•°æ®æ ¼å¼åŒ–ä¸ºæ˜“è¯»æ–‡æœ¬ã€‚    :param data: å¤©æ°”æ•°æ®ï¼ˆå¯ä»¥æ˜¯å­—å…¸æˆ– JSON å­—ç¬¦ä¸²ï¼‰    :return: æ ¼å¼åŒ–åçš„å¤©æ°”ä¿¡æ¯å­—ç¬¦ä¸²    &quot;&quot;&quot;    # å¦‚æœä¼ å…¥çš„æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™å…ˆè½¬æ¢ä¸ºå­—å…¸    if isinstance(data, str):        try:            data = json.loads(data)        except Exception as e:            return f&quot;æ— æ³•è§£æå¤©æ°”æ•°æ®: &#123;e&#125;&quot;    # å¦‚æœæ•°æ®ä¸­åŒ…å«é”™è¯¯ä¿¡æ¯ï¼Œç›´æ¥è¿”å›é”™è¯¯æç¤º    if &quot;error&quot; in data:        return f&quot;âš ï¸ &#123;data[&#x27;error&#x27;]&#125;&quot;    # æå–æ•°æ®æ—¶åšå®¹é”™å¤„ç†    city = data.get(&quot;name&quot;, &quot;æœªçŸ¥&quot;)    country = data.get(&quot;sys&quot;, &#123;&#125;).get(&quot;country&quot;, &quot;æœªçŸ¥&quot;)    temp = data.get(&quot;main&quot;, &#123;&#125;).get(&quot;temp&quot;, &quot;N/A&quot;)    humidity = data.get(&quot;main&quot;, &#123;&#125;).get(&quot;humidity&quot;, &quot;N/A&quot;)    wind_speed = data.get(&quot;wind&quot;, &#123;&#125;).get(&quot;speed&quot;, &quot;N/A&quot;)    # weather å¯èƒ½ä¸ºç©ºåˆ—è¡¨ï¼Œå› æ­¤ç”¨ [0] å‰å…ˆæä¾›é»˜è®¤å­—å…¸    weather_list = data.get(&quot;weather&quot;, [&#123;&#125;])    description = weather_list[0].get(&quot;description&quot;, &quot;æœªçŸ¥&quot;)    return (        f&quot;ğŸŒ &#123;city&#125;, &#123;country&#125;\\n&quot;        f&quot;ğŸŒ¡ æ¸©åº¦: &#123;temp&#125;Â°C\\n&quot;        f&quot;ğŸ’§ æ¹¿åº¦: &#123;humidity&#125;%\\n&quot;        f&quot;ğŸŒ¬ é£é€Ÿ: &#123;wind_speed&#125; m/s\\n&quot;        f&quot;ğŸŒ¤ å¤©æ°”: &#123;description&#125;\\n&quot;    )@mcp.tool()async def query_weather(city: str) -&gt; str:    &quot;&quot;&quot;    è¾“å…¥æŒ‡å®šåŸå¸‚çš„è‹±æ–‡åç§°ï¼Œè¿”å›ä»Šæ—¥å¤©æ°”æŸ¥è¯¢ç»“æœã€‚    :param city: åŸå¸‚åç§°ï¼ˆéœ€ä½¿ç”¨è‹±æ–‡ï¼‰    :return: æ ¼å¼åŒ–åçš„å¤©æ°”ä¿¡æ¯    &quot;&quot;&quot;    data = await fetch_weather(city)    return format_weather(data)if __name__ == &quot;__main__&quot;:    # ä»¥æ ‡å‡† I/O æ–¹å¼è¿è¡Œ MCP æœåŠ¡å™¨    mcp.run(transport=&#x27;stdio&#x27;)\n\nä¸ºäº†æ›´å¥½çš„æµ‹è¯•å¤šMCPå·¥å…·è°ƒç”¨æµç¨‹ï¼Œè¿™é‡Œæˆ‘ä»¬ç»§ç»­åˆ›å»ºä¸€ä¸ªwrite_server.pyæœåŠ¡å™¨ï¼š\nimport jsonimport httpxfrom typing import Anyfrom mcp.server.fastmcp import FastMCP# åˆå§‹åŒ– MCP æœåŠ¡å™¨mcp = FastMCP(&quot;WriteServer&quot;)USER_AGENT = &quot;write-app/1.0&quot;@mcp.tool()async def write_file(content: str) -&gt; str:    &quot;&quot;&quot;    å°†æŒ‡å®šå†…å®¹å†™å…¥æœ¬åœ°æ–‡ä»¶ã€‚    :param content: å¿…è¦å‚æ•°ï¼Œå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºéœ€è¦å†™å…¥æ–‡æ¡£çš„å…·ä½“å†…å®¹ã€‚    :returnï¼šæ˜¯å¦æˆåŠŸå†™å…¥    &quot;&quot;&quot;    return &quot;å·²æˆåŠŸå†™å…¥æœ¬åœ°æ–‡ä»¶ã€‚&quot;if __name__ == &quot;__main__&quot;:    # ä»¥æ ‡å‡† I/O æ–¹å¼è¿è¡Œ MCP æœåŠ¡å™¨    mcp.run(transport=&#x27;stdio&#x27;)\n\nç„¶ååˆ›å»ºä¸€ä¸ªå¯ä»¥å’Œserverè¿›è¡Œé€šä¿¡çš„å®¢æˆ·ç«¯\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥å®¢æˆ·ç«¯éœ€è¦åŒ…å«å¤§æ¨¡å‹è°ƒç”¨çš„åŸºç¡€ä¿¡æ¯ã€‚æˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ªclient.pyè„šæœ¬ï¼Œè¿™ä¸ªè„šæœ¬å†…å®¹éå¸¸å¤æ‚ï¼Œè¿™é‡Œæä¾›çš„æ˜¯é€šç”¨çš„mcpå®¢æˆ·ç«¯è„šæœ¬ï¼Œè¿˜æœªæ¥å…¥Langchainï¼Œä»£ç å¦‚ä¸‹ï¼š\nimport asyncioimport jsonimport loggingimport osimport shutilfrom contextlib import AsyncExitStackfrom typing import Any, Dict, List, Optionalimport httpxfrom dotenv import load_dotenvfrom openai import OpenAI  # OpenAI Python SDKfrom mcp import ClientSession, StdioServerParametersfrom mcp.client.stdio import stdio_client# Configure logginglogging.basicConfig(    level=logging.INFO, format=&quot;%(asctime)s - %(levelname)s - %(message)s&quot;)# =============================# é…ç½®åŠ è½½ç±»ï¼ˆæ”¯æŒç¯å¢ƒå˜é‡åŠé…ç½®æ–‡ä»¶ï¼‰# =============================class Configuration:    &quot;&quot;&quot;ç®¡ç† MCP å®¢æˆ·ç«¯çš„ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶&quot;&quot;&quot;    def __init__(self) -&gt; None:        load_dotenv()        # ä»ç¯å¢ƒå˜é‡ä¸­åŠ è½½ API key, base_url å’Œ model        self.api_key = os.getenv(&quot;LLM_API_KEY&quot;)        self.base_url = os.getenv(&quot;BASE_URL&quot;)        self.model = os.getenv(&quot;MODEL&quot;)        if not self.api_key:            raise ValueError(&quot;âŒ æœªæ‰¾åˆ° LLM_API_KEYï¼Œè¯·åœ¨ .env æ–‡ä»¶ä¸­é…ç½®&quot;)    @staticmethod    def load_config(file_path: str) -&gt; Dict[str, Any]:        &quot;&quot;&quot;        ä» JSON æ–‡ä»¶åŠ è½½æœåŠ¡å™¨é…ç½®                Args:            file_path: JSON é…ç½®æ–‡ä»¶è·¯å¾„                Returns:            åŒ…å«æœåŠ¡å™¨é…ç½®çš„å­—å…¸        &quot;&quot;&quot;        with open(file_path, &quot;r&quot;) as f:            return json.load(f)# =============================# MCP æœåŠ¡å™¨å®¢æˆ·ç«¯ç±»# =============================class Server:    &quot;&quot;&quot;ç®¡ç†å•ä¸ª MCP æœåŠ¡å™¨è¿æ¥å’Œå·¥å…·è°ƒç”¨&quot;&quot;&quot;    def __init__(self, name: str, config: Dict[str, Any]) -&gt; None:        self.name: str = name        self.config: Dict[str, Any] = config        self.session: Optional[ClientSession] = None        self.exit_stack: AsyncExitStack = AsyncExitStack()        self._cleanup_lock = asyncio.Lock()    async def initialize(self) -&gt; None:        &quot;&quot;&quot;åˆå§‹åŒ–ä¸ MCP æœåŠ¡å™¨çš„è¿æ¥&quot;&quot;&quot;        # command å­—æ®µç›´æ¥ä»é…ç½®è·å–        command = self.config[&quot;command&quot;]        if command is None:            raise ValueError(&quot;command ä¸èƒ½ä¸ºç©º&quot;)        server_params = StdioServerParameters(            command=command,            args=self.config[&quot;args&quot;],            env=&#123;**os.environ, **self.config[&quot;env&quot;]&#125; if self.config.get(&quot;env&quot;) else None,        )        try:            stdio_transport = await self.exit_stack.enter_async_context(                stdio_client(server_params)            )            read_stream, write_stream = stdio_transport            session = await self.exit_stack.enter_async_context(                ClientSession(read_stream, write_stream)            )            await session.initialize()            self.session = session        except Exception as e:            logging.error(f&quot;Error initializing server &#123;self.name&#125;: &#123;e&#125;&quot;)            await self.cleanup()            raise    async def list_tools(self) -&gt; List[Any]:        &quot;&quot;&quot;è·å–æœåŠ¡å™¨å¯ç”¨çš„å·¥å…·åˆ—è¡¨        Returns:            å·¥å…·åˆ—è¡¨        &quot;&quot;&quot;        if not self.session:            raise RuntimeError(f&quot;Server &#123;self.name&#125; not initialized&quot;)        tools_response = await self.session.list_tools()        tools = []        for item in tools_response:            if isinstance(item, tuple) and item[0] == &quot;tools&quot;:                for tool in item[1]:                    tools.append(Tool(tool.name, tool.description, tool.inputSchema))        return tools    async def execute_tool(        self, tool_name: str, arguments: Dict[str, Any], retries: int = 2, delay: float = 1.0    ) -&gt; Any:        &quot;&quot;&quot;æ‰§è¡ŒæŒ‡å®šå·¥å…·ï¼Œå¹¶æ”¯æŒé‡è¯•æœºåˆ¶        Args:            tool_name: å·¥å…·åç§°            arguments: å·¥å…·å‚æ•°            retries: é‡è¯•æ¬¡æ•°            delay: é‡è¯•é—´éš”ç§’æ•°        Returns:            å·¥å…·è°ƒç”¨ç»“æœ        &quot;&quot;&quot;        if not self.session:            raise RuntimeError(f&quot;Server &#123;self.name&#125; not initialized&quot;)        attempt = 0        while attempt &lt; retries:            try:                logging.info(f&quot;Executing &#123;tool_name&#125; on server &#123;self.name&#125;...&quot;)                result = await self.session.call_tool(tool_name, arguments)                return result            except Exception as e:                attempt += 1                logging.warning(                    f&quot;Error executing tool: &#123;e&#125;. Attempt &#123;attempt&#125; of &#123;retries&#125;.&quot;                )                if attempt &lt; retries:                    logging.info(f&quot;Retrying in &#123;delay&#125; seconds...&quot;)                    await asyncio.sleep(delay)                else:                    logging.error(&quot;Max retries reached. Failing.&quot;)                    raise    async def cleanup(self) -&gt; None:        &quot;&quot;&quot;æ¸…ç†æœåŠ¡å™¨èµ„æº&quot;&quot;&quot;        async with self._cleanup_lock:            try:                await self.exit_stack.aclose()                self.session = None            except Exception as e:                logging.error(f&quot;Error during cleanup of server &#123;self.name&#125;: &#123;e&#125;&quot;)# =============================# å·¥å…·å°è£…ç±»# =============================class Tool:    &quot;&quot;&quot;å°è£… MCP è¿”å›çš„å·¥å…·ä¿¡æ¯&quot;&quot;&quot;    def __init__(self, name: str, description: str, input_schema: Dict[str, Any]) -&gt; None:        self.name: str = name        self.description: str = description        self.input_schema: Dict[str, Any] = input_schema    def format_for_llm(self) -&gt; str:        &quot;&quot;&quot;ç”Ÿæˆç”¨äº LLM æç¤ºçš„å·¥å…·æè¿°&quot;&quot;&quot;        args_desc = []        if &quot;properties&quot; in self.input_schema:            for param_name, param_info in self.input_schema[&quot;properties&quot;].items():                arg_desc = f&quot;- &#123;param_name&#125;: &#123;param_info.get(&#x27;description&#x27;, &#x27;No description&#x27;)&#125;&quot;                if param_name in self.input_schema.get(&quot;required&quot;, []):                    arg_desc += &quot; (required)&quot;                args_desc.append(arg_desc)        return f&quot;&quot;&quot;Tool: &#123;self.name&#125;Description: &#123;self.description&#125;Arguments:&#123;chr(10).join(args_desc)&#125;&quot;&quot;&quot;# =============================# LLM å®¢æˆ·ç«¯å°è£…ç±»ï¼ˆä½¿ç”¨ OpenAI SDKï¼‰# =============================class LLMClient:    &quot;&quot;&quot;ä½¿ç”¨ OpenAI SDK ä¸å¤§æ¨¡å‹äº¤äº’&quot;&quot;&quot;    def __init__(self, api_key: str, base_url: Optional[str], model: str) -&gt; None:        self.client = OpenAI(api_key=api_key, base_url=base_url)        self.model = model    def get_response(self, messages: List[Dict[str, Any]], tools: Optional[List[Dict[str, Any]]] = None) -&gt; Any:        &quot;&quot;&quot;        å‘é€æ¶ˆæ¯ç»™å¤§æ¨¡å‹ APIï¼Œæ”¯æŒä¼ å…¥å·¥å…·å‚æ•°ï¼ˆfunction calling æ ¼å¼ï¼‰        &quot;&quot;&quot;        payload = &#123;            &quot;model&quot;: self.model,            &quot;messages&quot;: messages,            &quot;tools&quot;: tools,        &#125;        try:            response = self.client.chat.completions.create(**payload)            return response        except Exception as e:            logging.error(f&quot;Error during LLM call: &#123;e&#125;&quot;)            raise# =============================# å¤šæœåŠ¡å™¨ MCP å®¢æˆ·ç«¯ç±»ï¼ˆé›†æˆé…ç½®æ–‡ä»¶ã€å·¥å…·æ ¼å¼è½¬æ¢ä¸ OpenAI SDK è°ƒç”¨ï¼‰# =============================class MultiServerMCPClient:    def __init__(self) -&gt; None:        &quot;&quot;&quot;        ç®¡ç†å¤šä¸ª MCP æœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨ OpenAI Function Calling é£æ ¼çš„æ¥å£è°ƒç”¨å¤§æ¨¡å‹        &quot;&quot;&quot;        self.exit_stack = AsyncExitStack()        config = Configuration()        self.openai_api_key = config.api_key        self.base_url = config.base_url        self.model = config.model        self.client = LLMClient(self.openai_api_key, self.base_url, self.model)        # (server_name -&gt; Server å¯¹è±¡)        self.servers: Dict[str, Server] = &#123;&#125;        # å„ä¸ª server çš„å·¥å…·åˆ—è¡¨        self.tools_by_server: Dict[str, List[Any]] = &#123;&#125;        self.all_tools: List[Dict[str, Any]] = []    async def connect_to_servers(self, servers_config: Dict[str, Any]) -&gt; None:        &quot;&quot;&quot;        æ ¹æ®é…ç½®æ–‡ä»¶åŒæ—¶å¯åŠ¨å¤šä¸ªæœåŠ¡å™¨å¹¶è·å–å·¥å…·        servers_config çš„æ ¼å¼ä¸ºï¼š        &#123;          &quot;mcpServers&quot;: &#123;              &quot;sqlite&quot;: &#123; &quot;command&quot;: &quot;uvx&quot;, &quot;args&quot;: [ ... ] &#125;,              &quot;puppeteer&quot;: &#123; &quot;command&quot;: &quot;npx&quot;, &quot;args&quot;: [ ... ] &#125;,              ...          &#125;        &#125;        &quot;&quot;&quot;        mcp_servers = servers_config.get(&quot;mcpServers&quot;, &#123;&#125;)        for server_name, srv_config in mcp_servers.items():            server = Server(server_name, srv_config)            await server.initialize()            self.servers[server_name] = server            tools = await server.list_tools()            self.tools_by_server[server_name] = tools            for tool in tools:                # ç»Ÿä¸€é‡å‘½åï¼šserverName_toolName                function_name = f&quot;&#123;server_name&#125;_&#123;tool.name&#125;&quot;                self.all_tools.append(&#123;                    &quot;type&quot;: &quot;function&quot;,                    &quot;function&quot;: &#123;                        &quot;name&quot;: function_name,                        &quot;description&quot;: tool.description,                        &quot;input_schema&quot;: tool.input_schema                    &#125;                &#125;)        # è½¬æ¢ä¸º OpenAI Function Calling æ‰€éœ€æ ¼å¼        self.all_tools = await self.transform_json(self.all_tools)        logging.info(&quot;\\nâœ… å·²è¿æ¥åˆ°ä¸‹åˆ—æœåŠ¡å™¨:&quot;)        for name in self.servers:            srv_cfg = mcp_servers[name]            logging.info(f&quot;  - &#123;name&#125;: command=&#123;srv_cfg[&#x27;command&#x27;]&#125;, args=&#123;srv_cfg[&#x27;args&#x27;]&#125;&quot;)        logging.info(&quot;\\næ±‡æ€»çš„å·¥å…·:&quot;)        for t in self.all_tools:            logging.info(f&quot;  - &#123;t[&#x27;function&#x27;][&#x27;name&#x27;]&#125;&quot;)    async def transform_json(self, json_data: List[Dict[str, Any]]) -&gt; List[Dict[str, Any]]:        &quot;&quot;&quot;        å°†å·¥å…·çš„ input_schema è½¬æ¢ä¸º OpenAI æ‰€éœ€çš„ parameters æ ¼å¼ï¼Œå¹¶åˆ é™¤å¤šä½™å­—æ®µ        &quot;&quot;&quot;        result = []        for item in json_data:            if not isinstance(item, dict) or &quot;type&quot; not in item or &quot;function&quot; not in item:                continue            old_func = item[&quot;function&quot;]            if not isinstance(old_func, dict) or &quot;name&quot; not in old_func or &quot;description&quot; not in old_func:                continue            new_func = &#123;                &quot;name&quot;: old_func[&quot;name&quot;],                &quot;description&quot;: old_func[&quot;description&quot;],                &quot;parameters&quot;: &#123;&#125;            &#125;            if &quot;input_schema&quot; in old_func and isinstance(old_func[&quot;input_schema&quot;], dict):                old_schema = old_func[&quot;input_schema&quot;]                new_func[&quot;parameters&quot;][&quot;type&quot;] = old_schema.get(&quot;type&quot;, &quot;object&quot;)                new_func[&quot;parameters&quot;][&quot;properties&quot;] = old_schema.get(&quot;properties&quot;, &#123;&#125;)                new_func[&quot;parameters&quot;][&quot;required&quot;] = old_schema.get(&quot;required&quot;, [])            new_item = &#123;                &quot;type&quot;: item[&quot;type&quot;],                &quot;function&quot;: new_func            &#125;            result.append(new_item)        return result    async def chat_base(self, messages: List[Dict[str, Any]]) -&gt; Any:        &quot;&quot;&quot;        ä½¿ç”¨ OpenAI æ¥å£è¿›è¡Œå¯¹è¯ï¼Œå¹¶æ”¯æŒå¤šæ¬¡å·¥å…·è°ƒç”¨ï¼ˆFunction Callingï¼‰ã€‚        å¦‚æœè¿”å› finish_reason ä¸º &quot;tool_calls&quot;ï¼Œåˆ™è¿›è¡Œå·¥å…·è°ƒç”¨åå†å‘èµ·è¯·æ±‚ã€‚        &quot;&quot;&quot;        response = self.client.get_response(messages, tools=self.all_tools)        # å¦‚æœæ¨¡å‹è¿”å›å·¥å…·è°ƒç”¨        if response.choices[0].finish_reason == &quot;tool_calls&quot;:            while True:                messages = await self.create_function_response_messages(messages, response)                response = self.client.get_response(messages, tools=self.all_tools)                if response.choices[0].finish_reason != &quot;tool_calls&quot;:                    break        return response    async def create_function_response_messages(self, messages: List[Dict[str, Any]], response: Any) -&gt; List[Dict[str, Any]]:        &quot;&quot;&quot;        å°†æ¨¡å‹è¿”å›çš„å·¥å…·è°ƒç”¨è§£ææ‰§è¡Œï¼Œå¹¶å°†ç»“æœè¿½åŠ åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­        &quot;&quot;&quot;        function_call_messages = response.choices[0].message.tool_calls        messages.append(response.choices[0].message.model_dump())        for function_call_message in function_call_messages:            tool_name = function_call_message.function.name            tool_args = json.loads(function_call_message.function.arguments)            # è°ƒç”¨ MCP å·¥å…·            function_response = await self._call_mcp_tool(tool_name, tool_args)            # ğŸ” æ‰“å°è¿”å›å€¼åŠå…¶ç±»å‹            # print(f&quot;[DEBUG] tool_name: &#123;tool_name&#125;&quot;)            # print(f&quot;[DEBUG] tool_args: &#123;tool_args&#125;&quot;)            # print(f&quot;[DEBUG] function_response: &#123;function_response&#125;&quot;)            # print(f&quot;[DEBUG] type(function_response): &#123;type(function_response)&#125;&quot;)            messages.append(&#123;                &quot;role&quot;: &quot;tool&quot;,                &quot;content&quot;: function_response,                &quot;tool_call_id&quot;: function_call_message.id,            &#125;)        return messages    async def process_query(self, user_query: str) -&gt; str:        &quot;&quot;&quot;        OpenAI Function Calling æµç¨‹ï¼š         1. å‘é€ç”¨æˆ·æ¶ˆæ¯ + å·¥å…·ä¿¡æ¯         2. è‹¥æ¨¡å‹è¿”å› finish_reason ä¸º &quot;tool_calls&quot;ï¼Œåˆ™è§£æå¹¶è°ƒç”¨ MCP å·¥å…·         3. å°†å·¥å…·è°ƒç”¨ç»“æœè¿”å›ç»™æ¨¡å‹ï¼Œè·å¾—æœ€ç»ˆå›ç­”        &quot;&quot;&quot;        messages = [&#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: user_query&#125;]        response = self.client.get_response(messages, tools=self.all_tools)        content = response.choices[0]        logging.info(content)        if content.finish_reason == &quot;tool_calls&quot;:            tool_call = content.message.tool_calls[0]            tool_name = tool_call.function.name            tool_args = json.loads(tool_call.function.arguments)            logging.info(f&quot;\\n[ è°ƒç”¨å·¥å…·: &#123;tool_name&#125;, å‚æ•°: &#123;tool_args&#125; ]\\n&quot;)            result = await self._call_mcp_tool(tool_name, tool_args)            messages.append(content.message.model_dump())            messages.append(&#123;                &quot;role&quot;: &quot;tool&quot;,                &quot;content&quot;: result,                &quot;tool_call_id&quot;: tool_call.id,            &#125;)            response = self.client.get_response(messages, tools=self.all_tools)            return response.choices[0].message.content        return content.message.content    async def _call_mcp_tool(self, tool_full_name: str, tool_args: Dict[str, Any]) -&gt; str:        &quot;&quot;&quot;        æ ¹æ® &quot;serverName_toolName&quot; æ ¼å¼è°ƒç”¨ç›¸åº” MCP å·¥å…·        &quot;&quot;&quot;        parts = tool_full_name.split(&quot;_&quot;, 1)        if len(parts) != 2:            return f&quot;æ— æ•ˆçš„å·¥å…·åç§°: &#123;tool_full_name&#125;&quot;        server_name, tool_name = parts        server = self.servers.get(server_name)        if not server:            return f&quot;æ‰¾ä¸åˆ°æœåŠ¡å™¨: &#123;server_name&#125;&quot;        resp = await server.execute_tool(tool_name, tool_args)                # ğŸ› ï¸ ä¿®å¤ç‚¹ï¼šæå– TextContent ä¸­çš„æ–‡æœ¬ï¼ˆæˆ–è½¬æˆå­—ç¬¦ä¸²ï¼‰        content = resp.content        if isinstance(content, list):            # æå–æ‰€æœ‰ TextContent å¯¹è±¡ä¸­çš„ text å­—æ®µ            texts = [c.text for c in content if hasattr(c, &quot;text&quot;)]            return &quot;\\n&quot;.join(texts)        elif isinstance(content, dict) or isinstance(content, list):            # å¦‚æœæ˜¯ dict æˆ– listï¼Œä½†ä¸æ˜¯ TextContent ç±»å‹            return json.dumps(content, ensure_ascii=False)        elif content is None:            return &quot;å·¥å…·æ‰§è¡Œæ— è¾“å‡º&quot;        else:            return str(content)    async def chat_loop(self) -&gt; None:        &quot;&quot;&quot;å¤šæœåŠ¡å™¨ MCP + OpenAI Function Calling å®¢æˆ·ç«¯ä¸»å¾ªç¯&quot;&quot;&quot;        logging.info(&quot;\\nğŸ¤– å¤šæœåŠ¡å™¨ MCP + Function Calling å®¢æˆ·ç«¯å·²å¯åŠ¨ï¼è¾“å…¥ &#x27;quit&#x27; é€€å‡ºã€‚&quot;)        messages: List[Dict[str, Any]] = []        while True:            query = input(&quot;\\nä½ : &quot;).strip()            if query.lower() == &quot;quit&quot;:                break            try:                messages.append(&#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: query&#125;)                messages = messages[-20:]  # ä¿æŒæœ€æ–° 20 æ¡ä¸Šä¸‹æ–‡                response = await self.chat_base(messages)                messages.append(response.choices[0].message.model_dump())                result = response.choices[0].message.content                # logging.info(f&quot;\\nAI: &#123;result&#125;&quot;)                print(f&quot;\\nAI: &#123;result&#125;&quot;)            except Exception as e:                print(f&quot;\\nâš ï¸  è°ƒç”¨è¿‡ç¨‹å‡ºé”™: &#123;e&#125;&quot;)    async def cleanup(self) -&gt; None:        &quot;&quot;&quot;å…³é—­æ‰€æœ‰èµ„æº&quot;&quot;&quot;        await self.exit_stack.aclose()# =============================# ä¸»å‡½æ•°# =============================async def main() -&gt; None:    # ä»é…ç½®æ–‡ä»¶åŠ è½½æœåŠ¡å™¨é…ç½®    config = Configuration()    servers_config = config.load_config(&quot;servers_config.json&quot;)    client = MultiServerMCPClient()    try:        await client.connect_to_servers(servers_config)        await client.chat_loop()    finally:        try:            await asyncio.sleep(0.1)            await client.cleanup()        except RuntimeError as e:            # å¦‚æœæ˜¯å› ä¸ºé€€å‡º cancel scope å¯¼è‡´çš„å¼‚å¸¸ï¼Œå¯ä»¥é€‰æ‹©å¿½ç•¥            if &quot;Attempted to exit cancel scope&quot; in str(e):                logging.info(&quot;é€€å‡ºæ—¶æ£€æµ‹åˆ° cancel scope å¼‚å¸¸ï¼Œå·²å¿½ç•¥ã€‚&quot;)            else:                raiseif __name__ == &quot;__main__&quot;:    asyncio.run(main())\n\næ¥ä¸‹æ¥ç»§ç»­åˆ›å»ºä¸€ä¸ª.envæ–‡ä»¶ï¼Œæ¥ä¿å­˜å¤§æ¨¡å‹è°ƒç”¨çš„API-KEY\nå¹¶å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š\nBASE_URL=https://api.deepseek.comMODEL=deepseek-chatOPENAI_API_KEY=YOUR_DEEPSEEK_API_KEY\n\næ¥ä¸‹æ¥ç»§ç»­åˆ›å»ºservers_config.jsonæ–‡ä»¶ï¼Œç”¨äºä¿å­˜MCPå·¥å…·åŸºæœ¬ä¿¡æ¯ï¼š\n&#123;  &quot;mcpServers&quot;: &#123;    &quot;weather&quot;: &#123;      &quot;command&quot;: &quot;python&quot;,      &quot;args&quot;: [&quot;weather_server.py&quot;],      &quot;transport&quot;: &quot;stdio&quot;    &#125;,    &quot;write&quot;: &#123;      &quot;command&quot;: &quot;python&quot;,      &quot;args&quot;: [&quot;write_server.py&quot;],      &quot;transport&quot;: &quot;stdio&quot;    &#125;  &#125;&#125;\n\næœ€ååœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œæ³¨æ„åœ¨æ­¤ä¹‹å‰è¦å…ˆå¯åŠ¨ä¸¤ä¸ªmcpæœåŠ¡å™¨è„šæœ¬ï¼Œå³å¯å¼€å¯å¯¹è¯ï¼š\nuv run client.py\n\nè‡³æ­¤ï¼Œå³å®Œæˆäº†ä¸€æ¬¡ç®€å•çš„MCPæ‰§è¡Œæµç¨‹ã€‚\nä¸Šé¢æ˜¯ä½¿ç”¨Function callingç›´æ¥è°ƒç”¨MCPçš„å·¥å…·\næ¥ä¸‹æ¥æ¥ä»‹ç»**MCP+LangChainçš„åŸºç¡€è°ƒç”¨æµç¨‹**ï¼Œä»£ç é‡ä¹Ÿä¼šå¤§å¹…å‡å°‘\nLangChainè°ƒç”¨MCPæ˜¯å¯ä»¥å°†MCPçš„å·¥å…·ç›´æ¥è½¬æ¢ä¸ºLangChainçš„å·¥å…·ï¼Œç„¶åé€šè¿‡é¢„å®šä¹‰çš„MCP_Clientå®ç°ä¸å¤–éƒ¨MCPçš„è¯»å†™æ“ä½œï¼Œæ¢è€Œè¨€ä¹‹å°±æ˜¯æˆ‘ä»¬éœ€è¦æ”¹å†™åŸå…ˆçš„clientï¼Œå°†åŸå…ˆçš„Function callingè°ƒç”¨é€»è¾‘ä¿®æ”¹ä¸ºLangChainè°ƒç”¨é€»è¾‘ï¼š\n&quot;&quot;&quot;å¤šæœåŠ¡å™¨ MCP + LangChain Agent ç¤ºä¾‹---------------------------------1. è¯»å– .env ä¸­çš„ LLM_API_KEY / BASE_URL / MODEL2. è¯»å– servers_config.json ä¸­çš„ MCP æœåŠ¡å™¨ä¿¡æ¯3. å¯åŠ¨ MCP æœåŠ¡å™¨ï¼ˆæ”¯æŒå¤šä¸ªï¼‰4. å°†æ‰€æœ‰å·¥å…·æ³¨å…¥ LangChain Agentï¼Œç”±å¤§æ¨¡å‹è‡ªåŠ¨é€‰æ‹©å¹¶è°ƒç”¨&quot;&quot;&quot;import asyncioimport jsonimport loggingimport osfrom typing import Any, Dict, Listfrom dotenv import load_dotenvfrom langchain import hubfrom langchain.agents import AgentExecutor, create_openai_tools_agentfrom langchain.chat_models import init_chat_modelfrom langchain_mcp_adapters.client import MultiServerMCPClientfrom langchain_mcp_adapters.tools import load_mcp_tools# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€# ç¯å¢ƒé…ç½®# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€class Configuration:    &quot;&quot;&quot;è¯»å– .env ä¸ servers_config.json&quot;&quot;&quot;    def __init__(self) -&gt; None:        load_dotenv()        self.api_key: str = os.getenv(&quot;LLM_API_KEY&quot;) or &quot;&quot;        self.base_url: str | None = os.getenv(&quot;BASE_URL&quot;)  # DeepSeek ç”¨ https://api.deepseek.com        self.model: str = os.getenv(&quot;MODEL&quot;) or &quot;deepseek-chat&quot;        if not self.api_key:            raise ValueError(&quot;âŒ æœªæ‰¾åˆ° LLM_API_KEYï¼Œè¯·åœ¨ .env ä¸­é…ç½®&quot;)    @staticmethod    def load_servers(file_path: str = &quot;servers_config.json&quot;) -&gt; Dict[str, Any]:        with open(file_path, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:            return json.load(f).get(&quot;mcpServers&quot;, &#123;&#125;)# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€# ä¸»é€»è¾‘# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€async def run_chat_loop() -&gt; None:    &quot;&quot;&quot;å¯åŠ¨ MCP-Agent èŠå¤©å¾ªç¯&quot;&quot;&quot;    cfg = Configuration()    os.environ[&quot;DEEPSEEK_API_KEY&quot;] = os.getenv(&quot;LLM_API_KEY&quot;, &quot;&quot;)    if cfg.base_url:        os.environ[&quot;DEEPSEEK_API_BASE&quot;] = cfg.base_url    servers_cfg = Configuration.load_servers()    # æŠŠ key æ³¨å…¥ç¯å¢ƒï¼ŒLangChain-OpenAI / DeepSeek ä¼šè‡ªåŠ¨è¯»å–    os.environ[&quot;OPENAI_API_KEY&quot;] = cfg.api_key    if cfg.base_url:  # å¯¹ DeepSeek ä¹‹ç±»çš„è‡ªå®šä¹‰åŸŸåå¾ˆæœ‰ç”¨        os.environ[&quot;OPENAI_BASE_URL&quot;] = cfg.base_url    # 1ï¸âƒ£ è¿æ¥å¤šå° MCP æœåŠ¡å™¨    mcp_client = MultiServerMCPClient(servers_cfg)    tools = await mcp_client.get_tools()         # LangChain Tool å¯¹è±¡åˆ—è¡¨    logging.info(f&quot;âœ… å·²åŠ è½½ &#123;len(tools)&#125; ä¸ª MCP å·¥å…·ï¼š &#123;[t.name for t in tools]&#125;&quot;)    # 2ï¸âƒ£ åˆå§‹åŒ–å¤§æ¨¡å‹ï¼ˆDeepSeek / OpenAI / ä»»æ„å…¼å®¹ OpenAI åè®®çš„æ¨¡å‹ï¼‰    llm = init_chat_model(        model=cfg.model,        model_provider=&quot;deepseek&quot; if &quot;deepseek&quot; in cfg.model else &quot;openai&quot;,    )    # 3ï¸âƒ£ æ„é€  LangChain Agentï¼ˆç”¨é€šç”¨ promptï¼‰    prompt = hub.pull(&quot;hwchase17/openai-tools-agent&quot;)    agent = create_openai_tools_agent(llm, tools, prompt)    agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)    # 4ï¸âƒ£ CLI èŠå¤©    print(&quot;\\nğŸ¤– MCP Agent å·²å¯åŠ¨ï¼Œè¾“å…¥ &#x27;quit&#x27; é€€å‡º&quot;)    while True:        user_input = input(&quot;\\nä½ : &quot;).strip()        if user_input.lower() == &quot;quit&quot;:            break        try:            result = await agent_executor.ainvoke(&#123;&quot;input&quot;: user_input&#125;)            print(f&quot;\\nAI: &#123;result[&#x27;output&#x27;]&#125;&quot;)        except Exception as exc:            print(f&quot;\\nâš ï¸  å‡ºé”™: &#123;exc&#125;&quot;)    # 5ï¸âƒ£ æ¸…ç†    await mcp_client.cleanup()    print(&quot;ğŸ§¹ èµ„æºå·²æ¸…ç†ï¼ŒBye!&quot;)# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€# å…¥å£# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€if __name__ == &quot;__main__&quot;:    logging.basicConfig(level=logging.INFO, format=&quot;%(asctime)s - %(levelname)s - %(message)s&quot;)    asyncio.run(run_chat_loop())\n\nLangChainæ¥å…¥MCPçš„æ ¸å¿ƒåŸç†ä¸ºï¼š weather_server.py â†’ å¯åŠ¨ä¸ºå­è¿›ç¨‹ â†’ stdio é€šä¿¡ â†’ MCP åè®® â†’ è½¬æ¢ä¸º LangChain å·¥å…· â†’ LangChain Agent æ‰§è¡Œè¯»å†™ï¼Œæ ¸å¿ƒè½¬æ¢è¿‡ç¨‹ä¸ºï¼š\n\n@mcp.tool() â†’ æ ‡å‡† LangChain Tool\n\nstdio_client() â†’ è‡ªåŠ¨å¤„ç† read/write æµï¼Œå…¶ä¸­read è¡¨ç¤ºä» MCP æœåŠ¡å™¨è¯»å–å“åº”çš„æµï¼Œwrite è¡¨ç¤ºå‘ MCP æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æµï¼Œå¯¹äº stdio weather_server.pyï¼Œå®ƒä»¬å°±æ˜¯å­è¿›ç¨‹çš„ stdout å’Œ stdin\n\nload_mcp_tools() â†’ ä¸€é”®è½¬æ¢æ‰€æœ‰å·¥å…·\n\n\nä¸ƒã€LangChain RAGçŸ¥è¯†åº“æ£€ç´¢ç³»ç»Ÿå¼€å‘é¦–å…ˆä»‹ç»LangChain å®ç°æœ¬åœ°çŸ¥è¯†åº“é—®ç­”\nä¾›Agentsåœ¨å¤„ç†å¤æ‚ä»»åŠ¡çš„æŸä¸ªé˜¶æ®µä½¿ç”¨ï¼Œè¿™å…¶å®æ˜¯ä¸€ç§æ›´ä¸ºå¤æ‚çš„åº”ç”¨æ¶æ„â€”â€”Agent + RAGã€‚\nå‡è®¾ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒå¤§çš„çŸ¥è¯†åº“ï¼Œå½“æƒ³ä»è¯¥çŸ¥è¯†åº“ä¸­å»æ£€ç´¢æœ€ç›¸å…³çš„å†…å®¹æ—¶ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ï¼šæ¥æ”¶åˆ°ä¸€ä¸ªæŸ¥è¯¢ï¼ˆQueryï¼‰ï¼Œå°±ç›´æ¥åœ¨çŸ¥è¯†åº“ä¸­è¿›è¡Œæœç´¢ã€‚è¿™ç§åšæ³•å…¶å®æ˜¯å¯è¡Œçš„ï¼Œä½†å­˜åœ¨ä¸¤ä¸ªå…³é”®çš„é—®é¢˜ï¼š\n\nå‡è®¾æé—®çš„Queryçš„ç­”æ¡ˆå‡ºç°åœ¨ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œå»çŸ¥è¯†åº“ä¸­æ‰¾åˆ°ä¸€ç¯‡ä¸ç”¨æˆ·è¾“å…¥ç›¸å…³çš„æ–‡ç« æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å°†æ£€ç´¢åˆ°çš„è¿™æ•´ç¯‡æ–‡ç« ç›´æ¥æ”¾å…¥Promptä¸­å¹¶ä¸æ˜¯æœ€ä¼˜çš„é€‰æ‹©ï¼Œå› ä¸ºå…¶ä¸­ä¸€å®šä¼šåŒ…å«éå¸¸å¤šæ— å…³çš„ä¿¡æ¯ï¼Œè€Œæ— æ•ˆä¿¡æ¯è¶Šå¤šï¼Œå¯¹å¤§æ¨¡å‹åç»­çš„æ¨ç†å½±å“è¶Šå¤§ã€‚\n\nä»»ä½•ä¸€ä¸ªå¤§æ¨¡å‹éƒ½å­˜åœ¨æœ€å¤§è¾“å…¥çš„Tokené™åˆ¶ï¼Œä¸€ä¸ªæµç¨‹ä¸­å¯èƒ½æ¶‰åŠå¤šæ¬¡æ£€ç´¢ï¼Œæ¯æ¬¡æ£€ç´¢éƒ½ä¼šäº§ç”Ÿç›¸åº”çš„ä¸Šä¸‹æ–‡ï¼Œæ— æ³•å®¹çº³å¦‚æ­¤å¤šçš„ä¿¡æ¯ã€‚\n\n\n\nè§£å†³ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜çš„æ–¹å¼æ˜¯ï¼šæŠŠå­˜æ”¾ç€åŸå§‹æ•°æ®çš„çŸ¥è¯†åº“ï¼ˆKnowledgeï¼‰ä¸­çš„æ¯ä¸€ä¸ªraw dataï¼Œåˆ‡åˆ†æˆä¸€ä¸ªä¸€ä¸ªçš„å°å—ï¼Œè¿™äº›å°å—å¯ä»¥æ˜¯ä¸€ä¸ªæ®µè½ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°æ®åº“ä¸­æŸä¸ªç´¢å¼•å¯¹åº”çš„å€¼ã€‚è¿™ä¸ªåˆ‡åˆ†è¿‡ç¨‹è¢«ç§°ä¸ºâ€œåˆ†å—â€ï¼ˆchunkingï¼‰ï¼Œå¦‚ä¸‹è¿°æµç¨‹æ‰€ç¤ºï¼š\n\nä»¥ç¬¬ä¸€ä¸ªåŸå§‹æ•°æ®ä¸ºä¾‹ï¼ˆraw data 1ï¼‰ï¼Œé€šè¿‡ä¸€äº›ç‰¹å®šçš„æ–¹æ³•è¿›è¡Œåˆ‡åˆ†ï¼Œä¸€ä¸ªå®Œæ•´çš„å†…å®¹ä¼šè¢«åˆ†å‰²æˆ chunk1 ~ chunk4ã€‚é‡‡å–ç›¸åŒçš„æ–¹æ³•ï¼Œç»§ç»­å¯¹raw data 2ã€raw data 3ç›´è‡³raw data nè¿›è¡Œåˆ‡åˆ†ã€‚å®Œæˆè¿™ä¸€è¿‡ç¨‹åï¼Œæˆ‘ä»¬æœ€ç»ˆå¾—åˆ°çš„æ˜¯ä¸€ä¸ªå……æ»¡åˆ†å—æ•°æ®ï¼ˆchunksï¼‰çš„æ–°çš„çŸ¥è¯†åº“ï¼ˆrepositoryï¼‰ï¼Œå…¶ä¸­æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„chunkã€‚ä¾‹å¦‚ï¼Œå¦‚æœåŸå§‹æ–‡æ¡£å…±æœ‰10ä¸ªï¼Œé‚£ä¹ˆç»è¿‡åˆ‡åˆ†ï¼Œå¯èƒ½ä¼šäº§ç”Ÿå‡º100ä¸ªchunksã€‚\nå®Œæˆè¿™ä¸€è½¬åŒ–åï¼Œå½“å†æ¬¡æ¥æ”¶åˆ°ä¸€ä¸ªæŸ¥è¯¢ï¼ˆQueryï¼‰æ—¶ï¼Œå°±ä¼šåœ¨æ›´æ–°åçš„çŸ¥è¯†åº“ï¼ˆrepositoryï¼‰ä¸­è¿›è¡Œæœç´¢ï¼Œè¿™æ—¶æ£€ç´¢çš„èŒƒå›´å°±ä¸å†æ˜¯æŸä¸ªå®Œæ•´çš„æ–‡æ¡£ï¼Œè€Œæ˜¯å…¶ä¸­çš„æŸä¸€ä¸ªéƒ¨åˆ†ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªç‰¹å®šçš„chunkï¼Œè¿™æ ·è¿”å›çš„ä¿¡æ¯é‡å°±ä¼šæ›´å°ä¸”æ›´ç²¾ç¡®ã€‚éšåï¼Œè¿™äº›è¢«æ£€ç´¢åˆ°çš„chunkä¼šè¢«åŠ å…¥åˆ°Promptä¸­ï¼Œä½œä¸ºä¸Šä¸‹æ–‡ä¿¡æ¯ä¸ç”¨æˆ·åŸå§‹çš„Queryå…±åŒè¾“å…¥åˆ°å¤§æ¨¡å‹è¿›è¡Œå¤„ç†ï¼Œä»¥ç”Ÿæˆæœ€ç»ˆçš„å›ç­”ã€‚\nåœ¨ä¸Šè¿°å°†åŸå§‹æ•°æ®ï¼ˆraw dataï¼‰è½¬åŒ–ä¸ºchunkçš„è¿‡ç¨‹ä¸­ï¼Œå°±ä¼šåŒ…å«æ„å»ºRAGçš„ç¬¬ä¸€éƒ¨åˆ†å¼€å‘å·¥ä½œï¼šè¿™åŒ…æ‹¬å¦‚æœåšæ•°æ®æ¸…æ´—ï¼Œå¦‚å»é™¤åœç”¨è¯ã€æ ‡ç‚¹ç¬¦å·ç­‰ã€‚æ­¤å¤–ï¼Œè¿˜æ¶‰åŠå¦‚ä½•é€‰æ‹©åˆé€‚çš„splitæ–¹æ³•æ¥è¿›è¡Œæ•°æ®åˆ‡åˆ†çš„ä¸€ç³»åˆ—æŠ€æœ¯ã€‚\næ¥ä¸‹æ¥é¢ä¸´çš„é—®é¢˜æ˜¯ï¼Œå°½ç®¡æ‰€æœ‰æ•°æ®å·²ç»è¢«åˆ‡å‰²æˆä¸€ä¸ªä¸ªchunkï¼Œå…¶å­˜å‚¨å½¢å¼è¿˜æ˜¯ä»¥å­—ç¬¦ä¸²å½¢å¼å­˜åœ¨ï¼Œå¦‚æœæƒ³ä»repositoryä¸­åŒ¹é…åˆ°ä¸è¾“å…¥çš„queryç›¸å…³çš„chunksï¼Œæ¯”è¾ƒä¸¤å¥è¯æ˜¯å¦ç›¸ä¼¼ï¼Œçœ‹ä¸€å¥è¯ä¸­ç›¸åŒå­—æœ‰å‡ ä¸ªï¼Œè¿™æ˜¾ç„¶æ˜¯è¡Œä¸é€šçš„ã€‚æˆ‘ä»¬éœ€è¦è·å–çš„æ˜¯å¥å­æ‰€è•´å«çš„æ·±å±‚å«ä¹‰ï¼Œè€Œéä»…ä»…æ˜¯è¡¨é¢çš„å­—é¢ç›¸ä¼¼åº¦ã€‚å› æ­¤ï¼Œå¤§å®¶ä¹Ÿèƒ½æƒ³åˆ°ï¼Œåœ¨NLPä¸­å»è®¡ç®—æ–‡æœ¬ç›¸ä¼¼åº¦çš„æœ‰æ•ˆçš„æ–¹æ³•å°±æ˜¯Embeddingï¼Œå³å°†è¿™äº›chunksè½¬æ¢æˆå‘é‡ï¼ˆvectorï¼‰å½¢å¼ã€‚æ‰€ä»¥æµç¨‹ä¼šä¸°å¯Œå¦‚ä¸‹ï¼š\n\nå¦‚ä¸Šæ‰€ç¤ºï¼Œè§£å†³æœç´¢æ•ˆç‡å’Œè®¡ç®—ç›¸ä¼¼åº¦ä¼˜åŒ–ç®—æ³•çš„ç­”æ¡ˆå°±æ˜¯ï¼šå‘é‡æ•°æ®åº“ã€‚åŒæ—¶ä¹Ÿäº§ç”Ÿäº†æ„å»ºRAGçš„ç¬¬ä¸‰éƒ¨åˆ†å·¥ä½œï¼šæˆ‘ä»¬è¦å»äº†è§£å’Œå­¦ä¹ å¦‚ä½•é€‰æ‹©ã€ä½¿ç”¨å‘é‡æ•°æ®åº“ã€‚\næœ€ç»ˆæ•´ä½“æµç¨‹å°±å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸€ä¸ªåŸºç¡€çš„RAGæ¶æ„ä¼šåªè¦åŒ…å«ä»¥ä¸‹å‡ æ–¹é¢çš„å¼€å‘å·¥ä½œï¼š\n\nå¦‚ä½•å°†åŸå§‹æ•°æ®è½¬åŒ–æˆchunksï¼›\nå¦‚ä½•å°†chunksè½¬åŒ–æˆVectorï¼›\nå¦‚ä½•ç®—å‘é‡ç›¸ä¼¼åº¦çš„ç®—æ³•ï¼›\nå¦‚ä½•åˆ©ç”¨å‘é‡æ•°æ®åº“æå‡æœç´¢æ•ˆç‡ï¼›\nå¦‚ä½•æŠŠæ‰¾åˆ°çš„chunksä¸åŸå§‹queryæ‹¼æ¥åœ¨ä¸€èµ·ï¼Œäº§ç”Ÿæœ€ç»ˆçš„Promptï¼›\n\nè€Œä¸Šè¿°æµç¨‹ï¼Œå…¶å®æ›´åƒæ˜¯ä¸€ä¸ªè‡ªç”±æ‹¼æ¥çš„ç»“æœï¼Œæ¯”å¦‚ä¸åŒçš„æ–‡æ¡£ç±»å‹å¯ä»¥é€‰æ‹©ä¸åŒçš„æ–‡æ¡£è§£æå™¨ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸åŒçš„Vectoræ•°æ®åº“ï¼Œç”šè‡³å¯ä»¥è‡ªç”±é€‰æ‹©Embeddingæ¨¡å‹å’ŒVectoræ•°æ®åº“çš„ç»„åˆã€‚å…¶è‡ªç”±ç¨‹åº¦éå¸¸é«˜ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\nç”±äºè¿™ä¸€éƒ¨åˆ†æ¯”è¾ƒå¤æ‚ï¼Œå› æ­¤åœ¨è¿™ä»…ç»™å‡ºç¤ºä¾‹ä»£ç ï¼Œåç»­å†åšè¡¥å……ï¼ˆåé¢çš„å†…å®¹æœ‰éœ€è¦å¯ä»¥çœ‹ï¼Œä¹Ÿå¯ä»¥ç­‰åç»­ç»™å‡ºæ›´è¯¦ç»†çš„æ•™ç¨‹ï¼‰ä¸‹é¢æ˜¯é€šè¿‡ Streamlit å‰ç«¯ç•Œé¢ï¼Œç»“åˆ LangChain æ¡†æ¶ ä¸ DashScope å‘é‡åµŒå…¥æœåŠ¡ï¼Œå®ç°äº†ä¸€ä¸ªè½»é‡åŒ–çš„ RAGï¼ˆRetrieval-Augmented Generationï¼‰ æ™ºèƒ½é—®ç­”ç³»ç»Ÿï¼Œæ”¯æŒä¸Šä¼ å¤šä¸ª PDF æ–‡æ¡£ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨å®Œæˆæ–‡æœ¬æå–ã€åˆ†å—ã€å‘é‡åŒ–ï¼Œå¹¶æ„å»ºåŸºäº FAISS çš„æ£€ç´¢æ•°æ®åº“ã€‚ç”¨æˆ·éšåå¯ä»¥åœ¨é¡µé¢ä¸­è¾“å…¥ä»»æ„é—®é¢˜ï¼Œç³»ç»Ÿä¼šè°ƒç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆå¦‚ DeepSeek-Chatï¼‰å¯¹ PDF å†…å®¹è¿›è¡Œè¯­ä¹‰ç†è§£å’Œå›ç­”ç”Ÿæˆã€‚\nå…¶å®Œæ•´ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š\n! pip install streamlit PyPDF2 dashscope faiss-cpu\n\nimport streamlit as stfrom PyPDF2 import PdfReaderfrom langchain.text_splitter import RecursiveCharacterTextSplitterfrom langchain_core.prompts import ChatPromptTemplatefrom langchain_community.vectorstores import FAISSfrom langchain.tools.retriever import create_retriever_toolfrom langchain.agents import AgentExecutor, create_tool_calling_agentfrom langchain_community.embeddings import DashScopeEmbeddingsfrom langchain.chat_models import init_chat_modelimport osfrom dotenv import load_dotenvload_dotenv(override=True)DeepSeek_API_KEY = os.getenv(&quot;DEEPSEEK_API_KEY&quot;)dashscope_api_key = os.getenv(&quot;dashscope_api_key&quot;)os.environ[&quot;KMP_DUPLICATE_LIB_OK&quot;] = &quot;TRUE&quot;embeddings = DashScopeEmbeddings(    model=&quot;text-embedding-v1&quot;, dashscope_api_key=dashscope_api_key)def pdf_read(pdf_doc):    text = &quot;&quot;    for pdf in pdf_doc:        pdf_reader = PdfReader(pdf)        for page in pdf_reader.pages:            text += page.extract_text()    return textdef get_chunks(text):    text_splitter = RecursiveCharacterTextSplitter(chunk_size=1000, chunk_overlap=200)    chunks = text_splitter.split_text(text)    return chunksdef vector_store(text_chunks):    vector_store = FAISS.from_texts(text_chunks, embedding=embeddings)    vector_store.save_local(&quot;faiss_db&quot;)def get_conversational_chain(tools, ques):    llm = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)    prompt = ChatPromptTemplate.from_messages([        (            &quot;system&quot;,            &quot;&quot;&quot;ä½ æ˜¯AIåŠ©æ‰‹ï¼Œè¯·æ ¹æ®æä¾›çš„ä¸Šä¸‹æ–‡å›ç­”é—®é¢˜ï¼Œç¡®ä¿æä¾›æ‰€æœ‰ç»†èŠ‚ï¼Œå¦‚æœç­”æ¡ˆä¸åœ¨ä¸Šä¸‹æ–‡ä¸­ï¼Œè¯·è¯´&quot;ç­”æ¡ˆä¸åœ¨ä¸Šä¸‹æ–‡ä¸­&quot;ï¼Œä¸è¦æä¾›é”™è¯¯çš„ç­”æ¡ˆ&quot;&quot;&quot;,        ),        (&quot;placeholder&quot;, &quot;&#123;chat_history&#125;&quot;),        (&quot;human&quot;, &quot;&#123;input&#125;&quot;),        (&quot;placeholder&quot;, &quot;&#123;agent_scratchpad&#125;&quot;),    ])    tool = [tools]    agent = create_tool_calling_agent(llm, tool, prompt)    agent_executor = AgentExecutor(agent=agent, tools=tool, verbose=True)    response = agent_executor.invoke(&#123;&quot;input&quot;: ques&#125;)    print(response)    st.write(&quot;ğŸ¤– å›ç­”: &quot;, response[&#x27;output&#x27;])def check_database_exists():    &quot;&quot;&quot;æ£€æŸ¥FAISSæ•°æ®åº“æ˜¯å¦å­˜åœ¨&quot;&quot;&quot;    return os.path.exists(&quot;faiss_db&quot;) and os.path.exists(&quot;faiss_db/index.faiss&quot;)def user_input(user_question):    # æ£€æŸ¥æ•°æ®åº“æ˜¯å¦å­˜åœ¨    if not check_database_exists():        st.error(&quot;âŒ è¯·å…ˆä¸Šä¼ PDFæ–‡ä»¶å¹¶ç‚¹å‡»&#x27;Submit &amp; Process&#x27;æŒ‰é’®æ¥å¤„ç†æ–‡æ¡£ï¼&quot;)        st.info(&quot;ğŸ’¡ æ­¥éª¤ï¼š1ï¸âƒ£ ä¸Šä¼ PDF â†’ 2ï¸âƒ£ ç‚¹å‡»å¤„ç† â†’ 3ï¸âƒ£ å¼€å§‹æé—®&quot;)        return    try:        # åŠ è½½FAISSæ•°æ®åº“        new_db = FAISS.load_local(&quot;faiss_db&quot;, embeddings, allow_dangerous_deserialization=True)        retriever = new_db.as_retriever()        retrieval_chain = create_retriever_tool(retriever, &quot;pdf_extractor&quot;,                                                &quot;This tool is to give answer to queries from the pdf&quot;)        get_conversational_chain(retrieval_chain, user_question)    except Exception as e:        st.error(f&quot;âŒ åŠ è½½æ•°æ®åº“æ—¶å‡ºé”™: &#123;str(e)&#125;&quot;)        st.info(&quot;è¯·é‡æ–°å¤„ç†PDFæ–‡ä»¶&quot;)def main():    st.set_page_config(&quot;ğŸ¤– LangChain Bç«™å…¬å¼€è¯¾ Byä¹å¤©Hector&quot;)    st.header(&quot;ğŸ¤– LangChain Bç«™å…¬å¼€è¯¾ Byä¹å¤©Hector&quot;)    # æ˜¾ç¤ºæ•°æ®åº“çŠ¶æ€    col1, col2 = st.columns([3, 1])    with col1:        if check_database_exists():            pass        else:            st.warning(&quot;âš ï¸ è¯·å…ˆä¸Šä¼ å¹¶å¤„ç†PDFæ–‡ä»¶&quot;)with col2:    if st.button(&quot;ğŸ—‘ï¸ æ¸…é™¤æ•°æ®åº“&quot;):        try:            import shutil            if os.path.exists(&quot;faiss_db&quot;):                shutil.rmtree(&quot;faiss_db&quot;)            st.success(&quot;æ•°æ®åº“å·²æ¸…é™¤&quot;)            st.rerun()        except Exception as e:            st.error(f&quot;æ¸…é™¤å¤±è´¥: &#123;e&#125;&quot;)# ç”¨æˆ·é—®é¢˜è¾“å…¥user_question = st.text_input(&quot;ğŸ’¬ è¯·è¾“å…¥é—®é¢˜&quot;,                              placeholder=&quot;ä¾‹å¦‚ï¼šè¿™ä¸ªæ–‡æ¡£çš„ä¸»è¦å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ&quot;,                              disabled=not check_database_exists())if user_question:    if check_database_exists():        with st.spinner(&quot;ğŸ¤” AIæ­£åœ¨åˆ†ææ–‡æ¡£...&quot;):            user_input(user_question)    else:        st.error(&quot;âŒ è¯·å…ˆä¸Šä¼ å¹¶å¤„ç†PDFæ–‡ä»¶ï¼&quot;)# ä¾§è¾¹æ with st.sidebar:    st.title(&quot;ğŸ“ æ–‡æ¡£ç®¡ç†&quot;)    # æ˜¾ç¤ºå½“å‰çŠ¶æ€    if check_database_exists():        st.success(&quot;âœ… æ•°æ®åº“çŠ¶æ€ï¼šå·²å°±ç»ª&quot;)    else:        st.info(&quot;ğŸ“ çŠ¶æ€ï¼šç­‰å¾…ä¸Šä¼ PDF&quot;)    st.markdown(&quot;---&quot;)    # æ–‡ä»¶ä¸Šä¼     pdf_doc = st.file_uploader(        &quot;ğŸ“ ä¸Šä¼ PDFæ–‡ä»¶&quot;,        accept_multiple_files=True,        type=[&#x27;pdf&#x27;],        help=&quot;æ”¯æŒä¸Šä¼ å¤šä¸ªPDFæ–‡ä»¶&quot;    )    if pdf_doc:        st.info(f&quot;ğŸ“„ å·²é€‰æ‹© &#123;len(pdf_doc)&#125; ä¸ªæ–‡ä»¶&quot;)        for i, pdf in enumerate(pdf_doc, 1):            st.write(f&quot;&#123;i&#125;. &#123;pdf.name&#125;&quot;)    # å¤„ç†æŒ‰é’®    process_button = st.button(        &quot;ğŸš€ æäº¤å¹¶å¤„ç†&quot;,        disabled=not pdf_doc,        use_container_width=True    )    if process_button:        if pdf_doc:            with st.spinner(&quot;ğŸ“Š æ­£åœ¨å¤„ç†PDFæ–‡ä»¶...&quot;):                try:                    # è¯»å–PDFå†…å®¹                    raw_text = pdf_read(pdf_doc)                    if not raw_text.strip():                        st.error(&quot;âŒ æ— æ³•ä»PDFä¸­æå–æ–‡æœ¬ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æœ‰æ•ˆ&quot;)                        return                    # åˆ†å‰²æ–‡æœ¬                    text_chunks = get_chunks(raw_text)                    st.info(f&quot;ğŸ“ æ–‡æœ¬å·²åˆ†å‰²ä¸º &#123;len(text_chunks)&#125; ä¸ªç‰‡æ®µ&quot;)                    # åˆ›å»ºå‘é‡æ•°æ®åº“                    vector_store(text_chunks)                    st.success(&quot;âœ… PDFå¤„ç†å®Œæˆï¼ç°åœ¨å¯ä»¥å¼€å§‹æé—®äº†&quot;)                    st.balloons()                    st.rerun()                except Exception as e:                    st.error(f&quot;âŒ å¤„ç†PDFæ—¶å‡ºé”™: &#123;str(e)&#125;&quot;)        else:            st.warning(&quot;âš ï¸ è¯·å…ˆé€‰æ‹©PDFæ–‡ä»¶&quot;)    # ä½¿ç”¨è¯´æ˜    with st.expander(&quot;ğŸ’¡ ä½¿ç”¨è¯´æ˜&quot;):        st.markdown(&quot;&quot;&quot;                **æ­¥éª¤ï¼š**                1. ğŸ“ ä¸Šä¼ ä¸€ä¸ªæˆ–å¤šä¸ªPDFæ–‡ä»¶                2. ğŸš€ ç‚¹å‡»&quot;Submit &amp; Process&quot;å¤„ç†æ–‡æ¡£                3. ğŸ’¬ åœ¨ä¸»é¡µé¢è¾“å…¥æ‚¨çš„é—®é¢˜                4. ğŸ¤– AIå°†åŸºäºPDFå†…å®¹å›ç­”é—®é¢˜                **æç¤ºï¼š**                - æ”¯æŒå¤šä¸ªPDFæ–‡ä»¶åŒæ—¶ä¸Šä¼                 - å¤„ç†å¤§æ–‡ä»¶å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´                - å¯ä»¥éšæ—¶æ¸…é™¤æ•°æ®åº“é‡æ–°å¼€å§‹                &quot;&quot;&quot;)if __name__ == &quot;__main__&quot;:    main()\n\nåŸºäºæ­¤ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå®ç°ï¼š\n\nLangChain çš„å¤šæ¨¡å—èƒ½åŠ›ï¼ˆå‘é‡æœç´¢ + Agentå·¥å…·ï¼‰\nStreamlit å‰ç«¯äº¤äº’\nFAISS å‘é‡æ•°æ®åº“\nDashScope Embedding + DeepSeek æ¨¡å‹æ¥å…¥\nå¹¶å®Œæˆäº†å®Œæ•´çš„ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æµç¨‹\n\nä»¥ä¸‹æ˜¯å„éƒ¨åˆ†åŠŸèƒ½å®ç°ä»£ç è®²è§£ï¼š\nğŸ”§ 1. å¯¼å…¥åº“ &amp; ç¯å¢ƒåˆå§‹åŒ–\nimport streamlit as stfrom PyPDF2 import PdfReaderfrom langchain.text_splitter import RecursiveCharacterTextSplitter...load_dotenv(override=True)\n\n\nStreamlit ç”¨äºæ„å»ºç½‘é¡µç•Œé¢ã€‚\n\nPyPDF2 ç”¨æ¥è¯»å– PDF æ–‡æœ¬ã€‚\n\nload_dotenv() åŠ è½½ .env ä¸­çš„ API Keyï¼Œä¾‹å¦‚ï¼š\nDEEPSEEK_API_KEY=sk-xxxDASHSCOPE_API_KEY=xxx\n\n\nğŸ” 2. åŠ è½½ API å¯†é’¥ä¸è®¾ç½®ç¯å¢ƒå˜é‡\nDeepSeek_API_KEY = os.getenv(&quot;DEEPSEEK_API_KEY&quot;)dashscope_api_key = os.getenv(&quot;dashscope_api_key&quot;)os.environ[&quot;KMP_DUPLICATE_LIB_OK&quot;]=&quot;TRUE&quot;\n\n\nä»ç¯å¢ƒå˜é‡ä¸­è¯»å– DashScope å’Œ DeepSeek APIã€‚\nè®¾ç½® KMP_DUPLICATE_LIB_OK é¿å…æŸäº› MKL å¤šçº¿ç¨‹æŠ¥é”™ã€‚\n\n\nğŸ§  3. åˆå§‹åŒ–å‘é‡ Embedding æ¨¡å‹\nembeddings = DashScopeEmbeddings(    model=&quot;text-embedding-v1&quot;, dashscope_api_key=dashscope_api_key)\n\n\nç”¨é˜¿é‡Œäº‘ DashScope æä¾›çš„ text-embedding-v1 å°†æ–‡æœ¬è½¬ä¸ºå‘é‡è¡¨ç¤ºï¼Œç”¨äºç›¸ä¼¼åº¦æœç´¢ã€‚\n\n\nğŸ“„ 4. å¤„ç† PDF æ–‡æœ¬ä¸å‘é‡åŒ–é€»è¾‘\ndef pdf_read(pdf_doc):    ...def get_chunks(text):    ...def vector_store(text_chunks):    ...\n\n\npdf_readï¼šé€é¡µè¯»å– PDF å†…å®¹å¹¶æ‹¼æ¥ã€‚\nget_chunksï¼šå°†é•¿æ–‡æœ¬åˆ‡ç‰‡ä¸ºå¤šä¸ªæ®µè½ï¼ˆchunkï¼‰ï¼Œæ¯æ®µ 1000 å­—ï¼Œé‡å  200 å­—ã€‚\nvector_storeï¼šç”¨ FAISS å»ºç«‹å‘é‡ç´¢å¼•ï¼Œå¹¶ä¿å­˜åˆ°æœ¬åœ° faiss_db/ã€‚\n\n\nğŸ” 5. Agentå¯¹è¯é“¾ + å·¥å…·è°ƒç”¨ï¼ˆæ ¸å¿ƒ RAGï¼‰\ndef get_conversational_chain(tools, ques):    llm = init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)    ...    agent_executor = AgentExecutor(...)    response = agent_executor.invoke(&#123;&quot;input&quot;: ques&#125;)    ...\n\n\nåˆå§‹åŒ– DeepSeek æ¨¡å‹ä¸º Agentã€‚\n\nä½¿ç”¨ LangChain çš„ create_tool_calling_agent æ„é€  Agentï¼Œè¾“å…¥ï¼š\n\npromptï¼ˆä½ è®¾å®šçš„ç³»ç»Ÿè§’è‰²ï¼‰\nå·¥å…·ï¼ˆretriever å·¥å…·ï¼‰\n\n\nAgentExecutor.invokeï¼šLangChain è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦è°ƒç”¨å·¥å…·ï¼Œå®Œæˆâ€œè¯»å–ä¸Šä¸‹æ–‡ â†’ æŸ¥è¯¢ â†’ å›ç­”â€æµç¨‹ã€‚\n\n\n\nğŸ” 6. ç”¨æˆ·æé—®é€»è¾‘ï¼ˆè°ƒç”¨ FAISSï¼‰\ndef user_input(user_question):    ...    new_db = FAISS.load_local(&quot;faiss_db&quot;, embeddings, ...)    retriever = new_db.as_retriever()    retrieval_chain = create_retriever_tool(retriever, &quot;pdf_extractor&quot;, ...)    get_conversational_chain(retrieval_chain, user_question)\n\n\nåŠ è½½æœ¬åœ° FAISS å‘é‡åº“ï¼›\nå°†å…¶è½¬ä¸º LangChain çš„æ£€ç´¢å·¥å…·ï¼›\näº¤ç”± Agent è°ƒç”¨å®Œæˆå›ç­”ã€‚\n\n\nğŸ§  7. æ£€æŸ¥æ•°æ®åº“æ˜¯å¦å­˜åœ¨\ndef check_database_exists():    return os.path.exists(&quot;faiss_db&quot;) and os.path.exists(&quot;faiss_db/index.faiss&quot;)\n\nç®€å•æ£€æŸ¥æœ¬åœ°æ˜¯å¦å·²æœ‰å‘é‡åŒ–æ•°æ®ã€‚\n\nğŸŒ 8. ä¸»ç•Œé¢é€»è¾‘ï¼ˆStreamlitï¼‰\ndef main():    st.set_page_config(...)    ...\n\n\né¡µé¢æ ‡é¢˜ä¸ç•Œé¢é…ç½®ã€‚\n\nst.columns åˆ†æ ï¼šå·¦è¾¹æ˜¾ç¤ºæç¤ºï¼Œå³è¾¹æ”¾ç½®â€œæ¸…ç©ºæ•°æ®åº“â€æŒ‰é’®ã€‚\n\nä¸»è¾“å…¥æ¡†ï¼šst.text_input(&quot;è¯·è¾“å…¥é—®é¢˜&quot;)\n\nåªæœ‰å½“æ•°æ®åº“å­˜åœ¨æ—¶æ‰èƒ½æé—®ã€‚\n\n\nä¾§è¾¹æ ï¼š\n\nPDF ä¸Šä¼ å™¨ï¼›\næäº¤æŒ‰é’®ï¼ˆå¤„ç†ä¸Šä¼ çš„ PDF â†’ åˆ†ç‰‡ â†’ å‘é‡åŒ– â†’ å­˜å‚¨ï¼‰ã€‚\n\n\n\n\nğŸ¯ 9. æäº¤ PDF åæ‰§è¡Œçš„é€»è¾‘\nif process_button:    raw_text = pdf_read(pdf_doc)    ...    text_chunks = get_chunks(raw_text)    vector_store(text_chunks)\n\n\nå½“ç‚¹å‡»â€œæäº¤å¹¶å¤„ç†â€åï¼š\n\nè¯»å–ä¸Šä¼ çš„ PDFï¼›\nåˆ‡ç‰‡æ–‡æœ¬ï¼›\nå‘é‡åŒ–å…¥åº“ï¼›\nå¼¹å‡ºæ°”çƒæç¤ºï¼Œå¹¶ st.rerun() åˆ·æ–°é¡µé¢çŠ¶æ€ã€‚\n\n\n\n\nğŸ“ é¡¹ç›®ç»“æ„æ€»ç»“\n\n\n\næ¨¡å—\nè¯´æ˜\n\n\n\nğŸ§¾ PDFè§£æ\nè¯»å–ç”¨æˆ·ä¸Šä¼ çš„ PDF\n\n\nâœ‚ï¸ æ–‡æœ¬åˆ‡ç‰‡\næŒ‰æ®µè½åˆ†å‰²å†…å®¹\n\n\nğŸ“Š å‘é‡åŒ–\nDashScope Embedding + FAISS å»ºåº“\n\n\nğŸ” æŸ¥è¯¢æ¥å£\nç”¨æˆ·è¾“å…¥ â†’ å¬å›ç›¸å…³ chunk\n\n\nğŸ¤– DeepSeek Agent\nè°ƒç”¨æ£€ç´¢å·¥å…·å¹¶ç»™å‡ºå›ç­”\n\n\nğŸ’» UIå±‚\nStreamlit å®ç°å…¨éƒ¨äº¤äº’\n\n\nå…¶ä¸­LangChain RAGæ ¸å¿ƒåŠŸèƒ½ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š\nStep 1ï¼šPDF æ–‡ä»¶ä¸Šä¼ ä¸æ–‡æœ¬æå–\nä½¿ç”¨ st.file_uploader() ç»„ä»¶æ”¯æŒå¤šæ–‡ä»¶ä¸Šä¼ ï¼Œå¹¶é€šè¿‡ PyPDF2.PdfReader å¯¹æ¯é¡µå†…å®¹è¿›è¡Œæå–ï¼Œç»„åˆä¸ºæ•´ä½“æ–‡æœ¬ã€‚\ndef pdf_read(pdf_doc):    text = &quot;&quot;    for pdf in pdf_doc:        pdf_reader = PdfReader(pdf)        for page in pdf_reader.pages:            text += page.extract_text()    return text\n\nStep 2ï¼šæ–‡æœ¬åˆ†å—ä¸å‘é‡æ•°æ®åº“æ„å»º\nä½¿ç”¨ RecursiveCharacterTextSplitter å°†é•¿æ–‡æ¡£åˆ‡å‰²ä¸ºå›ºå®šé•¿åº¦ï¼ˆ1000å­—ï¼‰+ é‡å ï¼ˆ200å­—ï¼‰çš„å°å—ï¼Œå°†æ–‡æœ¬å—é€šè¿‡ DashScopeEmbeddings åµŒå…¥ä¸ºå‘é‡ï¼Œä½¿ç”¨ FAISS æœ¬åœ°å­˜å‚¨å‘é‡æ•°æ®åº“ã€‚\nchunks = text_splitter.split_text(text)vector_store = FAISS.from_texts(chunks, embedding=embeddings)vector_store.save_local(&quot;faiss_db&quot;)\n\nStep 3ï¼šç”¨æˆ·æé—®ä¸è¯­ä¹‰æ£€ç´¢\né€šè¿‡ Streamlit è·å–ç”¨æˆ·è¾“å…¥é—®é¢˜ï¼Œå¦‚æœå‘é‡æ•°æ®åº“å­˜åœ¨ï¼Œåˆ™åŠ è½½ FAISS æ£€ç´¢å™¨ï¼Œä½¿ç”¨ create_retriever_tool() æ„å»º LangChain å·¥å…·ï¼Œäº¤ç”± AgentExecutor æ‰§è¡Œï¼Œè‡ªåŠ¨è°ƒç”¨æ£€ç´¢å™¨å¹¶ç”Ÿæˆç­”æ¡ˆã€‚\nretrieval_chain = create_retriever_tool(retriever, ...)agent = create_tool_calling_agent(llm, [retrieval_chain], prompt)response = agent_executor.invoke(&#123;&quot;input&quot;: ques&#125;)\n\nä¸‹é¢å†åŸºäºLangChainæ­å»ºAIæ•°æ®åˆ†ææ™ºèƒ½ä½“Data Agent\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥ä¸°å¯Œæ™ºèƒ½é—®ç­”ç³»ç»Ÿçš„åŠŸèƒ½ï¼Œæ¥ä¸‹æ¥çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬æ„å»ºä¸€ä¸ªåŸºäº Streamlit + LangChain + DashScope + DeepSeek çš„æ™ºèƒ½åŒ–æ•°æ®åˆ†æåŠ©æ‰‹ï¼Œèåˆä¸¤ä¸ªå…¸å‹çš„ä¼ä¸šçº§å¤§æ¨¡å‹åº”ç”¨åœºæ™¯ï¼š\n\nPDF æ™ºèƒ½é—®ç­”ï¼šæ”¯æŒä¸Šä¼ å¤šä¸ª PDF æ–‡æ¡£ï¼Œè‡ªåŠ¨å®Œæˆå†…å®¹æå–ã€æ–‡æœ¬åˆ‡å—ã€è¯­ä¹‰å‘é‡åŒ–ï¼Œå¹¶æ„å»º FAISS æœ¬åœ°æ£€ç´¢åº“ï¼Œç»“åˆå¤§æ¨¡å‹è¿›è¡Œé—®ç­”ï¼›\n\nCSV æ•°æ®æ™ºèƒ½åˆ†æï¼šé€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤åˆ†æç»“æ„åŒ–æ•°æ®ï¼ŒåŒ…æ‹¬ç»Ÿè®¡æŸ¥è¯¢ã€ä»£ç ç”Ÿæˆä¸å›¾è¡¨ç»˜åˆ¶ï¼›\n\n\nå®Œæ•´ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š\npip install langchain_experimental matplotlib tabulate\n\nimport streamlit as stimport pandas as pdimport osfrom PyPDF2 import PdfReaderfrom langchain.text_splitter import RecursiveCharacterTextSplitterfrom langchain_core.prompts import ChatPromptTemplatefrom langchain_community.vectorstores import FAISSfrom langchain.tools.retriever import create_retriever_toolfrom langchain.agents import AgentExecutor, create_tool_calling_agentfrom langchain_community.embeddings import DashScopeEmbeddingsfrom langchain.chat_models import init_chat_modelfrom langchain_experimental.tools import PythonAstREPLToolimport matplotlibmatplotlib.use(&#x27;Agg&#x27;)import osfrom dotenv import load_dotenvload_dotenv(override=True)DeepSeek_API_KEY = os.getenv(&quot;DEEPSEEK_API_KEY&quot;)dashscope_api_key = os.getenv(&quot;dashscope_api_key&quot;)# è®¾ç½®ç¯å¢ƒå˜é‡os.environ[&quot;KMP_DUPLICATE_LIB_OK&quot;] = &quot;TRUE&quot;# é¡µé¢é…ç½®st.set_page_config(    page_title=&quot;Byä¹å¤©Hector&quot;,    page_icon=&quot;ğŸ¤–&quot;,    layout=&quot;wide&quot;,    initial_sidebar_state=&quot;expanded&quot;)# è‡ªå®šä¹‰CSSæ ·å¼st.markdown(&quot;&quot;&quot;    &lt;style&gt;        /* ä¸»é¢˜è‰²å½© */        :root &#123;            --primary-color: #1f77b4;            --secondary-color: #ff7f0e;            --success-color: #2ca02c;            --warning-color: #ff9800;            --error-color: #d62728;            --background-color: #f8f9fa;        &#125;        /* éšè—é»˜è®¤çš„Streamlitæ ·å¼ */        #MainMenu &#123;visibility: hidden;&#125;        footer &#123;visibility: hidden;&#125;        header &#123;visibility: hidden;&#125;        /* æ ‡é¢˜æ ·å¼ */        .main-header &#123;            background: linear-gradient(90deg, #1f77b4, #ff7f0e);            -webkit-background-clip: text;            -webkit-text-fill-color: transparent;            font-size: 3rem;            font-weight: bold;            text-align: center;            margin-bottom: 2rem;        &#125;        /* å¡ç‰‡æ ·å¼ */        .info-card &#123;            background: white;            padding: 1.5rem;            border-radius: 10px;            box-shadow: 0 2px 10px rgba(0,0,0,0.1);            margin: 1rem 0;            border-left: 4px solid var(--primary-color);        &#125;        .success-card &#123;            background: linear-gradient(135deg, #e8f5e8, #f0f8f0);            border-left: 4px solid var(--success-color);        &#125;        .warning-card &#123;            background: linear-gradient(135deg, #fff8e1, #fffbf0);            border-left: 4px solid var(--warning-color);        &#125;        /* æŒ‰é’®æ ·å¼ */        .stButton &gt; button &#123;            background: linear-gradient(45deg, #1f77b4, #2196F3);            color: white;            border: none;            border-radius: 8px;            padding: 0.5rem 1rem;            font-weight: 600;            transition: all 0.3s ease;            box-shadow: 0 2px 8px rgba(31, 119, 180, 0.3);        &#125;        .stButton &gt; button:hover &#123;            transform: translateY(-2px);            box-shadow: 0 4px 12px rgba(31, 119, 180, 0.4);        &#125;        /* Tabæ ·å¼ */        .stTabs [data-baseweb=&quot;tab-list&quot;] &#123;            gap: 8px;            background-color: #f8f9fa;            border-radius: 10px;            padding: 0.5rem;        &#125;        .stTabs [data-baseweb=&quot;tab&quot;] &#123;            height: 60px;            background-color: white;            border-radius: 8px;            padding: 0 24px;            font-weight: 600;            border: 2px solid transparent;            transition: all 0.3s ease;        &#125;        .stTabs [aria-selected=&quot;true&quot;] &#123;            background: linear-gradient(45deg, #1f77b4, #2196F3);            color: white !important;            border: 2px solid #1f77b4;        &#125;        /* ä¾§è¾¹æ æ ·å¼ */        .css-1d391kg &#123;            background: linear-gradient(180deg, #f8f9fa, #ffffff);        &#125;        /* æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ */        .uploadedFile &#123;            background: #f8f9fa;            border: 2px dashed #1f77b4;            border-radius: 10px;            padding: 1rem;            text-align: center;            margin: 1rem 0;        &#125;        /* çŠ¶æ€æŒ‡ç¤ºå™¨ */        .status-indicator &#123;            display: inline-flex;            align-items: center;            gap: 0.5rem;            padding: 0.5rem 1rem;            border-radius: 20px;            font-weight: 600;            font-size: 0.9rem;        &#125;        .status-ready &#123;            background: #e8f5e8;            color: #2ca02c;            border: 1px solid #2ca02c;        &#125;        .status-waiting &#123;            background: #fff8e1;            color: #ff9800;            border: 1px solid #ff9800;        &#125;    &lt;/style&gt;    &quot;&quot;&quot;, unsafe_allow_html=True)# åˆå§‹åŒ–embeddings@st.cache_resourcedef init_embeddings():    return DashScopeEmbeddings(        model=&quot;text-embedding-v1&quot;,        dashscope_api_key=dashscope_api_key    )# åˆå§‹åŒ–LLM@st.cache_resourcedef init_llm():    return init_chat_model(&quot;deepseek-chat&quot;, model_provider=&quot;deepseek&quot;)# åˆå§‹åŒ–ä¼šè¯çŠ¶æ€def init_session_state():    if &#x27;pdf_messages&#x27; not in st.session_state:        st.session_state.pdf_messages = []    if &#x27;csv_messages&#x27; not in st.session_state:        st.session_state.csv_messages = []    if &#x27;df&#x27; not in st.session_state:        st.session_state.df = None# PDFå¤„ç†å‡½æ•°def pdf_read(pdf_doc):    text = &quot;&quot;    for pdf in pdf_doc:        pdf_reader = PdfReader(pdf)        for page in pdf_reader.pages:            text += page.extract_text()    return textdef get_chunks(text):    text_splitter = RecursiveCharacterTextSplitter(chunk_size=1000, chunk_overlap=200)    chunks = text_splitter.split_text(text)    return chunksdef vector_store(text_chunks):    embeddings = init_embeddings()    vector_store = FAISS.from_texts(text_chunks, embedding=embeddings)    vector_store.save_local(&quot;faiss_db&quot;)def check_database_exists():    return os.path.exists(&quot;faiss_db&quot;) and os.path.exists(&quot;faiss_db/index.faiss&quot;)def get_pdf_response(user_question):    if not check_database_exists():        return &quot;âŒ è¯·å…ˆä¸Šä¼ PDFæ–‡ä»¶å¹¶ç‚¹å‡»&#x27;Submit &amp; Process&#x27;æŒ‰é’®æ¥å¤„ç†æ–‡æ¡£ï¼&quot;    try:        embeddings = init_embeddings()        llm = init_llm()        new_db = FAISS.load_local(&quot;faiss_db&quot;, embeddings, allow_dangerous_deserialization=True)        retriever = new_db.as_retriever()        prompt = ChatPromptTemplate.from_messages([            (&quot;system&quot;,             &quot;&quot;&quot;ä½ æ˜¯AIåŠ©æ‰‹ï¼Œè¯·æ ¹æ®æä¾›çš„ä¸Šä¸‹æ–‡å›ç­”é—®é¢˜ï¼Œç¡®ä¿æä¾›æ‰€æœ‰ç»†èŠ‚ï¼Œå¦‚æœç­”æ¡ˆä¸åœ¨ä¸Šä¸‹æ–‡ä¸­ï¼Œè¯·è¯´&quot;ç­”æ¡ˆä¸åœ¨ä¸Šä¸‹æ–‡ä¸­&quot;ï¼Œä¸è¦æä¾›é”™è¯¯çš„ç­”æ¡ˆ&quot;&quot;&quot;),            (&quot;placeholder&quot;, &quot;&#123;chat_history&#125;&quot;),            (&quot;human&quot;, &quot;&#123;input&#125;&quot;),            (&quot;placeholder&quot;, &quot;&#123;agent_scratchpad&#125;&quot;),        ])        retrieval_chain = create_retriever_tool(retriever, &quot;pdf_extractor&quot;,                                                &quot;This tool is to give answer to queries from the pdf&quot;)        agent = create_tool_calling_agent(llm, [retrieval_chain], prompt)        agent_executor = AgentExecutor(agent=agent, tools=[retrieval_chain], verbose=True)        response = agent_executor.invoke(&#123;&quot;input&quot;: user_question&#125;)        return response[&#x27;output&#x27;]    except Exception as e:        return f&quot;âŒ å¤„ç†é—®é¢˜æ—¶å‡ºé”™: &#123;str(e)&#125;&quot;# CSVå¤„ç†å‡½æ•°def get_csv_response(query: str) -&gt; str:    if st.session_state.df is None:        return &quot;è¯·å…ˆä¸Šä¼ CSVæ–‡ä»¶&quot;    llm = init_llm()    locals_dict = &#123;&#x27;df&#x27;: st.session_state.df&#125;    tools = [PythonAstREPLTool(locals=locals_dict)]    system = f&quot;&quot;&quot;Given a pandas dataframe `df` answer user&#x27;s query.        Here&#x27;s the output of `df.head().to_markdown()` for your reference, you have access to full dataframe as `df`:\n    &#123;st.session_state.df.head().to_markdown()&#125;\n    Give final answer as soon as you have enough data, otherwise generate code using `df` and call required tool.If user asks you to make a graph, save it as `plot.png`, and output GRAPH:&lt;graph title&gt;.Example:\n    plt.hist(df[&#39;Age&#39;])\n    plt.xlabel(&#39;Age&#39;)\n    plt.ylabel(&#39;Count&#39;)\n    plt.title(&#39;Age Histogram&#39;)\n    plt.savefig(&#39;plot.png&#39;)\n    GRAPH:Age histogram        Query:&quot;&quot;&quot;    prompt = ChatPromptTemplate.from_messages([        (&quot;system&quot;, system),        (&quot;placeholder&quot;, &quot;&#123;chat_history&#125;&quot;),        (&quot;human&quot;, &quot;&#123;input&#125;&quot;),        (&quot;placeholder&quot;, &quot;&#123;agent_scratchpad&#125;&quot;),    ])    agent = create_tool_calling_agent(llm=llm, tools=tools, prompt=prompt)    agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)    return agent_executor.invoke(&#123;&quot;input&quot;: query&#125;)[&#x27;output&#x27;]def main():    init_session_state()    # ä¸»æ ‡é¢˜    st.markdown(&#x27;&lt;h1 class=&quot;main-header&quot;&gt;ğŸ¤– LangChain Bç«™å…¬å¼€è¯¾ Byä¹å¤©Hector&lt;/h1&gt;&#x27;, unsafe_allow_html=True)    st.markdown(        &#x27;&lt;div style=&quot;text-align: center; margin-bottom: 2rem; color: #666;&quot;&gt;é›†PDFé—®ç­”ä¸æ•°æ®åˆ†æäºä¸€ä½“çš„æ™ºèƒ½åŠ©æ‰‹&lt;/div&gt;&#x27;,        unsafe_allow_html=True)    # åˆ›å»ºä¸¤ä¸ªä¸»è¦åŠŸèƒ½çš„æ ‡ç­¾é¡µ    tab1, tab2 = st.tabs([&quot;ğŸ“„ PDFæ™ºèƒ½é—®ç­”&quot;, &quot;ğŸ“Š CSVæ•°æ®åˆ†æ&quot;])    # PDFé—®ç­”æ¨¡å—    with tab1:        col1, col2 = st.columns([2, 1])        with col1:            st.markdown(&quot;### ğŸ’¬ ä¸PDFæ–‡æ¡£å¯¹è¯&quot;)            # æ˜¾ç¤ºæ•°æ®åº“çŠ¶æ€            if check_database_exists():                st.markdown(                    &#x27;&lt;div class=&quot;info-card success-card&quot;&gt;&lt;span class=&quot;status-indicator status-ready&quot;&gt;âœ… PDFæ•°æ®åº“å·²å‡†å¤‡å°±ç»ª&lt;/span&gt;&lt;/div&gt;&#x27;,                    unsafe_allow_html=True)            else:                st.markdown(                    &#x27;&lt;div class=&quot;info-card warning-card&quot;&gt;&lt;span class=&quot;status-indicator status-waiting&quot;&gt;âš ï¸ è¯·å…ˆä¸Šä¼ å¹¶å¤„ç†PDFæ–‡ä»¶&lt;/span&gt;&lt;/div&gt;&#x27;,                    unsafe_allow_html=True)            # èŠå¤©ç•Œé¢            for message in st.session_state.pdf_messages:                with st.chat_message(message[&quot;role&quot;]):                    st.markdown(message[&quot;content&quot;])            # ç”¨æˆ·è¾“å…¥            if pdf_query := st.chat_input(&quot;ğŸ’­ å‘PDFæé—®...&quot;, disabled=not check_database_exists()):                st.session_state.pdf_messages.append(&#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: pdf_query&#125;)                with st.chat_message(&quot;user&quot;):                    st.markdown(pdf_query)                with st.chat_message(&quot;assistant&quot;):                    with st.spinner(&quot;ğŸ¤” AIæ­£åœ¨åˆ†ææ–‡æ¡£...&quot;):                        response = get_pdf_response(pdf_query)                    st.markdown(response)                    st.session_state.pdf_messages.append(&#123;&quot;role&quot;: &quot;assistant&quot;, &quot;content&quot;: response&#125;)        with col2:            st.markdown(&quot;### ğŸ“ æ–‡æ¡£ç®¡ç†&quot;)            # æ–‡ä»¶ä¸Šä¼             pdf_docs = st.file_uploader(                &quot;ğŸ“ ä¸Šä¼ PDFæ–‡ä»¶&quot;,                accept_multiple_files=True,                type=[&#x27;pdf&#x27;],                help=&quot;æ”¯æŒä¸Šä¼ å¤šä¸ªPDFæ–‡ä»¶&quot;            )            if pdf_docs:                st.success(f&quot;ğŸ“„ å·²é€‰æ‹© &#123;len(pdf_docs)&#125; ä¸ªæ–‡ä»¶&quot;)                for i, pdf in enumerate(pdf_docs, 1):                    st.write(f&quot;â€¢ &#123;pdf.name&#125;&quot;)            # å¤„ç†æŒ‰é’®            if st.button(&quot;ğŸš€ ä¸Šä¼ å¹¶å¤„ç†PDFæ–‡æ¡£&quot;, disabled=not pdf_docs, use_container_width=True):                with st.spinner(&quot;ğŸ“Š æ­£åœ¨å¤„ç†PDFæ–‡ä»¶...&quot;):                    try:                        raw_text = pdf_read(pdf_docs)                        if not raw_text.strip():                            st.error(&quot;âŒ æ— æ³•ä»PDFä¸­æå–æ–‡æœ¬&quot;)                            return                        text_chunks = get_chunks(raw_text)                        st.info(f&quot;ğŸ“ æ–‡æœ¬å·²åˆ†å‰²ä¸º &#123;len(text_chunks)&#125; ä¸ªç‰‡æ®µ&quot;)                        vector_store(text_chunks)                        st.success(&quot;âœ… PDFå¤„ç†å®Œæˆï¼&quot;)                        st.balloons()                        st.rerun()                    except Exception as e:                        st.error(f&quot;âŒ å¤„ç†PDFæ—¶å‡ºé”™: &#123;str(e)&#125;&quot;)            # æ¸…é™¤æ•°æ®åº“            if st.button(&quot;ğŸ—‘ï¸ æ¸…é™¤PDFæ•°æ®åº“&quot;, use_container_width=True):                try:                    import shutil                    if os.path.exists(&quot;faiss_db&quot;):                        shutil.rmtree(&quot;faiss_db&quot;)                    st.session_state.pdf_messages = []                    st.success(&quot;æ•°æ®åº“å·²æ¸…é™¤&quot;)                    st.rerun()                except Exception as e:                    st.error(f&quot;æ¸…é™¤å¤±è´¥: &#123;e&#125;&quot;)    # CSVæ•°æ®åˆ†ææ¨¡å—    with tab2:        col1, col2 = st.columns([2, 1])        with col1:            st.markdown(&quot;### ğŸ“ˆ æ•°æ®åˆ†æå¯¹è¯&quot;)            # æ˜¾ç¤ºæ•°æ®çŠ¶æ€            if st.session_state.df is not None:                st.markdown(                    &#x27;&lt;div class=&quot;info-card success-card&quot;&gt;&lt;span class=&quot;status-indicator status-ready&quot;&gt;âœ… æ•°æ®å·²åŠ è½½å®Œæˆ&lt;/span&gt;&lt;/div&gt;&#x27;,                    unsafe_allow_html=True)            else:                st.markdown(                    &#x27;&lt;div class=&quot;info-card warning-card&quot;&gt;&lt;span class=&quot;status-indicator status-waiting&quot;&gt;âš ï¸ è¯·å…ˆä¸Šä¼ CSVæ–‡ä»¶&lt;/span&gt;&lt;/div&gt;&#x27;,                    unsafe_allow_html=True)            # èŠå¤©ç•Œé¢            for message in st.session_state.csv_messages:                with st.chat_message(message[&quot;role&quot;]):                    if message[&quot;type&quot;] == &quot;dataframe&quot;:                        st.dataframe(message[&quot;content&quot;])                    elif message[&quot;type&quot;] == &quot;image&quot;:                        st.write(message[&quot;content&quot;])                        if os.path.exists(&#x27;plot.png&#x27;):                            st.image(&#x27;plot.png&#x27;)                    else:                        st.markdown(message[&quot;content&quot;])            # ç”¨æˆ·è¾“å…¥            if csv_query := st.chat_input(&quot;ğŸ“Š åˆ†ææ•°æ®...&quot;, disabled=st.session_state.df is None):                st.session_state.csv_messages.append(&#123;&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: csv_query, &quot;type&quot;: &quot;text&quot;&#125;)                with st.chat_message(&quot;user&quot;):                    st.markdown(csv_query)                with st.chat_message(&quot;assistant&quot;):                    with st.spinner(&quot;ğŸ”„ æ­£åœ¨åˆ†ææ•°æ®...&quot;):                        response = get_csv_response(csv_query)                    if isinstance(response, pd.DataFrame):                        st.dataframe(response)                        st.session_state.csv_messages.append(                            &#123;&quot;role&quot;: &quot;assistant&quot;, &quot;content&quot;: response, &quot;type&quot;: &quot;dataframe&quot;&#125;)                    elif &quot;GRAPH&quot; in str(response):                        text = str(response)[str(response).find(&quot;GRAPH&quot;) + 6:]                        st.write(text)                        if os.path.exists(&#x27;plot.png&#x27;):                            st.image(&#x27;plot.png&#x27;)                        st.session_state.csv_messages.append(&#123;&quot;role&quot;: &quot;assistant&quot;, &quot;content&quot;: text, &quot;type&quot;: &quot;image&quot;&#125;)                    else:                        st.markdown(response)                        st.session_state.csv_messages.append(&#123;&quot;role&quot;: &quot;assistant&quot;, &quot;content&quot;: response, &quot;type&quot;: &quot;text&quot;&#125;)        with col2:            st.markdown(&quot;### ğŸ“Š æ•°æ®ç®¡ç†&quot;)            # CSVæ–‡ä»¶ä¸Šä¼             csv_file = st.file_uploader(&quot;ğŸ“ˆ ä¸Šä¼ CSVæ–‡ä»¶&quot;, type=&#x27;csv&#x27;)            if csv_file:                st.session_state.df = pd.read_csv(csv_file)                st.success(f&quot;âœ… æ•°æ®åŠ è½½æˆåŠŸ!&quot;)                # æ˜¾ç¤ºæ•°æ®é¢„è§ˆ                with st.expander(&quot;ğŸ‘€ æ•°æ®é¢„è§ˆ&quot;, expanded=True):                    st.dataframe(st.session_state.df.head())                    st.write(f&quot;ğŸ“ æ•°æ®ç»´åº¦: &#123;st.session_state.df.shape[0]&#125; è¡Œ Ã— &#123;st.session_state.df.shape[1]&#125; åˆ—&quot;)            # æ•°æ®ä¿¡æ¯            if st.session_state.df is not None:                if st.button(&quot;ğŸ“‹ æ˜¾ç¤ºæ•°æ®ä¿¡æ¯&quot;, use_container_width=True):                    with st.expander(&quot;ğŸ“Š æ•°æ®ç»Ÿè®¡ä¿¡æ¯&quot;, expanded=True):                        st.write(&quot;**åŸºæœ¬ä¿¡æ¯:**&quot;)                        st.text(f&quot;è¡Œæ•°: &#123;st.session_state.df.shape[0]&#125;&quot;)                        st.text(f&quot;åˆ—æ•°: &#123;st.session_state.df.shape[1]&#125;&quot;)                        st.write(&quot;**åˆ—å:**&quot;)                        st.write(list(st.session_state.df.columns))                        st.write(&quot;**æ•°æ®ç±»å‹:**&quot;)                        # ä¿®å¤ï¼šå°†dtypesè½¬æ¢ä¸ºå­—ç¬¦ä¸²æ ¼å¼æ˜¾ç¤º                        dtype_info = pd.DataFrame(&#123;                            &#x27;åˆ—å&#x27;: st.session_state.df.columns,                            &#x27;æ•°æ®ç±»å‹&#x27;: [str(dtype) for dtype in st.session_state.df.dtypes]                        &#125;)                        st.dataframe(dtype_info, use_container_width=True)            # æ¸…é™¤æ•°æ®            if st.button(&quot;ğŸ—‘ï¸ æ¸…é™¤CSVæ•°æ®&quot;, use_container_width=True):                st.session_state.df = None                st.session_state.csv_messages = []                if os.path.exists(&#x27;plot.png&#x27;):                    os.remove(&#x27;plot.png&#x27;)                st.success(&quot;æ•°æ®å·²æ¸…é™¤&quot;)                st.rerun()    # åº•éƒ¨ä¿¡æ¯    st.markdown(&quot;---&quot;)    col1, col2, col3 = st.columns(3)    with col1:        st.markdown(&quot;**ğŸ”§ æŠ€æœ¯æ ˆ:**&quot;)        st.markdown(&quot;â€¢ LangChain â€¢ Streamlit â€¢ FAISS â€¢ DeepSeek&quot;)    with col2:        st.markdown(&quot;**âœ¨ åŠŸèƒ½ç‰¹è‰²:**&quot;)        st.markdown(&quot;â€¢ PDFæ™ºèƒ½é—®ç­” â€¢ æ•°æ®å¯è§†åŒ–åˆ†æ&quot;)    with col3:        st.markdown(&quot;**ğŸ’¡ ä½¿ç”¨æç¤º:**&quot;)        st.markdown(&quot;â€¢ æ”¯æŒå¤šæ–‡ä»¶ä¸Šä¼  â€¢ å®æ—¶å¯¹è¯äº¤äº’&quot;)if __name__ == &quot;__main__&quot;:    main() \n\nâœ… æ€»ç»“ï¼ˆæ ¸å¿ƒåŠŸèƒ½æ¶æ„ï¼‰\n\n\n\næ¨¡å—\næŠ€æœ¯ç»„ä»¶\nè¯´æ˜\n\n\n\nPDF é—®ç­”\nFAISS + Retriever Tool\næ„æˆ RAG æ£€ç´¢å¢å¼ºæµç¨‹\n\n\nCSV åˆ†æ\nPythonAstREPLTool + Pandas\nå®ç°ä»£ç ç”Ÿæˆ + å¯è§†åŒ–\n\n\nLLM\nDeepSeek Chat\nç»Ÿä¸€ Agent è°ƒç”¨\n\n\nå‘é‡åº“\nDashScope Embedding + FAISS\næ”¯æŒä¸­æ–‡è¯­ä¹‰åŒ¹é…\n\n\nUI\nStreamlit + è‡ªå®šä¹‰ CSS\næä¾›å¤š Tab é¡µé¢ä¸äº¤äº’å¼èŠå¤©\n\n\nçŠ¶æ€ç®¡ç†\nst.session_state\nç®¡ç†å†å²ã€æ•°æ®ã€å›¾ç‰‡ç­‰ä¸Šä¸‹æ–‡\n\n\nè¿™é‡Œä¸å†é‡å¤èµ˜è¿°PDFæ™ºèƒ½é—®ç­”çš„æµç¨‹ï¼Œé‡ç‚¹è¯´æ˜CSVæ•°æ®æ™ºèƒ½åˆ†æçš„æµç¨‹ã€‚\nStep 1. CSV æ–‡ä»¶ä¸Šä¼ ä¸ DataFrame æ˜¾ç¤º\nç”¨æˆ·ä¸Šä¼  .csv æ–‡ä»¶åç”± pandas.read_csv() åŠ è½½ä¸º DataFrameï¼Œå®æ—¶é¢„è§ˆæ•°æ®è¡Œåˆ—ã€åˆ—åã€ç±»å‹ç­‰ä¿¡æ¯ã€‚\nst.session_state.df = pd.read_csv(csv_file)st.dataframe(st.session_state.df.head())\n\nStep 2. æ„å»ºä»£ç æ‰§è¡Œå·¥å…· Agent\næ„å»ºç³»ç»Ÿæç¤ºï¼Œæ³¨å…¥ DataFrame çš„ .head() è¾“å‡ºå¢å¼ºè¯­å¢ƒç†è§£ï¼Œä½¿ç”¨ PythonAstREPLTool å·¥å…·å…è®¸æ¨¡å‹æ‰§è¡ŒåŸºäº df çš„ä»£ç åˆ†æï¼Œé€šè¿‡ create_tool_calling_agent æ„å»ºåˆ†æ Agentï¼Œå¯æ‰§è¡Œç­›é€‰ã€åˆ†ç»„ã€èšåˆç­‰ pandas æ“ä½œï¼Œå›¾è¡¨ç»˜åˆ¶ï¼ˆä¿å­˜ä¸º plot.pngï¼Œå…³é”®è¯è¯†åˆ«åæ¸²æŸ“ï¼‰ã€‚\ntools = [PythonAstREPLTool(locals=&#123;&quot;df&quot;: st.session_state.df&#125;)]\n\nStep 3. å›¾è¡¨è¯†åˆ«ä¸è‡ªåŠ¨å±•ç¤º\nè‹¥æ¨¡å‹è¿”å›å†…å®¹ä¸­åŒ…å« â€œGRAPH:â€ï¼Œåˆ™è‡ªåŠ¨è¯»å– plot.png å¹¶å±•ç¤ºï¼›æ”¯æŒ plt.hist()ã€plt.bar() ç­‰å¯è§†åŒ–å‘½ä»¤ï¼›ä¼šè¯è®°å½•ä¸­åˆ†ç±»ä¿å­˜æ–‡æœ¬ã€å›¾åƒä¸è¡¨æ ¼ç±»å‹å†…å®¹ã€‚\n","categories":["å­¦ä¹ "],"tags":["æ•™ç¨‹","LangChain"]},{"title":"Linux å¸¸ç”¨å‘½ä»¤","url":"/2024/11/19/Linux/","content":"Linux å¸¸ç”¨å‘½ä»¤æ±‡æ€»åŸºæœ¬å‘½ä»¤å…³æœºå’Œé‡å¯\nå…³æœºï¼š\nshutdownÂ â€hÂ nowÂ  Â  Â  Â  Â  #ç«‹åˆ»å…³æœºÂ shutdownÂ â€hÂ 5Â Â  Â  Â  Â  #5åˆ†é’Ÿåå…³æœºÂ poweroffÂ  Â  Â  Â  Â  Â  #ç«‹åˆ»å…³æœºÂ \n\né‡å¯\nshutdownÂ â€rÂ nowÂ  Â  Â  Â  Â  #ç«‹åˆ»é‡å¯Â shutdownÂ â€rÂ 5Â Â  Â  Â  Â  #5åˆ†é’Ÿåé‡å¯Â rebootÂ  Â  Â  Â  Â  Â  Â  #ç«‹åˆ»é‡å¯Â \n\nå¸®åŠ©å‘½ä»¤\nå¸®åŠ©\nshutdownÂ â€“helpÂ  Â  Â  Â  Â  #æŸ¥çœ‹å…³æœºå‘½ä»¤å¸®åŠ©ä¿¡æ¯Â ifconfigÂ  Â  â€â€helpÂ  Â  Â  Â  Â  #æŸ¥çœ‹ç½‘å¡ä¿¡æ¯Â manÂ  Â  Â  Â  Â  Â  Â  #ï¼ˆå‘½ä»¤è¯´æ˜ä¹¦ï¼‰Â manÂ shutdownÂ \n\næ³¨æ„ï¼šman shutdown æ‰“å¼€å‘½ä»¤è¯´æ˜ä¹¦ä¹‹åï¼Œä½¿ç”¨æŒ‰é”® q é€€å‡º \n\nç›®å½•æ“ä½œå‘½ä»¤ç›®å½•åˆ‡æ¢å‘½ä»¤\ncd\ncdÂ /Â  Â  Â  Â  Â  Â  Â  #åˆ‡æ¢åˆ°æ ¹ç›®å½•Â cdÂ /usrÂ  Â  Â  Â  Â  Â  Â  #åˆ‡æ¢åˆ°æ ¹ç›®å½•ä¸‹çš„ usr ç›®å½•Â cdÂ ../Â  Â  Â  Â  Â  Â  Â  #åˆ‡æ¢åˆ°ä¸Šä¸€çº§ç›®å½•Â  æˆ–è€…Â  Â  cdÂ ..Â cdÂ ~Â  Â  Â  Â  Â  Â  Â  #åˆ‡æ¢åˆ° home ç›®å½•Â cdÂ â€Â  Â  Â  Â  Â  Â  Â  #åˆ‡æ¢åˆ°ä¸Šæ¬¡è®¿é—®çš„ç›®å½•Â \n\n\nç›®å½•æŸ¥çœ‹å‘½ä»¤\nls\nLsÂ  Â  Â  Â  Â  Â  #æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶Â lsÂ â€aÂ  Â  Â  Â  Â  #æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—çš„æ–‡ä»¶ï¼‰Â lsÂ â€lÂ  æˆ–Â  llÂ  Â  Â  Â  #åˆ—è¡¨æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶ï¼ˆæ˜¾ç¤ºæ›´å¤šä¿¡æ¯ï¼‰Â lsÂ /dirÂ  Â  Â  Â  Â  #æŸ¥çœ‹æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶Â  Â  Â  å¦‚ï¼šlsÂ /usrÂ \n\nç›®å½•æ“ä½œå‘½ä»¤åˆ›å»ºç›®å½•\nmkdir\nmkdirÂ  Â  Â  Â  aaaÂ Â  Â  #Â  åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º aaa çš„ç›®å½•Â mkdirÂ  Â  Â  Â  /usr/aaaÂ  Â  #Â  åœ¨æŒ‡å®šç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º aaa çš„ç›®å½•Â \n\nåˆ é™¤ç›®å½•æˆ–æ–‡ä»¶\nrm\nrmÂ  æ–‡ä»¶Â  Â  Â  Â  #åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶Â rmÂ â€fÂ  æ–‡ä»¶Â  Â  Â  Â  Â  #åˆ é™¤å½“å‰ç›®å½•çš„çš„æ–‡ä»¶ï¼ˆä¸è¯¢é—®ï¼‰Â #åˆ é™¤ç›®å½•ï¼šÂ rmÂ â€rÂ aaaÂ  Â  Â  Â  Â  #é€’å½’åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„ aaa ç›®å½•Â rmÂ â€rfÂ aaaÂ  Â  Â  Â  Â  #é€’å½’åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„ aaa ç›®å½•ï¼ˆä¸è¯¢é—®ï¼‰Â #å…¨éƒ¨åˆ é™¤ï¼šÂ rmÂ â€rfÂ *Â  Â  Â  Â  Â  Â  #å°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶å…¨éƒ¨åˆ é™¤Â rmÂ â€rfÂ /*Â Â  Â  Â  Â  #ã€æ…ç”¨ï¼ã€‘å°†æ ¹ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å…¨éƒ¨åˆ é™¤Â \n\næ³¨æ„ï¼šrm ä¸ä»…å¯ä»¥åˆ é™¤ç›®å½•ï¼Œä¹Ÿå¯ä»¥åˆ é™¤å…¶ä»–æ–‡ä»¶æˆ–å‹ç¼©åŒ…ï¼Œä¸ºäº†æ–¹ä¾¿å¤§å®¶çš„è®°å¿†ï¼Œæ— è®ºåˆ  é™¤ä»»ä½•ç›®å½•æˆ–æ–‡ä»¶ï¼Œéƒ½ç›´æ¥ä½¿ç”¨ rm â€rf ç›®å½•&#x2F;æ–‡ä»¶&#x2F;å‹ç¼©åŒ… \n\nç›®å½•ä¿®æ”¹\né‡å‘½åç›®å½•\nå‘½ä»¤ï¼šmv å½“å‰ç›®å½• æ–°ç›®å½•Â ç¤ºä¾‹ï¼šmv aaa bbb    #å°†ç›®å½• aaa æ”¹ä¸º bbb    \n\næ³¨æ„ï¼šmv çš„è¯­æ³•ä¸ä»…å¯ä»¥å¯¹ç›®å½•è¿›è¡Œé‡å‘½åè€Œä¸”ä¹Ÿå¯ä»¥å¯¹å„ç§æ–‡ä»¶ï¼Œå‹ç¼©åŒ…ç­‰è¿›è¡Œé‡å‘½åçš„æ“ä½œã€‚ \n\n\nå‰ªåˆ‡ç›®å½•     \nå‘½ä»¤ï¼šmv ç›®å½•åç§° ç›®å½•çš„æ–°ä½ç½®ç¤ºä¾‹ï¼šmv /usr/tmp/aaa /usr  #å°†/usr/tmp ç›®å½•ä¸‹çš„ aaa ç›®å½•å‰ªåˆ‡åˆ° /usr ç›®å½•ä¸‹é¢   \n\næ³¨æ„ï¼šmv è¯­æ³•ä¸ä»…å¯ä»¥å¯¹ç›®å½•è¿›è¡Œå‰ªåˆ‡æ“ä½œï¼Œå¯¹æ–‡ä»¶å’Œå‹ç¼©åŒ…ç­‰éƒ½å¯æ‰§è¡Œå‰ªåˆ‡æ“ä½œã€‚\n\n\næ‹·è´ç›®å½•\n&gt;å‘½ä»¤ï¼šcpÂ â€rÂ  ç›®å½•åç§°Â  ç›®å½•æ‹·è´çš„ç›®æ ‡ä½ç½®Â  Â  Â  â€r ä»£è¡¨é€’å½’Â &gt;ç¤ºä¾‹ï¼šcpÂ /usr/tmp/aaaÂ  Â  /usrÂ Â  #å°†/usr/tmp ç›®å½•ä¸‹çš„ aaa ç›®å½•å¤åˆ¶åˆ°Â  /usr ç›®å½•ä¸‹é¢Â \n\næ³¨æ„ï¼šcp å‘½ä»¤ä¸ä»…å¯ä»¥æ‹·è´ç›®å½•è¿˜å¯ä»¥æ‹·è´æ–‡ä»¶ï¼Œå‹ç¼©åŒ…ç­‰ï¼Œæ‹·è´æ–‡ä»¶å’Œå‹ç¼©åŒ…æ—¶ä¸ç”¨ å†™â€r é€’å½’ã€‚ \n\nç›®å½•æ£€ç´¢\nå‘½ä»¤ï¼šfindÂ  ç›®å½•Â  å‚æ•°Â  æ–‡ä»¶åç§°Â ç¤ºä¾‹ï¼šfindÂ /usr/tmpÂ â€nameÂ &#x27;a*&#x27;Â  Â  Â  Â  #æŸ¥æ‰¾/usr/tmp ç›®å½•ä¸‹çš„æ‰€æœ‰ä»¥ a å¼€å¤´çš„ç›®å½•æˆ–æ–‡ä»¶\n\næ–‡ä»¶æ“ä½œå‘½ä»¤æ–°å»ºæ–‡ä»¶\nå‘½ä»¤ï¼štouchÂ  æ–‡ä»¶åÂ ç¤ºä¾‹ï¼štouchÂ  Â  aa.txtÂ  Â  Â  #åœ¨å½“å‰ç›®å½•åˆ›å»ºä¸€ä¸ªåä¸º aa.txt çš„æ–‡ä»¶Â \n\nåˆ é™¤æ–‡ä»¶\nå‘½ä»¤ï¼šrmÂ â€rfÂ  æ–‡ä»¶åÂ \n\nä¿®æ”¹æ–‡ä»¶\næ‰“å¼€æ–‡ä»¶\nviÂ  æ–‡ä»¶åÂ ç¤ºä¾‹ï¼šviÂ aa.txtÂ  æˆ–è€…Â  vimÂ aa.txtÂ  Â  Â  #æ‰“å¼€å½“å‰ç›®å½•ä¸‹çš„ aa.txt æ–‡ä»¶Â \n\nè‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™æ–°å»ºæ–‡ä»¶å¹¶æ‰“å¼€ \næ³¨æ„ï¼šä½¿ç”¨ vi ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶åï¼Œå¹¶ä¸èƒ½ç¼–è¾‘ï¼Œå› ä¸ºæ­¤æ—¶å¤„äºå‘½ä»¤æ¨¡å¼ï¼Œç‚¹å‡»é”®ç›˜ i&#x2F;a&#x2F;o è¿›å…¥ ç¼–è¾‘æ¨¡å¼ã€‚ \n\nç¼–è¾‘æ–‡ä»¶\nä½¿ç”¨ vi ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶åç‚¹å‡»æŒ‰é”®ï¼ši ï¼Œa æˆ–è€… o å³å¯è¿›å…¥ç¼–è¾‘æ¨¡å¼ã€‚\niï¼šåœ¨å…‰æ ‡æ‰€åœ¨å­—ç¬¦å‰å¼€å§‹æ’å…¥\naï¼šåœ¨å…‰æ ‡æ‰€åœ¨å­—ç¬¦åå¼€å§‹æ’å…¥ \noï¼šåœ¨å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹é¢å¦èµ·ä¸€æ–°è¡Œæ’å…¥\n\nä¿å­˜æ–‡ä»¶\nç¬¬ä¸€æ­¥ï¼šESC  è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ \nç¬¬äºŒæ­¥ï¼šï¼šè¿›å…¥åº•è¡Œæ¨¡å¼ \nç¬¬ä¸‰æ­¥ï¼šwq!  #ä¿å­˜å¹¶é€€å‡ºç¼–è¾‘ \n\nå–æ¶ˆç¼–è¾‘\nç¬¬ä¸€æ­¥ï¼šESC  è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ \nç¬¬äºŒæ­¥ï¼šï¼šè¿›å…¥åº•è¡Œæ¨¡å¼ \nç¬¬ä¸‰æ­¥ï¼šq!   #æ’¤é”€æœ¬æ¬¡ä¿®æ”¹å¹¶é€€å‡ºç¼–è¾‘\n\n\n\næŸ¥çœ‹æ–‡ä»¶\næ–‡ä»¶çš„æŸ¥çœ‹å‘½ä»¤ï¼šcat&#x2F;more&#x2F;less&#x2F;tail \ncatï¼šçœ‹æœ€åä¸€å±Â ç¤ºä¾‹ï¼šä½¿ç”¨ cat æŸ¥çœ‹/etc/sudo.conf æ–‡ä»¶ï¼Œåªèƒ½æ˜¾ç¤ºæœ€åä¸€å±å†…å®¹ã€‚Â catÂ sudo.confÂ \n\nmoreï¼šç™¾åˆ†æ¯”æ˜¾ç¤ºÂ ç¤ºä¾‹ï¼šä½¿ç”¨ more æŸ¥çœ‹/etc/sudo.conf æ–‡ä»¶ï¼Œå¯ä»¥æ˜¾ç¤ºç™¾åˆ†æ¯”ï¼Œå›è½¦å¯ä»¥å‘ä¸‹ä¸€è¡Œï¼Œç©ºæ ¼å¯ä»¥å‘ä¸‹ä¸€é¡µï¼Œq å¯ä»¥é€€å‡ºæŸ¥çœ‹Â moreÂ sudo.confÂ \n\nlessï¼šç¿»é¡µæŸ¥çœ‹Â ç¤ºä¾‹ï¼šä½¿ç”¨ less æŸ¥çœ‹/etc/sudo.conf æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨é”®ç›˜ä¸Šçš„ PgUp å’Œ PgDn å‘ä¸Šå’Œå‘ä¸‹ç¿»é¡µï¼Œq ç»“æŸæŸ¥çœ‹Â lessÂ sudo.confÂ \n\ntailï¼šæŒ‡å®šè¡Œæ•°æˆ–è€…åŠ¨æ€æŸ¥çœ‹Â ç¤ºä¾‹ï¼šä½¿ç”¨ tailÂ â€10Â  æŸ¥çœ‹/etc/sudo.conf æ–‡ä»¶çš„å 10 è¡Œï¼ŒCtrl+C ç»“æŸÂ  Â  Â tailÂ â€10Â sudo.confÂ \n\n","categories":["å­¦ä¹ "],"tags":["çŸ¥è¯†æ€»ç»“","Linux"]},{"title":"Debian å¸¸ç”¨å‘½ä»¤","url":"/2025/01/19/Debian%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","content":"Debian å¸¸ç”¨å‘½ä»¤æ±‡æ€»ä»¥ä¸‹æ˜¯ Debian ç³»ç»Ÿï¼ˆåŒ…æ‹¬ Raspberry Pi OS ç­‰åŸºäº Debian çš„å‘è¡Œç‰ˆï¼‰ä¸­ä¸€äº›å¸¸ç”¨å‘½ä»¤çš„æ€»ç»“ï¼Œæ¶µç›–äº†æ–‡ä»¶æ“ä½œã€ç³»ç»Ÿç®¡ç†ã€ç½‘ç»œé…ç½®ç­‰æ–¹é¢ï¼š\næ–‡ä»¶ä¸ç›®å½•æ“ä½œ\nåˆ—å‡ºç›®å½•å†…å®¹ï¼š\nlsls -l  # è¯¦ç»†åˆ—è¡¨ls -a  # æ˜¾ç¤ºéšè—æ–‡ä»¶\n\nåˆ‡æ¢ç›®å½•ï¼š\ncd &lt;ç›®å½•è·¯å¾„&gt;cd ..  # è¿”å›ä¸Šä¸€çº§ç›®å½•cd ~   # è¿”å›ç”¨æˆ·ä¸»ç›®å½•\n\nåˆ›å»ºç›®å½•ï¼š\nmkdir &lt;ç›®å½•å&gt;mkdir -p &lt;è·¯å¾„/ç›®å½•å&gt;  # é€’å½’åˆ›å»ºç›®å½•\n\nåˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ï¼š\nrm &lt;æ–‡ä»¶å&gt;  # åˆ é™¤æ–‡ä»¶rm -r &lt;ç›®å½•å&gt;  # é€’å½’åˆ é™¤ç›®å½•rm -f &lt;æ–‡ä»¶å&gt;  # å¼ºåˆ¶åˆ é™¤\n\nå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•ï¼š\ncp &lt;æºæ–‡ä»¶&gt; &lt;ç›®æ ‡æ–‡ä»¶&gt;cp -r &lt;æºç›®å½•&gt; &lt;ç›®æ ‡ç›®å½•&gt;  # é€’å½’å¤åˆ¶ç›®å½•\n\nç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶ï¼š\nmv &lt;æºæ–‡ä»¶&gt; &lt;ç›®æ ‡æ–‡ä»¶&gt;\n\næŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼š\ncat &lt;æ–‡ä»¶å&gt;less &lt;æ–‡ä»¶å&gt;  # åˆ†é¡µæŸ¥çœ‹head &lt;æ–‡ä»¶å&gt;  # æŸ¥çœ‹æ–‡ä»¶å¼€å¤´tail &lt;æ–‡ä»¶å&gt;  # æŸ¥çœ‹æ–‡ä»¶æœ«å°¾tail -f &lt;æ–‡ä»¶å&gt;  # å®æ—¶æŸ¥çœ‹æ–‡ä»¶æ›´æ–°\n\næŸ¥æ‰¾æ–‡ä»¶ï¼š\nfind &lt;ç›®å½•&gt; -name &lt;æ–‡ä»¶å&gt;\n\nå‹ç¼©ä¸è§£å‹ï¼š\ntar -czvf &lt;å‹ç¼©æ–‡ä»¶å.tar.gz&gt; &lt;ç›®å½•&gt;  # å‹ç¼©tar -xzvf &lt;å‹ç¼©æ–‡ä»¶å.tar.gz&gt;  # è§£å‹\n\nç³»ç»Ÿä¿¡æ¯ä¸ç®¡ç†\næŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯ï¼š\nuname -a  # æŸ¥çœ‹å†…æ ¸ä¿¡æ¯cat /etc/os-release  # æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬\n\næŸ¥çœ‹ç£ç›˜ç©ºé—´ï¼š\ndf -h  # æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µdu -sh &lt;ç›®å½•&gt;  # æŸ¥çœ‹ç›®å½•å¤§å°\n\næŸ¥çœ‹å†…å­˜ä¸ CPU ä½¿ç”¨ï¼š\nfree -h  # æŸ¥çœ‹å†…å­˜ä½¿ç”¨top  # å®æ—¶æŸ¥çœ‹ç³»ç»Ÿèµ„æºå ç”¨\n\næŸ¥çœ‹è¿›ç¨‹ï¼š\nps aux  # æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ps aux | grep &lt;è¿›ç¨‹å&gt;  # æŸ¥æ‰¾ç‰¹å®šè¿›ç¨‹\n\næ€æ­»è¿›ç¨‹ï¼š\nkill &lt;è¿›ç¨‹ID&gt;kill -9 &lt;è¿›ç¨‹ID&gt;  # å¼ºåˆ¶æ€æ­»è¿›ç¨‹\n\nå…³æœºä¸é‡å¯ï¼š\nsudo shutdown now  # ç«‹å³å…³æœºsudo reboot  # é‡å¯\n\næŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—ï¼š\njournalctl  # æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—journalctl -f  # å®æ—¶æŸ¥çœ‹æ—¥å¿—\n\nåŒ…ç®¡ç†â€‹\tä½¿ç”¨ APTï¼ˆAdvanced Package Toolï¼‰ä½œä¸ºåŒ…ç®¡ç†å·¥å…·\n\næ›´æ–°åŒ…åˆ—è¡¨ï¼š\nsudo apt update\n\nå®‰è£…è½¯ä»¶åŒ…ï¼š\nsudo apt install &lt;è½¯ä»¶åŒ…å&gt;\n\nå¸è½½è½¯ä»¶åŒ…ï¼š\nsudo apt remove &lt;è½¯ä»¶åŒ…å&gt;sudo apt purge &lt;è½¯ä»¶åŒ…å&gt;  # åŒæ—¶åˆ é™¤é…ç½®æ–‡ä»¶\n\nå‡çº§å·²å®‰è£…çš„è½¯ä»¶åŒ…ï¼š\nsudo apt upgrade\n\næœç´¢è½¯ä»¶åŒ…ï¼š\napt search &lt;å…³é”®å­—&gt;\n\næ¸…ç†ç¼“å­˜ï¼š\nsudo apt clean  # æ¸…ç†æ‰€æœ‰ç¼“å­˜sudo apt autoremove  # åˆ é™¤ä¸éœ€è¦çš„ä¾èµ–\n\nç”¨æˆ·ä¸æƒé™ç®¡ç†\nåˆ‡æ¢ç”¨æˆ·ï¼š\nsu &lt;ç”¨æˆ·å&gt;  # åˆ‡æ¢ç”¨æˆ·sudo -i  # åˆ‡æ¢åˆ° root ç”¨æˆ·\n\næ·»åŠ ç”¨æˆ·ï¼š\nsudo adduser &lt;ç”¨æˆ·å&gt;\n\nåˆ é™¤ç”¨æˆ·ï¼š\nsudo deluser &lt;ç”¨æˆ·å&gt;\n\nä¿®æ”¹æ–‡ä»¶æƒé™ï¼š\nchmod &lt;æƒé™&gt; &lt;æ–‡ä»¶å&gt;  # ä¿®æ”¹æƒé™chmod 755 &lt;æ–‡ä»¶å&gt;  # ç¤ºä¾‹ï¼šè®¾ç½®å¯æ‰§è¡Œæƒé™\n\nä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼š\nsudo chown &lt;ç”¨æˆ·&gt;:&lt;ç»„&gt; &lt;æ–‡ä»¶å&gt;\n\nç½‘ç»œç®¡ç†\næŸ¥çœ‹ç½‘ç»œæ¥å£ï¼š\nifconfig  # æŸ¥çœ‹ç½‘ç»œæ¥å£ä¿¡æ¯ip addr  # æŸ¥çœ‹ IP åœ°å€\n\næµ‹è¯•ç½‘ç»œè¿æ¥ï¼š\nping &lt;ç›®æ ‡åœ°å€&gt;\n\næŸ¥çœ‹ç½‘ç»œçŠ¶æ€ï¼š\nnetstat -tuln  # æŸ¥çœ‹ç«¯å£ç›‘å¬çŠ¶æ€ss -tuln  # æ›´ç°ä»£çš„æ›¿ä»£å·¥å…·\n\nä¸‹è½½æ–‡ä»¶ï¼š\nwget &lt;URL&gt;curl -O &lt;URL&gt;\n\né…ç½®ç½‘ç»œï¼š\n\nç¼–è¾‘ç½‘ç»œé…ç½®æ–‡ä»¶ï¼šsudo nano /etc/network/interfaces\né‡å¯ç½‘ç»œæœåŠ¡ï¼šsudo systemctl restart networking\n\n\n\næœåŠ¡ç®¡ç†\nå¯åŠ¨æœåŠ¡ï¼š\nsudo systemctl start &lt;æœåŠ¡å&gt;\n\nåœæ­¢æœåŠ¡ï¼š\nsudo systemctl stop &lt;æœåŠ¡å&gt;\n\né‡å¯æœåŠ¡ï¼š\nsudo systemctl restart &lt;æœåŠ¡å&gt;\n\næŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼š\nsudo systemctl status &lt;æœåŠ¡å&gt;\n\nå¯ç”¨å¼€æœºè‡ªå¯åŠ¨ï¼š\nsudo systemctl enable &lt;æœåŠ¡å&gt;\n\nç¦ç”¨å¼€æœºè‡ªå¯åŠ¨ï¼š\nsudo systemctl disable &lt;æœåŠ¡å&gt;\n\nå…¶ä»–å¸¸ç”¨å‘½ä»¤\næŸ¥çœ‹å‘½ä»¤å¸®åŠ©ï¼š\nman &lt;å‘½ä»¤&gt;  # æŸ¥çœ‹æ‰‹å†Œ&lt;å‘½ä»¤&gt; --help  # æŸ¥çœ‹ç®€è¦å¸®åŠ©\n\næŸ¥çœ‹ç¯å¢ƒå˜é‡ï¼š\necho $PATH\n\nè®¾ç½®åˆ«åï¼š\nalias ll=&#x27;ls -l&#x27;  # è®¾ç½®åˆ«åunalias ll  # å–æ¶ˆåˆ«å\n\nå®šæ—¶ä»»åŠ¡ï¼š\n\nç¼–è¾‘å®šæ—¶ä»»åŠ¡ï¼šcrontab -e\næŸ¥çœ‹å®šæ—¶ä»»åŠ¡ï¼šcrontab -l\n\n\n\n","categories":["å­¦ä¹ "],"tags":["çŸ¥è¯†æ€»ç»“","Linux","Debian"]},{"title":"å¯¹å†…å®¹è¿›è¡Œäº†ä¸€äº›å®Œå–„","url":"/2024/10/05/add-something-new/","content":"\n\n\nå› ä¸ºé—²ç€æ‰€ä»¥è¯•ä¸€äº›æœ‰æ„æ€çš„å°ç©æ„å„¿,ä¸çŸ¥é“æœ‰æ²¡æœ‰äººçœ‹å¾—åˆ°å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ \né¦–å…ˆå°±æ˜¯ä½¿ç”¨äº†éšè—æ–‡æœ¬\nä»¥åå¯ä»¥è¯´ä¸€äº›æ‚„æ‚„è¯äº†ï¼ˆï¼‰\næ–°å¢äº†è·³è½¬é“¾æ¥å°è¯•ä¸ Rhodes Islandâ„¢ å–å¾—å¼±ç¥ç»è¿æ¥ï¼š\n\n        \n        Rhodes Islandâ„¢'ä¸  Rhodes  Islandâ„¢  å–å¾—å¼±ç¥ç»è¿æ¥'\n\næƒ³æ·»åŠ è‡ªå·±çš„é“¾æ¥å¯ä»¥è”ç³»æˆ‘\næ–°å¢äº†éŸ³ä¹æ’­æ”¾å™¨æ”¾ä¸€é¦–æˆ‘å¬å¾—æœ€å¤šçš„\n&nbsp;\n\næ€ç»ªç»µç»µå‘€\næ–°å¢äº†ä¸€åªå™¬å…ƒå…½æ²¡é”™ï¼Œå°±æ˜¯å·¦ä¸‹è§’è¿™ä¸€åªï¼ˆä¸çŸ¥é“ä½ ä»¬æœ‰æ²¡æœ‰çœ‹åˆ°ï¼Œæ¯•ç«Ÿéšèº«äº†ï¼‰\nåœ¨æ·»åŠ çš„è¿‡ç¨‹ä¸­çœ‹åˆ°æœ‰ä¸ªåšå®¢æœ‰ç½—å°é»‘çš„æ¡Œå® ï¼Œæœ¬æ¥æ‰“ç®—ä¹Ÿæ·»åŠ ä¸€ä¸ªçš„ï¼Œä½†æ˜¯å¿˜è®°æ”¶è—ï¼Œå¯¼è‡´ç°åœ¨æ‰¾ä¸åˆ°é‚£ä¸ªåšå®¢äº†ã€‚åæ¥æˆ‘ä¹Ÿåœ¨Bç«™ä¸Šæ‰¾åˆ°äº†lpkæ–‡ä»¶ï¼Œå°è¯•äº†ä¸€ä¸ŠåˆåŠ åŠä¸ªä¸‹åˆï¼Œä»ç„¶ä¸çŸ¥é“æ€ä¹ˆæ·»åŠ ï¼Œåªèƒ½ä½œç½¢ã€‚ã€‚ï¼ˆå¦‚æœæœ‰è°çœ‹åˆ°é‚£ä¸ªç”¨äº†ç½—å°é»‘çš„åšå®¢æˆ–è€…çŸ¥é“æ€ä¹ˆåœ¨webä¸Šä½¿ç”¨lpkæ–‡ä»¶ï¼Œè¯·è”ç³»æˆ‘ï¼Œä¸èƒœæ„Ÿæ¿€ï¼‰\næ–°å¢äº†æœ¬ç«™è¿è¡Œæ—¶é—´åœ¨å³ä¸‹è§’å“Ÿ\nç‰¹æ„æŠŠæ—¶é—´è®¾ç½®æˆåŒ—äº¬æ—¶é—´ï¼Œå¯ä»¥å½“ä½œæ—¶é’Ÿï¼ˆæˆ‘å¤šè´´å¿ƒï¼‰\n\næ–°å¢äº†ç‚¹å‡»ç‰¹æ•ˆå°±ç”¨ã€Šèµ·é£äº†ã€‹çš„æ­Œè¯å§ ä¸è¦é—®æˆ‘ä¸ºä»€ä¹ˆï¼Œå¤šå¬å‡ éå°±çŸ¥é“äº†\nå¸Œæœ›ä½ ä»¬å–œæ¬¢\nç‚¹ä¸‹å»çš„æ—¶å€™æ˜¯çƒŸèŠ±ï¼Œæ¾å¼€çš„æ—¶å€™æ˜¯æ­Œè¯ï¼Œæœ‰ä¸ªæ—¶é—´å·®æ›´å®¹æ˜“çœ‹è§æ­Œè¯ï¼ˆå¯ä»¥ç­‰çƒŸèŠ±æ•£äº†å†æ¾å¼€ï¼‰\n\næ–°å¢äº†å½©è‰²æ»šåŠ¨å­—ä½“  \n    \n  \n    var binft = function (r) {\n      function t() {\n        return b[Math.floor(Math.random() * b.length)]\n      }  \n      function e() {\n        return String.fromCharCode(94 * Math.random() + 33)\n      }\n      function n(r) {\n        for (var n = document.createDocumentFragment(), i = 0; r > i; i++) {\n          var l = document.createElement(\"span\");\n          l.textContent = e(), l.style.color = t(), n.appendChild(l)\n        }\n        return n\n      }\n      function i() {\n        var t = o[c.skillI];\n        c.step ? c.step-- : (c.step = g, c.prefixP < l.length ? (c.prefixP >= 0 && (c.text += l[c.prefixP]), c.prefixP++) : \"forward\" === c.direction ? c.skillP < t.length ? (c.text += t[c.skillP], c.skillP++) : c.delay ? c.delay-- : (c.direction = \"backward\", c.delay = a) : c.skillP > 0 ? (c.text = c.text.slice(0, -1), c.skillP--) : (c.skillI = (c.skillI + 1) % o.length, c.direction = \"forward\")), r.textContent = c.text, r.appendChild(n(c.prefixP < l.length ? Math.min(s, s + c.prefixP) : Math.min(s, t.length - c.skillP))), setTimeout(i, d)\n      }\n      var l = \"\",\n      o = [\"è¿™ä¸€è·¯ä¸Šèµ°èµ°åœåœ\",\"é¡ºç€å°‘å¹´æ¼‚æµçš„ç—•è¿¹\",\"è¿ˆå‡ºè½¦ç«™çš„å‰ä¸€åˆ»\",\"ç«Ÿæœ‰äº›çŠ¹è±«\",\"ä¸ç¦ç¬‘è¿™è¿‘ä¹¡æƒ…æ€¯\",\"ä»æ— æ³•é¿å…\",\"è€Œé•¿é‡çš„å¤©\",\"ä¾æ—§é‚£ä¹ˆæš–\",\"é£å¹èµ·äº†ä»å‰\",\"ä»å‰åˆè¯†è¿™ä¸–é—´\",\"ä¸‡èˆ¬æµè¿\",\"çœ‹ç€å¤©è¾¹ä¼¼åœ¨çœ¼å‰\",\"ä¹Ÿç”˜æ„¿èµ´æ±¤è¹ˆç«å»èµ°å®ƒä¸€é\",\"å¦‚ä»Šèµ°è¿‡è¿™ä¸–é—´\",\"ä¸‡èˆ¬æµè¿\",\"ç¿»è¿‡å²æœˆä¸åŒä¾§è„¸\",\"æªä¸åŠé˜²é—¯å…¥ä½ çš„ç¬‘é¢œ\",\"æˆ‘æ›¾éš¾è‡ªæ‹”äºä¸–ç•Œä¹‹å¤§\",\"ä¹Ÿæ²‰æººäºå…¶ä¸­æ¢¦è¯\",\"ä¸å¾—çœŸå‡ ä¸åšæŒ£æ‰ ä¸æƒ§ç¬‘è¯\",\"æˆ‘æ›¾å°†é’æ˜¥ç¿»æ¶Œæˆå¥¹\",\"ä¹Ÿæ›¾æŒ‡å°–å¼¹å‡ºç››å¤\",\"å¿ƒä¹‹æ‰€åŠ¨ ä¸”å°±éšç¼˜å»å§\",\"é€†ç€å…‰è¡Œèµ° ä»»é£å¹é›¨æ‰“\",\"çŸ­çŸ­çš„è·¯èµ°èµ°åœåœ\",\"ä¹Ÿæœ‰äº†å‡ åˆ†çš„è·ç¦»\",\"ä¸çŸ¥æŠšæ‘¸çš„æ˜¯æ•…äº‹\",\"è¿˜æ˜¯æ®µå¿ƒæƒ…\",\"ä¹Ÿè®¸æœŸå¾…çš„ä¸è¿‡æ˜¯\",\"ä¸æ—¶é—´ä¸ºæ•Œ\",\"å†æ¬¡è§åˆ°ä½ \",\"å¾®å‡‰æ™¨å…‰é‡Œ\",\"ç¬‘å¾—å¾ˆç”œèœœ\",\"ä»å‰åˆè¯†è¿™ä¸–é—´\",\"ä¸‡èˆ¬æµè¿\",\"çœ‹ç€å¤©è¾¹ä¼¼åœ¨çœ¼å‰\",\"ä¹Ÿç”˜æ„¿èµ´æ±¤è¹ˆç«å»èµ°å®ƒä¸€é\",\"å¦‚ä»Šèµ°è¿‡è¿™ä¸–é—´\",\"ä¸‡èˆ¬æµè¿\",\"ç¿»è¿‡å²æœˆä¸åŒä¾§è„¸\",\"æªä¸åŠé˜²é—¯å…¥ä½ çš„ç¬‘é¢œ\",\"æˆ‘æ›¾éš¾è‡ªæ‹”äºä¸–ç•Œä¹‹å¤§\",\"ä¹Ÿæ²‰æººäºå…¶ä¸­æ¢¦è¯\",\"ä¸åšçœŸå‡ ä¸åšæŒ£æ‰ ä¸æƒ§ç¬‘è¯\",\"æˆ‘æ›¾å°†é’æ˜¥ç¿»æ¶Œæˆå¥¹\",\"ä¹Ÿæ›¾æŒ‡å°–å¼¹å‡ºç››å¤\",\"å¿ƒä¹‹æ‰€åŠ¨ ä¸”å°±éšç¼˜å»å§\",\"æ™šé£å¹èµ·ä½ é¬“é—´çš„ç™½å‘\",\"æŠšå¹³å›å¿†ç•™ä¸‹çš„ç–¤\",\"ä½ çš„çœ¼ä¸­ æ˜æš—äº¤æ‚ ä¸€ç¬‘ç”ŸèŠ±\",\"æš®è‰²é®ä½ä½ è¹’è·šçš„æ­¥ä¼\",\"èµ°è¿›åºŠå¤´è—èµ·çš„ç”»\",\"ç”»ä¸­çš„ä½  ä½ç€å¤´è¯´è¯\",\"æˆ‘ä»æ„Ÿå¹äºä¸–ç•Œä¹‹å¤§\",\"ä¹Ÿæ²‰é†‰äºå„¿æ—¶æƒ…è¯\",\"ä¸å‰©çœŸå‡ ä¸åšæŒ£æ‰ æ— è°“ç¬‘è¯\",\"æˆ‘ç»ˆå°†é’æ˜¥è¿˜ç»™äº†å¥¹\",\"è¿åŒæŒ‡å°–å¼¹å‡ºçš„ç››å¤\",\"å¿ƒä¹‹æ‰€åŠ¨ å°±éšé£å»äº†\",\"ä»¥çˆ±ä¹‹å ä½ è¿˜æ„¿æ„å—\"].map(function (r) {\n      return r + \"\"\n      }),\n      a = 15,//æ–‡å­—ä¿ç•™æ—¶é—´\n      g = 1,//æ–‡å­—å‡ºç°é€Ÿåº¦ è¶Šå¤§è¶Šæ…¢\n      s = 4,//ä¹±ç é•¿åº¦\n      d = 50,//å•ä¸ªä¹±ç å±•ç¤ºæ—¶é—´\n      b = [\"rgb(110,64,170)\", \"rgb(150,61,179)\", \"rgb(191,60,175)\", \"rgb(228,65,157)\", \"rgb(254,75,131)\", \"rgb(255,94,99)\", \"rgb(255,120,71)\", \"rgb(251,150,51)\", \"rgb(226,183,47)\", \"rgb(198,214,60)\", \"rgb(175,240,91)\", \"rgb(127,246,88)\", \"rgb(82,246,103)\", \"rgb(48,239,130)\", \"rgb(29,223,163)\", \"rgb(26,199,194)\", \"rgb(35,171,216)\", \"rgb(54,140,225)\", \"rgb(76,110,219)\", \"rgb(96,84,200)\"],\n      c = {\n        text: \"\",\n        prefixP: -s,\n        skillI: 0,\n        skillP: 0,\n        direction: \"forward\",\n        delay: a,\n        step: g\n      };\n      i()\n      };\n      binft(document.getElementById('binft'));\n   \n\n\n\n\næœ¬æ¥å½©è‰²æ»šåŠ¨å­—ä½“ä¼šå¯¼è‡´ä¸‹é¢çš„ç•Œé¢å‘ç”Ÿè·³åŠ¨ï¼Œåœ¨å¤–é¢å¥—ä¸Šdivåä¿®å¥½äº†\n\næ”¹è¿›äº†æŠ˜å æ–‡æœ¬\n        \n            \n            \n            æ˜æ—¥æ–¹èˆŸè¯­å½•\n\n        \n        æ˜¯æ£‹å­ï¼Œé‚£å°±åƒæ‰ï¼›æ˜¯å ¡å’ï¼Œé‚£å°±æ”»é™·ï¼›æ˜¯ç‹æƒï¼Œé‚£å°±æ¨ç¿»ã€‚&nbsp;Â &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€”â€”ã€Šæ˜æ—¥æ–¹èˆŸã€‹è§‰å¾—å¾ˆéœ¸æ°”æ‰€ä»¥é€‰è¿™ä¸€å¥\n\n        \n\n\n\n\næ‚è®°\næ˜¨å¤©æˆåŠŸæ•æ‰å™¬å…ƒå…½ï¼Œå¸¦ç€å¥¹å»çœ‹äº†å°¾å·´çš„ä¼¤å£å¹¶é¡ºå¸¦åšäº†ç»è‚²\n\n \n\n\n\nä¼¤çš„æŒºä¸¥é‡çš„ï¼Œå·²ç»æ„ŸæŸ“äº†ï¼Œå¹¸å¥½åŠæ—¶é€åˆ°åŒ»é™¢\n\n \n\n\næœ€åå†é™„ä¸Šå‡ å¼  ä»¤ çš„å›¾ä½œä¸ºç»“æŸå§\n\n\n\n\n\nä»¤ è¿˜æ˜¯æŒºå¸…çš„\n\n","categories":["è®°å½•ç”Ÿæ´»"],"tags":["æ‚è°ˆ"]},{"title":"æ–°å¢AIåŠŸèƒ½","url":"/2025/06/22/ai/","content":"ç°åœ¨å¯ä»¥é€šè¿‡å·¦è¾¹æ çš„AIæ¨¡å—è¿›å…¥ï¼Œè®¿é—®æœ¬åšå®¢ä¸“å±çš„AIå–µ~\nç›®å‰è¿˜æœ‰äº›è®¸é—®é¢˜ç­‰å¾…è§£å†³\n\nå¢åŠ å…¬å¼çš„åœ¨çº¿æ¸²æŸ“\nå¢åŠ AIå¯¹æœ¬åšå®¢çš„å†…å®¹æ€»ç»“ä»¥åŠå¯¼èˆª\nå¢åŠ AIçš„è”ç½‘åŠŸèƒ½\nå¢åŠ è®¿å®¢è‡ªå®šä¹‰çš„è§’è‰²\nå¢åŠ å›¾åƒç­‰æ–‡ä»¶çš„ä¸Šä¼ \nå¢åŠ æµå¼è¾“å‡º\nå¢åŠ æ›´å¼ºçš„ä¿æŠ¤æªæ–½\n\næœ¬AIæ‰€æœ‰èŠå¤©è®°å½•éƒ½æ˜¯è®¿å®¢çš„æœ¬åœ°ä¿å­˜ï¼Œåˆ·æ–°åå³æ¸…ç©ºæ¶ˆå¤±ï¼Œä¸ä¼šä¸Šä¼ æˆ–å­˜å‚¨åˆ°ä»»ä½•å…¶ä»–åœ°æ–¹ï¼Œæˆ‘çœ‹ä¸åˆ°ä»»ä½•è®¿å®¢çš„èŠå¤©è®°å½•ï¼Œç‰¹æ­¤å£°æ˜ï¼Œå¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚\n","categories":["å­¦ä¹ "],"tags":["AI"]},{"title":"WSLçš„å®‰è£…ä¸ä½¿ç”¨","url":"/2025/07/06/WSL%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/","content":"å‰è¨€ï¼šå› ä¸ºæŸä¸ªé¡¹ç›®åœ¨windowsä¸‹ç¼–è¯‘å®åœ¨æ˜¯å¤ªæ…¢å¤ªæ…¢å¤ªæ…¢äº†å—ä¸äº†äº†ï¼Œè€Œåœ¨Ubuntuä¸‹ç¼–è¯‘éå¸¸éå¸¸éå¸¸å¿«ï¼Œå› æ­¤éœ€è¦å®‰è£… WSL æ¥æé«˜ç¼–è¯‘é€Ÿåº¦ã€‚\næ®äº†è§£ WSL æœ‰ä¸¤ä¸ªä¸»è¦ç‰ˆæœ¬ï¼šWSL 1 å’Œ WSL 2ï¼Œå®ƒä»¬åœ¨æ¶æ„ã€æ€§èƒ½å’ŒåŠŸèƒ½ä¸Šæœ‰æ˜¾è‘—å·®å¼‚ï¼š\n\n\n\nç‰¹æ€§\nWSL 1\nWSL 2\n\n\n\næ¶æ„\nè½¬æ¢å±‚ï¼ˆLinux ç³»ç»Ÿè°ƒç”¨ â†’ Windows APIï¼‰\nè½»é‡çº§è™šæ‹Ÿæœºï¼ˆåŸºäº Hyper-Vï¼Œè¿è¡Œå®Œæ•´ Linux å†…æ ¸ï¼‰\n\n\næ–‡ä»¶ç³»ç»Ÿæ€§èƒ½\nWindows æ–‡ä»¶ç³»ç»Ÿï¼ˆNTFSï¼‰è®¿é—®è¾ƒæ…¢\nå¤§å¹…æå‡ï¼ˆLinux æ–‡ä»¶ç³»ç»Ÿ ext4 åŸç”Ÿæ”¯æŒï¼‰\n\n\nç³»ç»Ÿè°ƒç”¨å…¼å®¹æ€§\néƒ¨åˆ† Linux ç³»ç»Ÿè°ƒç”¨ä¸æ”¯æŒ\nå‡ ä¹ 100% å…¼å®¹ï¼ˆå› ä½¿ç”¨çœŸå® Linux å†…æ ¸ï¼‰\n\n\nå¯åŠ¨é€Ÿåº¦\næ›´å¿«ï¼ˆæ— è™šæ‹Ÿæœºï¼‰\nç¨æ…¢ï¼ˆéœ€å¯åŠ¨è½»é‡çº§ VMï¼‰\n\n\nå†…å­˜å ç”¨\næ›´ä½\nç¨é«˜ï¼ˆéœ€åˆ†é…å›ºå®šå†…å­˜ï¼‰\n\n\nç½‘ç»œæ¨¡å¼\nä¸ Windows å…±äº« IP\nç‹¬ç«‹ IPï¼ˆç±»ä¼¼è™šæ‹Ÿæœºï¼Œéœ€ç«¯å£è½¬å‘ï¼‰\n\n\nGPU&#x2F;Docker æ”¯æŒ\næœ‰é™\nå®Œæ•´æ”¯æŒï¼ˆCUDAã€Docker ç­‰ï¼‰\n\n\nè€Œ WSL 2 è™½ç„¶æ€§èƒ½æ›´å¼ºã€å…¼å®¹æ€§æ›´å¥½ï¼Œä½†åœ¨æŸäº›ç¡¬ä»¶ç›¸å…³çš„åœºæ™¯ä¸‹ä¼šæ¯” WSL 1 æ›´å¤æ‚ï¼Œä¸»è¦åŸå› åŒ…æ‹¬ï¼š\n\n\nç½‘ç»œé…ç½®æ›´å¤æ‚\n\n\nWSL 2 ä½¿ç”¨ç‹¬ç«‹çš„è™šæ‹Ÿç½‘ç»œï¼ˆNAT æ¨¡å¼ï¼‰ï¼Œè€Œ WSL 1 ç›´æ¥å…±äº« Windows çš„ç½‘ç»œæ ˆã€‚\né—®é¢˜ç¤ºä¾‹ï¼š\nåœ¨ WSL 2 ä¸­è¿è¡Œçš„æœåŠ¡ï¼ˆå¦‚ nginxï¼‰é»˜è®¤æ— æ³•é€šè¿‡ localhost ä» Windows ç›´æ¥è®¿é—®ï¼Œéœ€æ‰‹åŠ¨é…ç½®ç«¯å£è½¬å‘æˆ–é˜²ç«å¢™è§„åˆ™ã€‚\nè·¨è®¾å¤‡è®¿é—® WSL 2 ä¸­çš„æœåŠ¡ï¼ˆå¦‚æ‰‹æœºè°ƒè¯•ï¼‰éœ€é¢å¤–è®¾ç½®ã€‚\n\n\n\n\næ–‡ä»¶ç³»ç»Ÿè®¿é—®å»¶è¿Ÿ\n\n\nWindows è®¿é—® Linux æ–‡ä»¶ï¼šWSL 2 çš„ Linux æ–‡ä»¶å­˜å‚¨åœ¨è™šæ‹Ÿç£ç›˜ï¼ˆext4ï¼‰ä¸­ï¼ŒWindows é€šè¿‡ \\\\wsl$ è®¿é—®æ—¶ä¼šæœ‰æ€§èƒ½æŸè€—ã€‚\nLinux è®¿é—® Windows æ–‡ä»¶ï¼šåœ¨ WSL 2 ä¸­æŒ‚è½½ Windows ç›®å½•ï¼ˆå¦‚ /mnt/cï¼‰æ—¶ï¼ŒIO æ€§èƒ½è¾ƒå·®ï¼ˆå°¤å…¶æ˜¯å¤§é‡å°æ–‡ä»¶æ“ä½œï¼‰ã€‚\n\n\nUSB&#x2F;å¤–è®¾æ”¯æŒå—é™\n\n\nWSL 2 é»˜è®¤æ— æ³•ç›´æ¥è®¿é—® USB è®¾å¤‡ï¼ˆå¦‚ Arduinoã€æ‘„åƒå¤´ï¼‰ï¼Œéœ€é€šè¿‡ç¬¬ä¸‰æ–¹å·¥å…·ï¼ˆå¦‚ usbipd-winï¼‰æˆ– Windows é©±åŠ¨æ¡¥æ¥ã€‚\nWSL 1 å› ç›´æ¥è°ƒç”¨ Windows é©±åŠ¨ï¼Œå¤–è®¾æ”¯æŒæ›´ç®€å•ã€‚\n\n\nGPU åŠ é€Ÿéœ€é¢å¤–é…ç½®\n\n\nè™½ç„¶ WSL 2 æ”¯æŒ GPUï¼ˆå¦‚ CUDA å¼€å‘ï¼‰ï¼Œä½†éœ€æ‰‹åŠ¨å®‰è£…ï¼š\nWindows ä¾§ï¼šNVIDIA é©±åŠ¨ã€‚\nWSL 2 ä¾§ï¼šLinux ç‰ˆ CUDA Toolkitã€‚\n\n\nWSL 1 æ— æ­¤éœ€æ±‚ï¼ˆä½† GPU åŠŸèƒ½å—é™ï¼‰ã€‚\n\n\nå†…å­˜ç®¡ç†é—®é¢˜\n\n\nWSL 2 é»˜è®¤ä¼šå ç”¨å›ºå®šå†…å­˜ï¼ˆå¦‚ 50% ç‰©ç†å†…å­˜ï¼‰ï¼Œå¯èƒ½å› å†…å­˜ä¸è¶³å¯¼è‡´ Windows å¡é¡¿ï¼Œéœ€æ‰‹åŠ¨è°ƒæ•´é™åˆ¶ï¼ˆåœ¨ .wslconfig ä¸­é…ç½®ï¼‰ã€‚\n\n\nå› æ­¤ï¼Œæˆ‘é€‰æ‹©å®‰è£… WSL 1 ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘å°†å¼€å§‹ä»‹ç»å¦‚ä½•åœ¨windowsç”µè„‘ä¸Šå®‰è£… WSL 1 ã€‚\nä¸€ã€å®‰è£…Windowsç»ˆç«¯windows11è‡ªå¸¦windowsç»ˆç«¯ï¼Œè·³è¿‡è¿™ä¸€æ­¥\näºŒã€å¯ç”¨ WSL åŠŸèƒ½æ‰“å¼€ PowerShell ç®¡ç†å‘˜æ¨¡å¼ è¾“å…¥ä¸‹é¢æŒ‡ä»¤\n# å¯ç”¨ é€‚ç”¨äºLinuxçš„Windowså­ç³»ç»Ÿ åŠŸèƒ½dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart\n\nå®Œæˆåé‡å¯ç³»ç»Ÿ\næˆ–è€…ä¹Ÿå¯ä»¥æ‰‹åŠ¨å¯ç”¨ï¼š\nWin + S è¾“å…¥æœç´¢ æ§åˆ¶é¢æ¿ â€”&gt; æ‰“å¼€ æ§åˆ¶é¢æ¿ â€”&gt; ç‚¹å‡» ç¨‹åºå’ŒåŠŸèƒ½ â€”&gt;å¯åŠ¨æˆ–å…³é—­WindowsåŠŸèƒ½ â€”&gt; å‹¾é€‰é€‚ç”¨äºLinuxçš„Windowså­ç³»ç»Ÿ â€”&gt; é‡å¯ç³»ç»Ÿ\nä¸‰ã€å®‰è£… Linux å‘è¡Œç‰ˆåœ¨ Microsoft Store æœç´¢ Ubuntu ï¼Œå®‰è£… Ubuntu 24.04.1 LTS\n# cmdæŸ¥çœ‹Windowsç³»ç»Ÿä¸­å·²å®‰è£…çš„WSLwsl -l -v# åˆ—å‡ºå¯ç”¨çš„åˆ†å‘ï¼ˆéœ€è¦æ¢¯å­ï¼Œåœ¨ Microsoft Store ä¸‹è½½ä¸éœ€è¦æ¢¯å­ï¼‰wsl.exe --list --online# è¿›è¡Œå®‰è£…ï¼ˆéœ€è¦æ¢¯å­ï¼Œåœ¨ Microsoft Store ä¸‹è½½ä¸éœ€è¦æ¢¯å­ï¼‰wsl.exe --install &lt;å‘è¡Œç‰ˆåç§°&gt;# ä¾‹å¦‚ï¼šwsl.exe --install Ubuntu-24.04\n\nUbuntu å®‰è£…å®Œæˆåæ‰“å¼€ï¼Œæ­¤æ—¶ä¼šè®©ä½ æ–°å»ºç”¨æˆ·ï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥ç”¨æˆ·åå¯†ç ã€‚\nå››ã€è®¾ç½®ä¸º WSL 1\nåœ¨ PowerShell ä¸­è¿è¡Œï¼š\nwsl --set-version &lt;å‘è¡Œç‰ˆåç§°&gt; 1# ä¾‹å¦‚ï¼šwsl --set-version Ubuntu-24.04 1\n\nç­‰å¾…è½¬æ¢å®Œæˆã€‚\n\n\näº”ã€åŸºæœ¬ä½¿ç”¨\nå¯åŠ¨ Linuxï¼š\n\nåœ¨å¼€å§‹èœå•ä¸­ç‚¹å‡»å®‰è£…çš„å‘è¡Œç‰ˆåç§°ï¼Œæˆ–å‘½ä»¤è¡Œè¾“å…¥ wslã€‚\n\n\næ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨\nsudo apt update\n\nå‡çº§å·²å®‰è£…çš„è½¯ä»¶\nsudo apt upgrade -y \n\nWindowsæŒ‚è½½ç›®å½•\nåœ¨WSLï¼ˆWindows Subsystem for Linuxï¼‰ä¸­ï¼Œ/mntç›®å½•æ˜¯Windowsæ–‡ä»¶ç³»ç»Ÿåœ¨Linuxç¯å¢ƒä¸­çš„æŒ‚è½½ç‚¹ï¼Œç”¨äºå®ç°Windowså’ŒLinuxä¹‹é—´çš„æ–‡ä»¶äº’é€šè®¿é—®ã€‚\nWSLä¼šè‡ªåŠ¨å°†Windowsçš„ç£ç›˜é©±åŠ¨å™¨ï¼ˆå¦‚C:ã€D:ï¼‰æŒ‚è½½åˆ°Linuxçš„/mntç›®å½•ä¸‹ï¼Œå½¢æˆå¯¹åº”å­ç›®å½•ï¼š\n\nC:ç›˜ â†’ /mnt/c\nD:ç›˜ â†’ /mnt/d\nä»¥æ­¤ç±»æ¨ã€‚\nä¾‹å¦‚ï¼ŒWindowsçš„C:\\Users\\YourName\\Documentsåœ¨WSLä¸­è·¯å¾„ä¸º/mnt/c/Users/YourName/Documentsã€‚\n\nå¯¹æ€§èƒ½æ•æ„Ÿçš„é¡¹ç›®å»ºè®®æ”¾åœ¨WSLåŸç”Ÿæ–‡ä»¶ç³»ç»Ÿå†…ï¼ˆå¦‚~/projectï¼‰ï¼Œè€Œé/mntä¸‹ã€‚\nåœ¨Windowsä¸­ç¼–è¾‘WSLæ–‡ä»¶ï¼šä½¿ç”¨VSCodeçš„Remote-WSLæ‰©å±•æˆ–ç›´æ¥è®¿é—®\\\\wsl$\\ã€‚\nåœ¨WSLä¸­ç¼–è¾‘Windowsæ–‡ä»¶ï¼šæ³¨æ„è¡Œå°¾ç¬¦å’Œæƒé™é—®é¢˜ã€‚\n\nä¸‹è½½ neofetch htop\n# ä½¿ç”¨sudoæƒé™é€šè¿‡aptåŒ…ç®¡ç†å™¨å®‰è£…neofetchå’Œhtopä¸¤ä¸ªè½¯ä»¶# neofetch: ç”¨äºåœ¨ç»ˆç«¯æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯å’Œlogoçš„è½»é‡çº§å·¥å…·# htop: äº¤äº’å¼ç³»ç»Ÿç›‘æ§å·¥å…·ï¼Œæ¯”é»˜è®¤çš„topå‘½ä»¤æ›´å¼ºå¤§ç›´è§‚sudo apt install neofetch htop\n\næŠŠæ–‡ä»¶è¿ç§»åˆ°wslå¹¶é€’å½’èµ‹äºˆæƒé™\n# é€’å½’ä¿®æ”¹æ‰€æœ‰æƒï¼ˆç¡®ä¿ç”¨æˆ·æ˜¯æ‰€æœ‰è€…ï¼‰sudo chown -R $USER:$USER .# é€’å½’èµ‹äºˆè¯»å†™æ‰§è¡Œæƒé™sudo chmod -R u+rwx .\n\nä½¿ç”¨vscodeä¸­çš„WSLæ’ä»¶è®¿é—®WSLä¸­çš„æ–‡ä»¶ä¸å·¥ç¨‹\n\né€€å‡º Linuxï¼š\n\nåœ¨ Linux ç»ˆç«¯ä¸­è¾“å…¥ exitã€‚\n\n\nå…³é—­ WSL\n# ä¼šç»ˆæ­¢æ‰€æœ‰æœªä¿å­˜çš„ WSL ä¼šè¯ï¼Œç±»ä¼¼äºå¼ºåˆ¶å…³æœºã€‚wsl --shutdown# å¦‚æœéœ€è¦æ­£å¸¸é€€å‡º Linux ç³»ç»Ÿï¼Œå»ºè®®å…ˆåœ¨ WSL ç»ˆç«¯å†…è¿è¡Œ exit æˆ– sudo shutdown nowã€‚\n\n","categories":["å­¦ä¹ "],"tags":["èµ„æ–™"]},{"title":"ç®—æ³•é¢˜çš„é”™é¢˜æ•´ç†åŠåæ€","url":"/2024/10/27/algorithm/","content":"è¿™æ˜¯å…³äºç®—æ³•é¢˜çš„æ•´ç†åŠæ€è€ƒé¢˜ç›®æ¥æºä¸ä¸€å®šï¼Œä¸»è¦æ¥æºåº”è¯¥æ˜¯CFã€æ´›è°·ç­‰\nä¹Ÿä¼šåŒ…å«ä¸€äº›å…³äºæ¯”èµ›çš„åæ€ç­‰\næ°´å¹³è¾ƒä½å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œè¿˜åœ¨å°è¯•ä¸­\n\nCodeforces Round 982 (Div. 2) Bæ ‡ç­¾ï¼š\n\n\næš´åŠ›æšä¸¾ï¼ˆbrute forceï¼‰\nè´ªå¿ƒï¼ˆgreedyï¼‰\n\n\né¢˜ç›®ï¼š\n\n\nProblem-B-Codeforces\nStalin Sort-æ´›è°·\n\n\né¢˜ç›®å¤§æ„\n\nç»™å‡ºä¸€ä¸ªæ•°ç»„ï¼Œé—®æ˜¯å¦å¯ä»¥é€šè¿‡å¯¹å…¶ä»»æ„å­æ•°ç»„è¿›è¡Œå¤šæ¬¡æ–¯å¤§æ—æ’åºï¼Œä½¿å¾—æœ€ç»ˆçš„æ•°ç»„æ˜¯éå¢çš„ã€‚\n*å­æ•°ç»„æŒ‡çš„æ˜¯ä»»æ„ä¸€æ®µè¿ç»­å­æ•°ç»„ï¼Œæ–¯å¤§æ—æ’åºæŒ‡å°†ä¸¥æ ¼é™åºçš„å…ƒç´ å‰”é™¤ï¼Œå…·ä½“å®šä¹‰è§é¢˜ç›®\n\næ€è·¯åˆ†æï¼š\n\né€šè¿‡æ–¯å¤§æ—æ’åºçš„å®šä¹‰å¯çŸ¥\n\nä»»ä½•ä¸€æ®µæ•°ç»„è¿›è¡Œæ–¯å¤§æ—æ’åºåç¬¬ä¸€ä¸ªå…ƒç´ éƒ½ä¸ä¼šæ”¹å˜\n\nå¦‚æœå¤„ç†å®Œçš„æ•°ç»„å…ƒç´ å¤§äºç­‰äºä¸¤ä¸ªï¼Œåˆ™æŒ‰éé™åºæ’åˆ—\n\n\nè¿›ä¸€æ­¥åˆ†æ\n\nå¯¹äºä½¿ç”¨æ–¯å¤§æ—æ’åºçš„ä»»æ„å­æ•°ç»„ï¼Œå¦‚æœå­˜åœ¨å¤§äºç¬¬ä¸€ä¸ªå…ƒç´ çš„å…¶ä»–å…ƒç´ åˆ™ä¼šè¢«ä¿ç•™ï¼Œè€Œå°äºç¬¬ä¸€ä¸ªå…ƒç´ çš„ä¸€å®šä¼šè¢«å‰”é™¤å› æ­¤è¦ä½¿æœ€åæ˜¯éé™åºçš„ï¼Œå°±å¿…é¡»è¦æŠŠå­æ•°ç»„ä¸­å¤§äºç¬¬ä¸€ä¸ªå…ƒç´ çš„å…¶ä»–å…ƒç´ éƒ½å‰”é™¤æ‰\né‚£ä¹ˆè¦ä½¿å‰”é™¤åçš„æ•°ç»„æ˜¯å¯ä»¥é€šè¿‡å¯¹å…¶ä»»æ„å­æ•°ç»„è¿›è¡Œå¤šæ¬¡æ–¯å¤§æ—æ’åºï¼Œä½¿å¾—æœ€ç»ˆçš„æ•°ç»„æ˜¯éå¢çš„å°±è¦ä½¿å‰”é™¤åçš„æ•°ç»„çš„é¦–å…ƒç´ æœ€å¤§\næ¥ä¸‹æ¥åªéœ€è¦ä»å¤´éå†æ•´ä¸ªæ•°ç»„ï¼Œæ‰¾åˆ°æœ‰æœ€å¤šå…ƒç´ çš„æ»¡è¶³é¦–å…ƒç´ æœ€å¤§çš„æ•°ç»„ï¼ˆä¸ä¸€å®šè¿ç»­ï¼‰å³å¯\nå³å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å¯»æ‰¾æœ‰å¤šå°‘ä¸ªï¼ˆkï¼‰åœ¨ä»–ä¹‹åçš„ä¸å¤§äºä»–çš„å…ƒç´ ï¼Œå¹¶è®°å½•ä¸‹æœ€å¤§å€¼ï¼ˆfï¼‰\nå°†å…ƒç´ æ€»ä¸ªæ•°å‡å»ï¼ˆæœ€å¤§å€¼+1ï¼‰å°±æ˜¯å…¶ä»–è¦å‰”é™¤çš„å…ƒç´ çš„ä¸ªæ•°\n\n\n\n        \n            \n            \n            å¯èƒ½çš„ç–‘é—®\n\n        \n        \né—®é¢˜ä¸€ï¼šå¯¹æ¯ä¸ªå…ƒç´ åªè€ƒè™‘åé¢çš„å…¶ä»–å…ƒç´ ï¼Œä¸ºä»€ä¹ˆä¸ç”¨è€ƒè™‘å‰é¢çš„å…¶ä»–å…ƒç´ å°±æŠŠä»–ä»¬å…¨éƒ¨å‰”é™¤\nç­”ï¼š\n\nå¦‚æœå‰é¢çš„å…ƒç´ å¤§äºç­‰äºè¯¥å…ƒç´ ï¼Œåˆ™å‰é¢å…ƒç´ éå†æ—¶çš„å€¼k1å°±ä¼šå¤§äºè¯¥å€¼k2ï¼Œé‚£ä¹ˆfå°±ä¼šç­‰äºk1ï¼Œä¸å½±å“\nå¦‚æœå‰é¢çš„å…ƒç´ å°äºè¯¥å…ƒç´ ï¼Œåˆ™å¿…é¡»å‰”é™¤ï¼Œå¦åˆ™å‰”é™¤åçš„æ•°ç»„çš„é¦–å…ƒç´ å°±ä¸æ˜¯æœ€å¤§çš„ï¼Œé‚£ä¹ˆå°±ä¸æ»¡è¶³è¦æ±‚\n\n\n\n        \n\næ€è·¯è¯¯åŒºï¼š\n\næ¯”èµ›æ—¶æƒ³çš„æ˜¯å‡åºåˆ—é€šè¿‡æ–¯å¤§æ—æ’åºä¸€å®šä¼šæ¶ˆå¤±ï¼Œæ‰€ä»¥å…ˆå¯¹æ•´ä¸ªæ•°ç»„è¿›è¡Œä¸€æ¬¡æ–¯å¤§æ—æ’åºï¼Œå¾—åˆ°éå‡åºåˆ—ï¼Œå†æŠŠç¬¬ä¸€æ¬¡å‡ºç°çš„æœ€å¤§å€¼å‰çš„å…ƒç´ å…¨éƒ¨å‰”é™¤æ‰ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„å°±æ˜¯éå¢åºåˆ—äº†ï¼Œé—®é¢˜åœ¨äºåœ¨ç¬¬ä¸€æ¬¡é€šè¿‡æ–¯å¤§æ—æ’åºæ—¶åˆ æ‰çš„å…ƒç´ ä»åœ¨å‰”é™¤å…ƒç´ åçš„æ•°ç»„ä¹‹ä¸­ï¼Œæ­¤æ—¶æ•°ç»„è¿˜å¯èƒ½å­˜åœ¨é€’å¢åºåˆ—ï¼Œä¸æ»¡è¶³é¢˜æ„å¾ˆçƒ¦çš„æ˜¯æ ·ä¾‹ç»™çš„éšä¾¿è¿‡ï¼Œæ¯”èµ›æ—¶ä¸€ç›´æ²¡æ‰¾åˆ°é—®é¢˜æ‰€åœ¨\n\nä»£ç ï¼š\n#include &lt;bits/stdc++.h&gt;using namespace std;int main() {    int t;    cin &gt;&gt; t; // è¯»å–æµ‹è¯•ç”¨ä¾‹æ•°é‡      while (t--)    {        int n;        cin &gt;&gt; n;        int* a = new int[n + 1];        for (int i = 0; i &lt; n; i++)        {            cin &gt;&gt; a[i];        }        int f = 0;        for (int i = 0; i &lt; n - 1; i++)        {            int k = 0;            for (int j = i + 1; j &lt; n; j++)            {                if (a[j] &lt;= a[i])                    k++;            }            f = max(f, k);        }        cout &lt;&lt; n - (f + 1) &lt;&lt; endl;        delete[] a;    }    return 0;}\n\nEducational Codeforces Round 115 (Rated for Div. 2) Cæ ‡ç­¾ï¼š\n\n\næš´åŠ›\n\n\né¢˜ç›®ï¼š\n\n\nProblem - C - Codeforces\n\n\né¢˜ç›®å¤§æ„\n\nä»æ•°ç»„ä¸­åˆ æ‰ä¸¤ä¸ªæ•°ä½¿å¾—æ•°å­¦å¹³å‡å€¼ä¸å˜ï¼Œé—®ä¸€å…±æœ‰å¤šå°‘ç»„\n\næ€è·¯åˆ†æï¼š\n\nFirst of all, instead of the mathematic mean, letâ€™s consider the sum of elements. If the mathematic mean is , then the sum of elements of the array is . Letâ€™s denote the sum of elements in the original array as . Note  is always an integer.\nIf we remove two elements from the array, the resulting sum of elements should become . So, the sum of the elements we remove should be exactly .\nIf  is not an integer, the answer is  (to check that, you can simply compare  with ). Otherwise, we have to find the number of pairs  such that  and . This is a well-known problem.\nTo solve it, you can calculate the number of occurrences of each element and store it in some associative data structure (for example, map in C++). Let  be the number of occurrences of element . Then, you should iterate on the element  you want to remove and check how many elements match it, that is, how many elements give exactly  if you add  to them. The number of these elements is just . Letâ€™s sum up all these values for every element in the array.\nUnfortunately, this sum is not the answer yet. We need to take care of two things:\n\nif for some index , , then  matches itself, so you have to subtract the number of such elements from the answer;\nevery pair of elements is counted twice: the first time when we consider the first element of the pair, and the second time â€” when we consider the second element of the pair. So, donâ€™t forget to divide the answer by .\n\n\nä»£ç ï¼š\n#include &lt;bits/stdc++.h&gt;using namespace std;int main() {  int t;  scanf(\"%d\", &amp;t);  while (t--) {    int n;    scanf(\"%d\", &amp;n);    vector&lt;int&gt; a(n);    map&lt;int, int&gt; cnt;    for (auto &amp;x : a) {      scanf(\"%d\", &amp;x);      cnt[x] += 1;    }    long long sum = accumulate(a.begin(), a.end(), 0LL);    if ((2 * sum) % n != 0) {      puts(\"0\");      continue;    }    long long need = (2 * sum) / n;    long long ans = 0;    for (int i = 0; i &lt; n; ++i) {      int a1 = a[i];      int a2 = need - a1;      if (cnt.count(a2)) ans += cnt[a2];      if (a1 == a2) ans -= 1;    }    printf(\"%lld\\n\", ans / 2);  }}\n\nP9236 [è“æ¡¥æ¯ 2023 çœ A] å¼‚æˆ–å’Œä¹‹å’Œæ ‡ç­¾ï¼š\n\n\nå‰ç¼€å’Œ\nä½è¿ç®—\n\n\né¢˜ç›®ï¼š\n\nP9236 è“æ¡¥æ¯ 2023 çœ A å¼‚æˆ–å’Œä¹‹å’Œ\n\né¢˜ç›®å¤§æ„\n\nç»™å®šä¸€ä¸ªæ•°ç»„ ï¼Œåˆ†åˆ«æ±‚å…¶æ¯ä¸ªå­æ®µçš„å¼‚æˆ–å’Œï¼Œå¹¶æ±‚å‡ºå®ƒä»¬çš„å’Œã€‚æˆ–è€…è¯´ï¼Œå¯¹äºæ¯ç»„æ»¡è¶³ 1â‰¤Lâ‰¤Râ‰¤n çš„ L,Rï¼Œæ±‚å‡ºæ•°ç»„ä¸­ç¬¬ L è‡³ç¬¬ R ä¸ªå…ƒç´ çš„å¼‚æˆ–å’Œã€‚ç„¶åè¾“å‡ºæ¯ç»„ L,R å¾—åˆ°çš„ç»“æœåŠ èµ·æ¥çš„å€¼ã€‚\n\næ€è·¯åˆ†æï¼š\n\né¦–å…ˆè€ƒè™‘ä½¿ç”¨æš´åŠ›æ±‚è§£ï¼Œç©·ä¸¾Lã€Rçš„æ‰€æœ‰ç»„åˆï¼Œæ­¤æ—¶æ—¶é—´å¤æ‚åº¦ä¸º  ï¼Œå¯¹æ¯ç§æƒ…å†µä»Låˆ°Ræ±‚å¼‚æˆ–å’Œï¼Œåˆ™æ­¤æ—¶æ—¶é—´å¤æ‚åº¦ä¸º  ï¼Œèƒ½è¿‡30%çš„æ•°æ®ã€‚\nç»§ç»­ä¼˜åŒ–ï¼Œä½¿ç”¨å‰ç¼€å¼‚æˆ–å’Œï¼Œå› ä¸ºæ¯ä¸ªæ•°å’Œè‡ªå·±çš„å¼‚æˆ–å’Œéƒ½æ˜¯0ï¼Œæ¯ä¸ªæ•°å’Œé›¶çš„å¼‚æˆ–å’Œéƒ½æ˜¯å®ƒæœ¬èº«ï¼Œå› æ­¤æ±‚Låˆ°Rçš„å¼‚æˆ–å’Œå°±æ˜¯æ±‚ 1åˆ°L-1çš„å¼‚æˆ–å’Œ å’Œ 1åˆ°Rçš„å¼‚æˆ–å’Œ çš„å¼‚æˆ–å’Œï¼Œè¿™æ ·åœ¨è¾“å…¥æ¯ä¸ªæ•°æ—¶å°±èƒ½ä¸€è¾¹è¾“å…¥ä¸€è¾¹æ±‚å‡ºå‰ç¼€å¼‚æˆ–å’Œå¹¶å­˜åœ¨æ•°ç»„ä¸­ã€‚æ±‚Låˆ°Rçš„å¼‚æˆ–å’Œåªéœ€è¦å°†å‰ç¼€å’Œ  ä¸å‰ç¼€å’Œ æ±‚å¼‚æˆ–å’Œå³å¯ã€‚æ—¶é—´å¤æ‚åº¦æ˜¯  ï¼Œèƒ½å¤Ÿ60%çš„æ•°æ®ã€‚\nç»§ç»­ä¼˜åŒ–ï¼Œå¯ä»¥å‘ç°å‰ç¼€å’Œ  ä¸å‰ç¼€å’Œ çš„å¼‚æˆ–å’Œçš„ç¬¬  ï¼ˆä»0å¼€å§‹ï¼‰ä½ä¸º1æ—¶æ‰å¯¹ç»“æœæœ‰è´¡çŒ®  ï¼Œè€Œæ‰€æœ‰Lå’ŒRçš„ç»„åˆæ°å¥½æ˜¯æŠŠæ‰€æœ‰å‰ç¼€å’Œä¸¤ä¸¤æ±‚å¼‚æˆ–å’Œå†æ±‚å’Œï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç»Ÿè®¡å‡ºæ‰€æœ‰å‰ç¼€å’Œçš„ç¬¬  ä½çš„1çš„ä¸ªæ•°  å’Œ0çš„ä¸ªæ•°  ï¼Œåªæœ‰ç¬¬  ä½æ˜¯1å’Œ0æ­é…æ—¶å¼‚æˆ–å’Œçš„ç¬¬  ï¼ˆä»0å¼€å§‹ï¼‰ä½æ‰ä¸º1ï¼Œåˆ™æ ¹æ®ä¹˜æ³•åŸç†ä¸€å…±åœ¨ç¬¬  ä½çš„è´¡çŒ®æ˜¯  ï¼Œåˆå› ä¸ºï¼Œå› æ­¤ç»“æœä¸ºï¼šï¼Œæ—¶é—´å¤æ‚åº¦ä¸º ï¼Œå¯ä»¥é€šè¿‡è¯¥é¢˜ã€‚å…·ä½“å®ç°å¯ä»¥å¯¹äºæ¯ä¸€ä¸ª  å‰ç¼€å’Œï¼Œæˆ‘ä»¬å°†å…¶æŒ‰ä½æ‹†åˆ†ï¼Œå¹¶å°†ç»“æœåŠ å…¥è®¡æ•°æ•°ç»„  ä¸­ã€‚å…¶ä¸­ i è¡¨ç¤ºç¬¬ i ä¸ªäºŒè¿›åˆ¶ä½ï¼Œj è¡¨ç¤ºè¿™ä¸€ä½ä¸Šä¸º jï¼ˆåªèƒ½ä¸º 0 æˆ– 1ï¼‰ï¼Œ è¡¨ç¤ºåœ¨æ‰€æœ‰æ•°ä¸­ï¼Œç¬¬ i ä¸ªäºŒè¿›åˆ¶ä½ä¸Šä¸º j çš„æœ‰ ä¸ªã€‚\n\nä»£ç ï¼š\n#include &lt;bits/stdc++.h&gt;#include&lt;iostream&gt;#include&lt;string&gt;#include&lt;cstring&gt;#include&lt;algorithm&gt; #include&lt;queue&gt;#include&lt;stack&gt;#include&lt;vector&gt;#include&lt;cmath&gt;using namespace std;int main(){\tint n;\tlong long sum=0;\tlong long flag=0;\tlong long A;\tlong long w[25][3]={0}; \tcin&gt;&gt;n;\tlong long *mem=new long long [n+1];\tmem[0]=0;\tfor(int i=1;i&lt;=n;i++)\t{\t\tcin&gt;&gt;A;\t\tmem[i]=mem[i-1]^A;\t}\tfor(int i=0;i&lt;=n;i++)\t{\t\tfor(int j=0;j&lt;=20;j++)\t\t{\t\t\tw[j][mem[i]&gt;&gt;j&amp;1]++;\t\t}\t}\tfor(int i=0;i&lt;=20;i++)\t\tsum+=w[i][0]*w[i][1]*pow(2,i);\tcout&lt;&lt;sum&lt;&lt;endl;\treturn 0;} \n\nP8773 [è“æ¡¥æ¯ 2022 çœ A] é€‰æ•°å¼‚æˆ–æ ‡ç­¾ï¼š\n\n\nçº¿æ®µæ ‘\nSTè¡¨\n\n\né¢˜ç›®ï¼š\n\nè“æ¡¥æ¯ 2022 çœ A] é€‰æ•°å¼‚æˆ–\n\né¢˜ç›®å¤§æ„\n\nç»™å®šä¸€ä¸ªé•¿åº¦ä¸º  çš„æ•°åˆ—  å’Œä¸€ä¸ªéè´Ÿæ•´æ•° , ç»™å®š  æ¬¡æŸ¥è¯¢, æ¯æ¬¡è¯¢é—®èƒ½å¦ä»æŸä¸ªåŒºé—´  ä¸­é€‰æ‹©ä¸¤ä¸ªæ•°ä½¿å¾—ä»–ä»¬çš„å¼‚æˆ–ç­‰äº  ã€‚\n\næ€è·¯åˆ†æï¼š\n\nå› ä¸ºæå‰ç»™å‡ºäº†ï¼Œè€Œè¦^=ï¼Œåˆ™å¯ä»¥æ ¹æ®å¾—å‡º=^ï¼Œå› æ­¤å¯ä»¥åœ¨è¾“å…¥æ—¶å°±å¯¹å…¶è¿›è¡Œé¢„å¤„ç†ã€‚æˆ‘ä»¬å¯ä»¥ç”¨mapè®°å½•æŸä¸ªå…ƒç´ æœ€åå‡ºç°çš„ä½ç½®ï¼Œç„¶åå¯¹æ¯ä¸€ä¸ªè¾“å…¥çš„ æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å…¶ä¹‹å‰çš„ä¸å…¶å¼‚æˆ–åä¸ºçš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œè®°ä½œ=^ï¼Œä¸”å¯çŸ¥&lt;å¹¶ä¸”è‹¥ä¸å­˜åœ¨åˆ™ï¼Œé‚£ä¹ˆè¦ä½¿åŒºé—´  ä¸­æœ‰ä¸¤ä¸ªæ•°ä½¿å¾—ä»–ä»¬çš„å¼‚æˆ–ç­‰äº  ï¼Œåªéœ€ä½¿å¾—è¯¥åŒºé—´å†…æœ‰ä¸€ä¸ªå…ƒç´ çš„åœ¨è¯¥åŒºé—´å†…å³å¯ï¼Œå³åªéœ€è¦çš„æœ€å¤§å€¼å¤§äºç­‰äºå³å¯ã€‚æˆ‘ä»¬å¯ä»¥è®¾ä¸º  ä¸­çš„æœ€å¤§å€¼ï¼Œé‚£ä¹ˆåªéœ€&gt;=ï¼Œå°±èƒ½ä¿è¯åœ¨åŒºé—´  ä¸­æœ‰è‡³å°‘æœ‰ä¸¤ä¸ªæ•°ä½¿å¾—ä»–ä»¬çš„å¼‚æˆ–ç­‰äº ã€‚åŒæ—¶åœ¨å…·ä½“å®ç°ä¸Šæˆ‘ä»¬å¯ä»¥ç”¨åœ¨è¾“å…¥æ•°æ®æ—¶å°±è¿›è¡Œé¢„å¤„ç†ã€‚\n\nä»£ç ï¼š\n#include&lt;iostream&gt;#include&lt;string&gt;#include&lt;cstring&gt;#include&lt;algorithm&gt; #include&lt;queue&gt;#include&lt;stack&gt;#include&lt;vector&gt;#include&lt;cmath&gt;#include&lt;map&gt;using namespace std;int main(){\tint n,m,x;\tcin&gt;&gt;n&gt;&gt;m&gt;&gt;x;\tmap&lt;int,int&gt; a;\tint A;\tint *f=new int[n+1];\tfor(int i=0;i&lt;=n;i++)\t{\t\tf[i]=0; \t}\tfor(int i=1;i&lt;=n;i++)\t{\t\tcin&gt;&gt;A;\t\tf[i]=max(f[i-1],a[A^x]);\t\ta[A]=i;\t}\tfor(int j=0;j&lt;m;j++)\t{\t\tint l,r;\t\tcin&gt;&gt;l&gt;&gt;r;\t\tif(f[r]&gt;=l)\t\t\tcout&lt;&lt;\"yes\"&lt;&lt;endl;\t\telse\t\t\tcout&lt;&lt;\"no\"&lt;&lt;endl;\t}\treturn 0;} \n\né™„è®°çªç„¶å‘ç°æˆ‘éƒ½æ˜¯ä¸‰åˆ†é’Ÿçƒ­åº¦ï¼Œéš”ä¸€æ®µæ—¶é—´å°±æ¢ä¸åŒçš„äº‹åšï¼Œå…œå…œè½¬è½¬çš„ï¼Œä¸€ä¼šåšç®—æ³•ï¼Œä¸€ä¼šåšåµŒå…¥å¼ï¼Œä¸€ä¼šåšå‰ç«¯ï¼Œå¾ªç¯å¾€å¤ï¼Œç»“æœæ¯ä»¶äº‹éƒ½åšå¾—ä¸€èˆ¬å“ˆå“ˆå“ˆå“ˆå“ˆï¼ˆçœ‹æ¥æˆ‘æ˜¯åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼‰ï¼Œæ€§æ ¼å¥½åƒä¹Ÿæ˜¯ï¼Œæœ‰æ—¶å€™å¾ˆç¤¾ç‰›ï¼Œæœ‰æ—¶å€™åˆå¾ˆç¤¾æï¼Œè¿˜æ˜¯å¤ªåœ¨æ„ä»–äººçš„çœ‹æ³•å—å“ˆå“ˆå“ˆå“ˆï¼Œåæ­£ä¹Ÿæ²¡ä»€ä¹ˆäººä¼šçœ‹ï¼Œå°±åœ¨è¿™åº•ä¸‹è›®å†™è¿™ä¸€æ®µè¯å§ï¼Œç®—æ˜¯å¯¹è¿™ä¸€æ®µæ—¶é—´çš„æ€»ç»“ï¼Œæ¥ä¸‹æ¥è¦ç»´æŒè¿™ç§æ ·å­å—ï¼Ÿè¿˜æ˜¯åšä¸€äº›æ”¹å˜ï¼Ÿè¿˜æ²¡æƒ³å¥½ï¼Œä½†æ˜¯ç°åœ¨è¿™æ ·ä¹ŸæŒºèˆ’æœçš„ï¼Œéš”ä¸€æ®µæ—¶é—´åšä¸€ä»¶äº‹ä¸ä¼šè…»ï¼Œä¹Ÿç®—æ˜¯ä¿æŒæ–°é²œæ„Ÿçš„ä¸€ç§æ–¹æ³•å§ã€‚å°±å…ˆå†™åˆ°è¿™å§ï¼ˆ2025.4.9ï¼‰\n\n","categories":["å­¦ä¹ "],"tags":["ç®—æ³•","é”™é¢˜æ•´ç†"]},{"title":"å¤åˆ¶é»è´´å‡ºé”™åŸå› åˆ†æ","url":"/2024/11/20/copy_wrong/","content":"å¤åˆ¶é»è´´å‡ºé”™åŸå› åˆ†ææœ€è¿‘æˆ‘åœ¨è¿›è¡Œå¤åˆ¶é»è´´æ—¶å‡ºç°äº†å¤šæ¬¡çš„é”™è¯¯\nä¸€æ¬¡æ˜¯å¤åˆ¶ä¸€ä¸ªç½‘å€ï¼Œé»è´´çœ‹ä¸Šå»ä¹Ÿæ²¡é—®é¢˜ï¼Œä½†æ˜¯å°±æ˜¯è·³è½¬ä¸åˆ°å¯¹åº”çš„ç½‘é¡µï¼Œç›´åˆ°æˆ‘å°†ä»–åœ¨è®°äº‹æœ¬ä¸­é»è´´æ—¶æ‰å‘ç°å…¶å˜æˆäº†ä¸€å †ä¹±ç \nè¿˜æœ‰ä¸€æ¬¡æ˜¯æˆ‘åœ¨ç½‘é¡µä¸Šæ‹·è´ä»£ç ï¼Œå°†ä»£ç é»è´´åçœ‹ä¸Šå»ä¹Ÿæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†å°±æ˜¯è¿è¡Œæ—¶æŠ¥é”™ï¼Œæ¯ä¸€è¡Œéƒ½æŠ¥æ— æ³•è¯†åˆ«å‘½ä»¤çš„é”™\nå› æ­¤åœ¨æ­¤è®°å½•è¯¥é—®é¢˜ï¼Œå¹¶ç®€è¦åˆ†æå¤åˆ¶é»è´´å‡ºé”™åŸå› \næ¨èå¤§å®¶å¤åˆ¶é»è´´ä¸è¡Œæ—¶è¯•è¯•è‡ªå·±è¾“å…¥ï¼Œåç»­æ‰¾åˆ°å…‹æœé—®é¢˜çš„æ–¹æ³•ä¼šåœ¨æ­¤æå‡ºï¼Œæˆ–è€…å°è¯•ä¸‹åˆ—æªæ–½\n\né¦–å…ˆå…ˆåˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆå¤åˆ¶é»è´´ä¼šå‡ºé”™\nå¤åˆ¶ç²˜è´´å†…å®¹å‡ºç°ä¸ä¸€è‡´æˆ–å˜æˆä¹±ç çš„åŸå› å¯èƒ½ä¸ä»¥ä¸‹å› ç´ æœ‰å…³ï¼š\n1. å­—ç¬¦ç¼–ç é—®é¢˜\nä¸åŒçš„è½¯ä»¶æˆ–ç³»ç»Ÿä½¿ç”¨çš„å­—ç¬¦ç¼–ç æ–¹å¼å¯èƒ½ä¸ä¸€è‡´ï¼ˆä¾‹å¦‚ UTF-8ã€GB2312 ç­‰ï¼‰ã€‚å½“ç²˜è´´çš„å†…å®¹è¢«å¦ä¸€ä¸ªç¨‹åºè¯»å–æ—¶ï¼Œå¦‚æœè§£ç æ–¹å¼ä¸ä¸€è‡´ï¼Œå°±ä¼šå¯¼è‡´ä¹±ç ã€‚\nè§£å†³æ–¹æ³•ï¼šç¡®ä¿å¤åˆ¶å’Œç²˜è´´çš„ä¸¤ç«¯ä½¿ç”¨ç›¸åŒçš„å­—ç¬¦ç¼–ç ã€‚å¦‚æœæ˜¯æ–‡æ¡£ï¼Œä¿å­˜ä¸º UTF-8 é€šå¸¸å…¼å®¹æ€§è¾ƒå¥½ã€‚\n\n2. æ ¼å¼é—®é¢˜\nå¤åˆ¶çš„å†…å®¹å¯èƒ½åŒ…å«ä¸å¯è§çš„æ ¼å¼åŒ–ä¿¡æ¯ï¼ˆå¦‚å­—ä½“ã€é¢œè‰²ã€æ ·å¼ç­‰ï¼‰ï¼Œä½†ç›®æ ‡è½¯ä»¶ä¸æ”¯æŒè¿™äº›æ ¼å¼ï¼Œå¯èƒ½å¯¼è‡´æ˜¾ç¤ºå¼‚å¸¸æˆ–éƒ¨åˆ†ä¿¡æ¯ä¸¢å¤±ã€‚\nè§£å†³æ–¹æ³•ï¼šå°è¯•ä½¿ç”¨â€œçº¯æ–‡æœ¬â€ç²˜è´´ï¼ˆé€šå¸¸æ˜¯é€šè¿‡ Ctrl+Shift+V æˆ–é€‰æ‹©â€œä»…ç²˜è´´æ–‡æœ¬â€é€‰é¡¹ï¼‰ã€‚\n\n3. æºæ•°æ®é™åˆ¶\næŸäº›è½¯ä»¶ï¼ˆå¦‚ç½‘é¡µï¼‰å¯èƒ½ä¼šåœ¨å¤åˆ¶æ—¶é™„åŠ éšè—ä»£ç æˆ–å¹¿å‘Šå†…å®¹ï¼Œå¯¼è‡´ç²˜è´´åå‡ºç°æ„å¤–ç»“æœã€‚ï¼ˆçœŸå¯æ¶ï¼‰\nè§£å†³æ–¹æ³•ï¼šå…ˆç²˜è´´åˆ°ä¸€ä¸ªçº¯æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆå¦‚è®°äº‹æœ¬ï¼‰ä¸­æ¸…é™¤å¤šä½™ä¿¡æ¯ï¼Œç„¶åå†å¤åˆ¶åˆ°ç›®æ ‡ä½ç½®ã€‚\n\n4. è¯­è¨€å’ŒåŒºåŸŸè®¾ç½®å†²çª\nå¦‚æœç³»ç»Ÿçš„è¯­è¨€æˆ–åŒºåŸŸè®¾ç½®ä¸ç²˜è´´å†…å®¹ä¸åŒ¹é…ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ˜¾ç¤ºä¸æ­£ç¡®ã€‚ä¾‹å¦‚ï¼Œä¸­æ–‡æ–‡æœ¬åœ¨æœªå¯ç”¨ä¸­æ–‡æ”¯æŒçš„ç¯å¢ƒä¸­å¯èƒ½ä¼šå˜æˆä¹±ç ã€‚\nè§£å†³æ–¹æ³•ï¼šæ£€æŸ¥ç³»ç»Ÿçš„è¯­è¨€å’ŒåŒºåŸŸè®¾ç½®ï¼Œç¡®ä¿æ”¯æŒå¤åˆ¶å†…å®¹çš„è¯­è¨€ã€‚\n\n5. ç‰¹æ®Šå­—ç¬¦æˆ–ç¬¦å·\næŸäº›ç‰¹æ®Šå­—ç¬¦æˆ–ç¬¦å·å¯èƒ½åœ¨ä¸åŒçš„è½¯ä»¶æˆ–ç³»ç»Ÿä¸­æ˜¾ç¤ºæ•ˆæœä¸åŒï¼Œç”šè‡³å¯èƒ½ç›´æ¥å˜æˆä¹±ç ã€‚\nè§£å†³æ–¹æ³•ï¼šå°½é‡é¿å…ä½¿ç”¨è¿‡å¤šç‰¹æ®Šå­—ç¬¦ï¼Œæˆ–è€…ç¡®è®¤ç›®æ ‡è½¯ä»¶æ˜¯å¦æ”¯æŒè¿™äº›å­—ç¬¦ã€‚\n\n6. è·¨å¹³å°å…¼å®¹æ€§é—®é¢˜\nWindowsã€macOS å’Œ Linux ä¹‹é—´åœ¨å¤„ç†æ¢è¡Œç¬¦ã€åˆ¶è¡¨ç¬¦ç­‰ç‰¹æ®Šæ ¼å¼æ—¶å¯èƒ½å­˜åœ¨å·®å¼‚ï¼Œå¯¼è‡´ç²˜è´´å†…å®¹å˜å½¢ã€‚\nè§£å†³æ–¹æ³•ï¼šåœ¨è·¨å¹³å°æ“ä½œæ—¶ï¼Œä½¿ç”¨é€šç”¨å·¥å…·æˆ–æ ¼å¼åŒ–å·¥å…·ï¼ˆå¦‚è½¬æ¢æˆçº¯æ–‡æœ¬ï¼‰å¤„ç†å†…å®¹ã€‚\n\n7. å‰ªè´´æ¿é—®é¢˜\nå‰ªè´´æ¿æœ‰æ—¶ä¼šå› ä¸ºæ•°æ®é‡è¿‡å¤§æˆ–è½¯ä»¶å†²çªè€Œæ— æ³•æ­£ç¡®å¤åˆ¶å’Œç²˜è´´ã€‚\nè§£å†³æ–¹æ³•ï¼šæ¸…ç©ºå‰ªè´´æ¿åé‡æ–°æ“ä½œï¼Œæˆ–è€…ä½¿ç”¨ä¸“é—¨çš„å‰ªè´´æ¿ç®¡ç†å·¥å…·ï¼ˆå¦‚ ClipClipï¼‰ã€‚\n\n8. ç›®æ ‡ç¨‹åºçš„é™åˆ¶\næŸäº›ç¨‹åºåœ¨ç²˜è´´æ—¶ä¼šä¸»åŠ¨è¿‡æ»¤å†…å®¹æˆ–é‡æ„æ ¼å¼ï¼Œå¯¼è‡´ç²˜è´´ç»“æœä¸åŒã€‚\nè§£å†³æ–¹æ³•ï¼šå°è¯•ä¸åŒçš„ç²˜è´´æ–¹å¼ï¼Œæˆ–è€…æ£€æŸ¥ç¨‹åºçš„ç²˜è´´é€‰é¡¹è®¾ç½®ã€‚\n\n","categories":["å­¦ä¹ "],"tags":["è®¡ç®—æœºé—®é¢˜"]},{"title":"dockeræ•™ç¨‹","url":"/2025/07/18/docker%E6%95%99%E7%A8%8B/","content":"æœ¬æ•™ç¨‹æ˜¯åœ¨ Windows 11 çš„ WSL2 ä¸Šå®‰è£…å’Œé…ç½® Docker ï¼Œå¦‚æœä¸çŸ¥é“å¦‚ä½•é…ç½®å¯ä»¥å‚ç…§ä»¥ä¸‹æ•™ç¨‹ï¼šWSLçš„å®‰è£…ä¸ä½¿ç”¨|Zenith ã€‚\nå®‰è£… Docker Desktop for Windows1ã€ä¸‹è½½ Docker Desktopï¼š\nè®¿é—® Docker å®˜ç½‘ ä¸‹è½½ Windows ç‰ˆå®‰è£…åŒ…ã€‚\n\n2ã€å®‰è£… Docker Desktopï¼š\nåŒå‡»å®‰è£…åŒ…ï¼ŒæŒ‰å‘å¯¼å®Œæˆå®‰è£…ã€‚\nå®‰è£…æ—¶å‹¾é€‰ â€œUse WSL 2 instead of Hyper-Vâ€ã€‚\næ–°ç‰ˆ Docker Desktop ä¼šè‡ªåŠ¨åŒ–åˆ¤æ–­ä½ çš„ç³»ç»Ÿæ˜¯å¦å¯ç”¨ WSL 2 å¹¶è¿›è¡Œå¯¹åº”çš„å®‰è£…\nå®‰è£…å®Œæˆä¼šè‡ªåŠ¨é‡å¯ç”µè„‘ï¼Œæ³¨æ„æ–‡ä»¶ä¿å­˜\n\n3ã€å¯åŠ¨ Docker Desktopï¼š\nå®‰è£…å®Œæˆåå¯åŠ¨ Docker Desktopã€‚å¯ä»¥å…ˆä¸ç™»å½•\nåœ¨è®¾ç½®ï¼ˆSettingsï¼‰ &gt; General ä¸­ç¡®è®¤å‹¾é€‰ï¼šï¼ˆæ–°ç‰ˆ Docker Desktop é»˜è®¤å¼ºåˆ¶å‹¾é€‰å¯ä»¥ä¸åšé…ç½®ï¼‰\nUse the WSL 2 based engine\n\n\n\n4ã€æ£€æŸ¥ç¡®è®¤ Docker æ˜¯å¦ä½¿ç”¨äº† WSL 2\nåœ¨ PowerShell ä¸­è¿è¡Œï¼š\nwsl -l -v\n\nå¦‚æœçœ‹åˆ° docker-desktop ï¼Œä¸”ç‰ˆæœ¬ä¸º 2ï¼Œåˆ™è¯æ˜ Docker æ­£åœ¨ä½¿ç”¨ WSL 2ã€‚\n\næ‰“å¼€ WSL 2 ç»ˆç«¯ï¼ˆUbuntuï¼‰ï¼Œè¿è¡Œï¼š\ndocker --version\n\nå¦‚æœçœ‹åˆ°è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯ï¼Œè¯´æ˜ Docker å·²æˆåŠŸè¿è¡Œåœ¨ WSL 2 ä¸­ã€‚\n\n\nç›´æ¥åœ¨ ubuntu ä¸­å®‰è£… Docker1ã€æ›´æ–°ç³»ç»ŸåŒ…ç´¢å¼•ï¼šsudo apt update\n\n2ã€å®‰è£…å¿…è¦çš„åŒ…ä»¥å…è®¸apté€šè¿‡HTTPSä½¿ç”¨ä»“åº“ï¼šsudo apt install apt-transport-https ca-certificates curl software-properties-common# ç”¨äºè®¾ç½®ç³»ç»Ÿï¼Œå‡†å¤‡å®‰è£…æ¥è‡ªå®‰å…¨ï¼ˆHTTPSï¼‰å­˜å‚¨åº“çš„è½¯ä»¶ï¼Œå¹¶ç¡®ä¿ä¸‹è½½çš„è½¯ä»¶æ˜¯ç»è¿‡éªŒè¯å’Œå¯ä¿¡çš„\n\n3ã€æ·»åŠ  Docker çš„å®˜æ–¹ GPG å¯†é’¥ï¼šcurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -# ç”¨äºéªŒè¯ä»è¿œç¨‹ä»“åº“ä¸‹è½½çš„æ–‡ä»¶æˆ–è½¯ä»¶åŒ…åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ²¡æœ‰è¢«ç¯¡æ”¹ï¼Œç¡®ä¿åŒ…æ²¡æœ‰è¢«ç¯¡æ”¹æˆ–æŸå\n\n4ã€æ·»åŠ  Docker çš„ç¨³å®šä»“åº“ï¼šsudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;# åœ¨ç³»ç»Ÿä¸­æ·»åŠ  Docker å®˜æ–¹è½¯ä»¶ä»“åº“ï¼Œä»¥ä¾¿åç»­é€šè¿‡ apt å®‰è£… Docker åŠå…¶æ›´æ–°\n\n5ã€å†æ¬¡æ›´æ–°ç³»ç»ŸåŒ…ç´¢å¼•ï¼šsudo apt update\n\n6ã€å®‰è£…Docker CEï¼ˆç¤¾åŒºç‰ˆï¼‰ï¼šsudo apt install docker-ce# Docker Community Edition ç®€ç§° Docker CE\n\n7ã€éªŒè¯Dockeræ˜¯å¦å®‰è£…æˆåŠŸï¼šsudo docker run hello-world\n\nä¸‹è½½é•œåƒåœ¨ Docker Desktop ä¸­ä¸‹è½½é•œåƒDocker Hub æ˜¯ä¸€ä¸ªå…¬å…±çš„ Docker é•œåƒä»“åº“ï¼Œå…¶ä¸­åŒ…å«äº†å¤§é‡çš„é•œåƒï¼Œç”¨æˆ·å¯ä»¥ä»ä¸­æ‹‰å–é•œåƒåˆ°æœ¬åœ°ä½¿ç”¨\n\nä¾‹å¦‚ï¼Œè¦æ‹‰å–ä¸€ä¸ªåä¸º Nginx çš„é•œåƒï¼Œå¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š\n\nå¯åŠ¨ Docker Desktop è¿›å…¥ Images\næœç´¢ Nginx pull ç¬¬ä¸€ä¸ªé•œåƒæ–‡ä»¶\nå¯åŠ¨ Nginx é•œåƒ\né…ç½®åå­—ï¼ˆä¾‹å¦‚ï¼šnginxwebï¼‰\né…ç½®ç«¯å£æ˜ å°„ï¼ˆä¾‹å¦‚ï¼š80ï¼‰\né€‰æ‹©å°†å®¹å™¨ä¸­çš„æ–‡ä»¶å­˜å‚¨åœ¨ä¸»æœºä¸­çš„ä½ç½®ï¼ˆå¯é€‰ï¼‰ï¼ˆä¾‹å¦‚ï¼šD:\\nginxweb-storageï¼‰\né€‰æ‹©æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„ä½ç½®ï¼Œå®ç°å®¹å™¨ä¸ä¸»æœºçš„æ–‡ä»¶å…±äº«ï¼ˆå¯é€‰ï¼‰ï¼ˆä¾‹å¦‚ï¼š&#x2F;nginxwebï¼‰\nè¿è¡Œ\n\n\n\n\nåœ¨ ubuntu ä¸­ä¸‹è½½é•œåƒä¹Ÿå¯ä»¥åœ¨ubuntuä¸­ä½¿ç”¨å‘½ä»¤è¡Œå®Œæˆï¼š\n\nä¾‹å¦‚ï¼Œè¦æ‹‰å–ä¸€ä¸ªåä¸º opengauss çš„é•œåƒï¼Œå¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š\nä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‹‰å–é•œåƒ\ndocker pull opengauss/opengauss\n\nå¯ä»¥é€šè¿‡ docker images å‘½ä»¤æŸ¥çœ‹å½“å‰å·²ä¸‹è½½çš„é•œåƒ\nè®¾ç½® Docker é•œåƒæºåœ¨æ—§ç‰ˆæœ¬ä¸‹è®¾ç½® Docker é•œåƒæºç”±äºæŸäº›ä¸å¯æè¿°çš„é—®é¢˜ï¼ŒDocker å®˜æ–¹é•œåƒç»å¸¸ä¼šæ‹‰ä¸ä¸‹æ¥ï¼Œå¸¸ç”¨æ–¹å¼æ˜¯é€šè¿‡è®¾ç½®é•œåƒæºçš„æ–¹å¼è§£å†³ï¼ˆä½†æ˜¯å¤§éƒ¨åˆ†æºéƒ½å·²ç»æŒ‚äº†ï¼‰ï¼Œå…¶ä»–æ–¹å¼å¯ä»¥è‡ªè¡Œ bing æœç´¢\nåœ¨æ—§ç‰ˆæœ¬ä¸‹ Docker Desktop ä¼šè‡ªåŠ¨åˆ›å»ºä¸¤ä¸ª WSL2 å‘è¡Œç‰ˆï¼š\n\ndocker-desktopï¼šè¿è¡Œ Docker Engineï¼ˆå®ˆæŠ¤è¿›ç¨‹ï¼‰ã€‚\ndocker-desktop-dataï¼šå­˜å‚¨é•œåƒå’Œå®¹å™¨æ•°æ®ã€‚\n\nè¿›å…¥ docker-desktop å‘è¡Œç‰ˆï¼š\nwsl -d docker-desktop\n\né¦–å…ˆä¿®æ”¹ /etc/docker/daemon.json æ–‡ä»¶ä¸ºå¦‚ä¸‹æ ¼å¼\n&#123;    &quot;registry-mirrors&quot;: [        &quot;https://docker.xuanyuan.me&quot;,        &quot;https://docker.mirrors.ustc.edu.cn&quot;,      \t&quot;https://mirror.ccs.tencentyun.com&quot;,        &quot;https://registry.docker-cn.com&quot;    ]&#125;\n\nä¸Šè¿°é•œåƒæºåªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå¯ä»¥è‡ªè¡Œå¯»æ‰¾æˆ–æ­å»ºå…¶ä»–æº\nç„¶åé‡å¯ Dockerï¼šservice docker restart\nå¯ä»¥é€šè¿‡ docker info å‘½ä»¤æŸ¥çœ‹é…ç½®æ˜¯å¦ç”Ÿæ•ˆ\nåœ¨æ–°ç‰ˆæœ¬ä¸‹è®¾ç½® Docker é•œåƒæºåœ¨æ–°ç‰ˆæœ¬ Docker Desktop ä¸­è¿›è¡Œäº†å­˜å‚¨ä¼˜åŒ–ï¼ŒDocker å›¢é˜Ÿåˆå¹¶äº† docker-desktop å’Œ docker-desktop-data çš„åŠŸèƒ½ï¼š**ä»…ä¿ç•™ docker-desktop**ï¼Œæ•°æ®å’Œå¼•æ“åˆå¹¶åˆ°ä¸€ä¸ª WSL 2 å‘è¡Œç‰ˆã€‚\nåœ¨æ–°ç‰ˆæœ¬ä¸­è¦é€šè¿‡ Docker Desktop çš„ GUI æˆ– API åŠ¨æ€ç®¡ç†é…ç½®ã€‚\nè¿›å…¥ Settings &gt; Docker Engineã€‚\nç›´æ¥ç¼–è¾‘ JSON é…ç½®ï¼š\n&#123;    &quot;builder&quot;: &#123;        &quot;gc&quot;: &#123;            &quot;defaultKeepStorage&quot;: &quot;20GB&quot;,            &quot;enabled&quot;: true        &#125;    &#125;,    &quot;experimental&quot;: false,    &quot;registry-mirrors&quot;: [        &quot;https://docker.xuanyuan.me&quot;,        &quot;https://docker.mirrors.ustc.edu.cn&quot;,        &quot;https://mirror.ccs.tencentyun.com&quot;,        &quot;https://registry.docker-cn.com&quot;    ]&#125;\n\nç‚¹å‡» Apply &amp; Restartï¼ŒDocker ä¼šè‡ªåŠ¨é‡å¯å¹¶åº”ç”¨æ–°é…ç½®\nåœ¨ç»ˆç«¯è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ£€æŸ¥é•œåƒæºæ˜¯å¦å·²åŠ è½½ï¼š\ndocker info | grep -A 10 &quot;Registry Mirrors&quot;\n\nè¾“å‡ºåº”åŒ…å«ä½ æ·»åŠ çš„é•œåƒåœ°å€ï¼š\nRegistry Mirrors: https://docker.xuanyuan.me/ https://docker.mirrors.ustc.edu.cn/ https://mirror.ccs.tencentyun.com/ https://registry.docker-cn.com/\n\nä¸Šè¿°é•œåƒæºåªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå¯ä»¥è‡ªè¡Œå¯»æ‰¾æˆ–æ­å»ºå…¶ä»–æº\nä½¿ç”¨å®¹å™¨1ã€å¯åŠ¨å®¹å™¨æ‹‰å–é•œåƒæˆåŠŸåå°±å¯ä»¥å¯åŠ¨å®¹å™¨äº†\næˆ–è€…ä¹Ÿå¯ä»¥ä¸æ‹‰å–é•œåƒç›´æ¥å¯åŠ¨å®¹å™¨ï¼Œdockerä¼šè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„é•œåƒæ–‡ä»¶\ndocker run -d \\\t--name opengauss_container \\\t-p 5432:5432 opengauss/opengaussdocker run --name opengauss_container \\\t--privileged=true \\\t-d \\\t-e GS_PASSWORD=your_password \\\t-e GS_USERNAME=your_username \\\t-p 5432:5432 opengauss/opengauss\n\n\n--privilegedï¼šèµ‹äºˆå®¹å™¨å†…çš„è¿›ç¨‹å‡ ä¹ç›¸åŒçš„æƒé™ï¼Œå®¹å™¨å†…çš„è¿›ç¨‹å¯ä»¥è®¿é—®å®¿ä¸»æœºçš„æ‰€æœ‰è®¾å¤‡\n--name opengauss_containerï¼šç»™å®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼Œè¿™é‡Œæ˜¯ opengauss_container\n-dï¼šè¡¨ç¤ºåœ¨åå°è¿è¡Œå®¹å™¨\n-eï¼šä¼ é€’å‚æ•°\nGS_PASSWORD=your_password -e GS_USERNAME=your_usernameï¼šè‡ªå®šä¹‰æ•°æ®åº“è´¦å·å¯†ç \n-p 5432:5432ï¼šå°†å®¹å™¨çš„ 5432 ç«¯å£æ˜ å°„åˆ°æœ¬æœºçš„ 5432 ç«¯å£\n\nå¦‚æœä½ ä»…ä»…æ˜¯æƒ³åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œæš‚æ—¶å¹¶ä¸æƒ³å¯åŠ¨ä»–ï¼Œå¯ä»¥ä½¿ç”¨ docker create å‘½ä»¤\nä¸ docker run å‘½ä»¤å‡ ä¹ä¸€è‡´ï¼Œåªæ˜¯å°‘äº† -p å‚æ•°ã€‚ä½¿ç”¨ docker create åˆ›å»ºçš„å®¹å™¨ï¼Œåœ¨ç”¨ docker start å¯åŠ¨æ—¶ï¼Œé»˜è®¤æ€»æ˜¯ä»¥åå°ï¼ˆdetachedï¼‰æ–¹å¼è¿è¡Œï¼Œä¸ç®¡æœ‰æ²¡æœ‰åŠ  -d å‚æ•°\n2ã€æŸ¥çœ‹å®¹å™¨çŠ¶æ€docker ps -a å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çš„çŠ¶æ€\ndocker start &lt;å®¹å™¨å&gt;/&lt;å®¹å™¨id&gt; å’Œ docker stop &lt;å®¹å™¨å&gt;/&lt;å®¹å™¨id&gt; å¯ä»¥å¯åŠ¨ &#x2F; åœæ­¢å·²æœ‰å®¹å™¨\n\nä½¿ç”¨ docker start å¯åŠ¨çš„å®¹å™¨æ˜¯ä¸éœ€è¦æ·»åŠ å‚æ•°çš„ï¼Œä¼šä¿ç•™ä½¿ç”¨ docker run åˆ›å»ºæ—¶ä½¿ç”¨çš„å‚æ•°\n\ndocker inspect &lt;å®¹å™¨å&gt;/&lt;å®¹å™¨id&gt;   å¯ä»¥æŸ¥çœ‹å®¹å™¨çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº†åˆ›å»ºæ—¶ä½¿ç”¨çš„å‚æ•°\ndocker logs &lt;å®¹å™¨å&gt;/&lt;å®¹å™¨id&gt; å¯ä»¥æŸ¥çœ‹å®¹å™¨æ—¥å¿—\n\nä½†æ˜¯è¿™ç§æ–¹å¼åªèƒ½æŸ¥çœ‹ç°æœ‰æ—¥å¿—ï¼Œä¸èƒ½åˆ·æ–°ï¼Œå¯ä»¥åœ¨åé¢åŠ  -f å‚æ•°ä½¿å…¶æ»šåŠ¨åˆ·æ–°è¿½è¸ªè¾“å‡ºï¼šdocker logs &lt;å®¹å™¨å&gt;/&lt;å®¹å™¨id&gt; -f\n\n3ã€ä½¿ç”¨å®¹å™¨\nä¸Šé¢ä»¥ opengauss æ•°æ®åº“ä¸ºä¾‹ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ gsql æˆ–æ•°æ®åº“ç®¡ç†å·¥å…·æ¥è¿æ¥æ•°æ®åº“ã€‚å¦‚æœæ˜¯å…¶ä»–é¡¹ç›®ï¼Œé€šè¿‡ç«¯å£ä½¿ç”¨å³å¯\n\næ¯ä¸ª Docker å®¹å™¨éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿è¡Œç¯å¢ƒï¼Œæ¯ä¸ªå®¹å™¨å†…éƒ¨è¡¨ç°çš„éƒ½åƒä¸€ä¸ªç‹¬ç«‹çš„ Linux ç³»ç»Ÿï¼Œå¯ä»¥ä½¿ç”¨ docker exec &lt;å®¹å™¨å&gt;/&lt;å®¹å™¨id&gt; &lt;æƒ³è¦æ‰§è¡Œçš„å‘½ä»¤&gt; åœ¨å®¹å™¨å†…éƒ¨æ‰§è¡Œå‘½ä»¤\nä½†æ˜¯è¿™æ ·ä¼šéå¸¸çš„éº»çƒ¦ï¼Œå¯ä»¥é€šè¿‡ docker exec -it &lt;å®¹å™¨å&gt;/&lt;å®¹å™¨id&gt; /bin/sh å‘½ä»¤è¿›å…¥å®¹å™¨å†…éƒ¨ï¼Œè·å¾—ä¸€ä¸ªäº¤äº’å¼çš„å‘½ä»¤è¡Œï¼Œä¹‹åå¯ä»¥ç”¨ exec å‘½ä»¤æˆ–è€…ä½¿ç”¨ Ctrl + D å¿«æ·é”®é€€å‡ºåˆ°å®¿ä¸»æœº\né¢å¤–ä»‹ç»ï¼šDockerfileDockerfile æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œç”¨äºæè¿°é•œåƒæ˜¯å¦‚ä½•åˆ¶ä½œçš„ï¼Œä¹‹å‰ç”¨ docker pull å‘½ä»¤æ‹‰å–çš„é•œåƒå°±æ˜¯ç”¨ Dockerfile åˆ¶ä½œçš„\nå¯ä»¥çœ‹èœé¸Ÿæ•™ç¨‹ Docker Dockerfile-èœé¸Ÿæ•™ç¨‹\né¢å¤–ä»‹ç»ï¼šDocker ç½‘ç»œDocker å®¹å™¨ä¸å…‰ç¯å¢ƒå’Œå®¿ä¸»æœºéš”ç¦»ï¼Œç½‘ç»œä¹Ÿå’Œå®¿ä¸»æœºéš”ç¦»\nDocker ä¸»è¦æœ‰å››ç§ç½‘ç»œæ¨¡å¼ï¼šBridgeã€Hostã€Containerã€Noneã€‚å…¶ä¸­æ¡¥æ¥æ¨¡å¼ï¼ˆBridgeï¼‰å’Œç›´è¿æ¨¡å¼ï¼ˆHostï¼‰æ˜¯æœ€å¸¸ç”¨çš„ï¼Œå…¶ä½™ä¸¤ç§å¯ä»¥è‡ªè¡Œ bing æœç´¢\næ¡¥æ¥æ¨¡å¼æ¡¥æ¥æ¨¡å¼æ˜¯ Docker çš„é»˜è®¤ç½‘è·¯æ¨¡å¼ã€‚æ‰€æœ‰å®¹å™¨éƒ½åœ¨ä¸€ä¸ªå­ç½‘å†…ï¼Œé€šè¿‡ç½‘æ¡¥ä¸å®¿ä¸»æœºè¿æ¥ï¼Œæ¯ä¸ªå®¹å™¨éƒ½åˆ†é…äº†ä¸€ä¸ªå†…éƒ¨ ip åœ°å€ï¼Œå®¹å™¨ç½‘ç»œä¸å®¿ä¸»æœºç½‘ç»œéš”ç¦»ï¼Œé€šè¿‡ç«¯å£æ˜ å°„è®¿é—®\nå¯ä»¥é€šè¿‡ docker network create &lt;å­ç½‘å&gt; åˆ›å»ºæ–°çš„å­ç½‘ï¼Œé»˜è®¤åˆ›å»ºçš„å­ç½‘ä¹Ÿæ˜¯æ¡¥æ¥æ¨¡å¼ï¼Œå¯ä»¥å°†æŒ‡å®šå®¹å™¨åŠ å…¥æŒ‡å®šçš„å­ç½‘ï¼Œå­ç½‘é—´ä¹Ÿæ˜¯ç›¸äº’éš”ç¦»çš„ã€‚å¹¶ä¸” Docker å­ç½‘å†…éƒ¨æœ‰ DNS æœºåˆ¶ï¼Œå¯ä»¥å°†å®¹å™¨åè½¬æ¢ä¸ºå­ç½‘ ip åœ°å€\nç›´è¿æ¨¡å¼ç›´æ¥ä½¿ç”¨å®¿ä¸»æœºçš„ ip åœ°å€ï¼Œé€šè¿‡å®¿ä¸»æœºç«¯å£å¯ä»¥ç›´æ¥è®¿é—®å®¹å™¨ï¼Œæ— éœ€å»ºç«‹ç«¯å£æ˜ å°„ã€‚å¯ä»¥é€šè¿‡è¿™ä¸ªå‘½ä»¤å¯åŠ¨ä¸€ä¸ªç›´è¿æ¨¡å¼çš„å®¹å™¨ï¼š\ndocker run -d network host mysql-server\n\nä½¿ç”¨ docker network list å¯ä»¥å±•ç¤ºå‡º Docker æ‰€æœ‰çš„ç½‘ç»œ\nä½¿ç”¨ docker network rm &lt;ç½‘ç»œid&gt; å¯ä»¥åˆ é™¤ä¸€ä¸ªå­ç½‘\né¢å¤–ä»‹ç»ï¼šDocker Composeå¦‚æœæˆ‘ä»¬è¦ç”¨ Docker éƒ¨ç½²ä¸€ä¸ªå®Œæ•´çš„åŒ…å«å‰ç«¯ã€åç«¯ã€ä¸­é—´ä»¶ã€æ•°æ®åº“çš„é¡¹ç›®ï¼Œä¸€ç§å®¹æ˜“æƒ³åˆ°çš„æ–¹å¼æ˜¯åˆ†åˆ«æ‹‰å–ä¸åŒé•œåƒï¼Œåˆ†åˆ«åˆ›å»ºå®¹å™¨ï¼Œä½†æ˜¯è¿™æ ·ä¼šæœ‰ä¸‰ä¸ªé—®é¢˜\n\næ¯”è¾ƒç¹ç å¤æ‚\né¡¹ç›®ä¸­å¯èƒ½å­˜åœ¨å®¹å™¨äº’ç›¸ä¾èµ–çš„æƒ…å†µ\nå®¹å™¨çš„ç½‘ç»œå¯èƒ½ä¼šæœ‰ç‰¹æ®Šè¦æ±‚\n\nå¯èƒ½è¿™æ—¶å€™ä¼šæƒ³åˆ°ï¼Œæˆ‘æŠŠæ‰€æœ‰çš„é¡¹ç›®éƒ½æ‰“åŒ…åˆ°ä¸€èµ·ï¼Œè·‘åœ¨ä¸€ä¸ªå·¨å¤§çš„å®¹å™¨é‡Œã€‚è¿™æ ·ä¹Ÿä¼šæœ‰ä¸‰ä¸ªé—®é¢˜\n\né•œåƒå¤ªå¤§\nå¦‚æœæœ‰ä¸€ä¸ªæ¨¡å—æŒ‚å£äº†ï¼Œæ•´ä¸ªé¡¹ç›®éƒ½ç›´æ¥æŒ‚å£äº†\nä¸æ–¹ä¾¿æ‰©å®¹\n\nè¿™æ—¶å€™å°±éœ€è¦ Docker Compose å‡ºåœºäº†\nDocker Compose æ˜¯ä¸€ä¸ªå®¹å™¨ç¼–æ’æŠ€æœ¯ï¼Œä½¿ç”¨ yaml æ–‡ä»¶ç®¡ç†å¤šä¸ªå®¹å™¨ï¼Œé‡Œé¢æè¿°äº†å®¹å™¨ä¹‹é—´æ˜¯å¦‚ä½•åˆ›å»ºä»¥åŠå¦‚ä½•ååŒå·¥ä½œçš„ï¼Œæ¯”å¦‚åœ¨å¯åŠ¨åç«¯é¡¹ç›®å‰ï¼Œéœ€è¦å…ˆå¯åŠ¨ä¸€ä¸ª MySQL å®¹å™¨ï¼š\nversion: &#x27;3.8&#x27;services:  mysql-server:    image: mysql:8.4.5    container_name: mysql-server    restart: unless-stopped    environment:      MYSQL_ROOT_PASSWORD: rootpassword      MYSQL_DATABASE: mydb      MYSQL_USER: myuser      MYSQL_PASSWORD: mypassword    ports:      - &quot;3306:3306&quot;    volumes:      - mysql_data:/var/lib/mysql  backend:    build: ./backend    container_name: backend    depends_on:      - mysql-server    environment:      SPRING_DATASOURCE_URL: jdbc:mysql://mysql-server:3306/mydb      SPRING_DATASOURCE_USERNAME: myuser      SPRING_DATASOURCE_PASSWORD: mypassword    ports:      - &quot;8080:8080&quot;    restart: unless-stoppedvolumes:  mysql_data:\n\nè¿™ä¸ª depends_on å­—æ®µå°±å¯ä»¥è§„å®šå®¹å™¨çš„å¯åŠ¨é¡ºåº\nåœ¨å†™å¥½äº† docker-compose.yaml æ–‡ä»¶åï¼Œå°±å¯ä»¥ç”¨ docker compose up -d ä¸€é”®å¯åŠ¨äº†ï¼Œä¸ docker compose ç›¸å…³çš„è¿˜æœ‰å…¶ä»–å‘½ä»¤\n\ndocker compose stop: åœæ­¢æ‰€æœ‰å®¹å™¨\ndocker compose down: åœæ­¢å¹¶åˆ é™¤æ‰€æœ‰å®¹å™¨\ndocker compose start: å¯åŠ¨æ‰€æœ‰å®¹å™¨\n\næ³¨æ„ docker compose up -d åªèƒ½è¯†åˆ«åä¸º docker-compose.yaml çš„æ–‡ä»¶ï¼Œæ”¹ä¸ªåå­—å°±æ— æ³•è¯†åˆ«äº†ã€‚å¦‚æœè¦è¯†åˆ«å…¶ä»–åå­—çš„ yaml æ–‡ä»¶å¯ä»¥ä½¿ç”¨ -f å‚æ•°ï¼š\ndocker compose -f &lt;æ–‡ä»¶è·¯å¾„&gt; up -d\n\nDocker Compose åªé€‚åˆç®€å•é¡¹ç›®å¯åŠ¨ï¼Œä¸é€‚åˆå¤§å‹é¡¹ç›®å¯åŠ¨ã€‚å¯¹äºä¼ä¸šçº§å¤§è§„æ¨¡æœåŠ¡å™¨é›†ç¾¤çš„å®¹å™¨ç¼–æ’éœ€æ±‚ï¼Œé€šå¸¸ä¼šä½¿ç”¨ Kubernetes\nğŸŒ§ï¸\nä¸Šè¿°å†…å®¹å‚è€ƒè‡ªï¼š\né«˜å†·åšå­¦çŒ«å¨˜ AI\nDocker å¸¸è§å‘½ä»¤ä¸æ“ä½œ | ä½ ä¸å®šç§¯åˆ†æ²¡åŠ Cã®Blog\nä½¿ç”¨ Docker è¿›è¡Œé¡¹ç›®å¿«é€Ÿéƒ¨ç½² | ä½ ä¸å®šç§¯åˆ†æ²¡åŠ Cã®Blog\n10åˆ†é’ŸæŒæ¡Docker Desktopå®‰è£…åŠä½¿ç”¨\næ”¹å˜è½¯ä»¶è¡Œä¸šçš„æŠ€æœ¯ï¼ç¨‹åºå‘˜ã€è½¯ä»¶çˆ±å¥½è€…å¿…é¡»æŒæ¡çš„Dockerï¼Œåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ\n","categories":["å­¦ä¹ "],"tags":["æ•™ç¨‹"]},{"title":"æ‚è°ˆ","url":"/2024/02/09/my-first-blog/","content":"è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªåšå®¢å˜¿å˜¿å˜¿\n\n\nè¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ª Blog\nä½†æ˜¯æˆ‘ä¸çŸ¥é“å†™ä»€ä¹ˆå“ˆå“ˆå“ˆå“ˆå“ˆ\n\n\nç›®å‰è¿˜åœ¨æµ‹è¯•ä¸­\n\n\nå¦‚æœä½ æ„Ÿè§‰æ— èŠä½ å¯ä»¥çœ‹çœ‹Bç«™ \n\nå…³äºåç»­åç»­æˆ‘å°†ä¼šå‘å¸ƒæœ‰å…³äºITæŠ€æœ¯ã€ç”Ÿæ´»ç­‰æ–¹é¢çš„å†…å®¹ï¼Œä¸è¿‡æˆ‘è§‰å¾—åº”è¯¥ä¸ä¼šæœ‰ä»€ä¹ˆäººçœ‹çš„ï¼Œæ‰€ä»¥æ°´ä¸€æ°´(é›¾)ã€‚\nå…³äºä¸ºä»€ä¹ˆå†™åšå®¢æœ‰ä¸¤ä¸ªç†ç”±ï¼Œä¸€ä¸ªæ˜¯ä¸ºäº†è£…*ï¼Œå¦ä¸€ä¸ªè¿˜æ˜¯ä¸ºäº†è£…*å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆã€‚\n\nå¥½äº†ï¼Œæ­£ç»ä¸€ç‚¹\n\nå…¶å®æ˜¯å› ä¸ºçœ‹è§å¤§ç¥å­¦é•¿å†™åšå®¢æ‰€ä»¥çªå‘å¥‡æƒ³ï¼Œæƒ³ç»™è‡ªå·±åšä¸€ä¸ªåšå®¢(å¥½åƒè¿˜æ˜¯ä¸æ˜¯ä»€ä¹ˆæ­£ç»ç†ç”±å˜¿å˜¿å˜¿)\n\næ—¶é—´æœ‰ç‚¹æ¥ä¸åŠäº†ï¼Œè¿˜æœ‰æŒºå¤šäº‹è¦åšçš„ï¼Œæ‰€ä»¥å…ˆå†™åˆ°è¿™å„¿å§ï¼Œç°åœ¨è¦å‘å¸ƒäº†(å¸Œæœ›èƒ½å‘å¸ƒæˆåŠŸ)\né™„ä¸€å¼ æˆ‘æœ€çˆ±çš„å°çŒªçš„ç…§ç‰‡ï¼š\n \nå†é™„ä¸€å¼ é“ƒå…°å’Œç½—å°é»‘çš„åŠ¨å›¾ï¼š\n\n","categories":["è®°å½•ç”Ÿæ´»"],"tags":["æ‚è°ˆ"]},{"title":"æ„Ÿè°¢å¤§å®¶","url":"/2024/10/02/thx/","content":"\næ„Ÿè°¢æˆ‘èº«è¾¹çš„å¤§å®¶ï¼Œæœ¬åšå®¢çš„æ­å»ºç¦»ä¸å¼€å¤§å®¶çš„å»ºè®®å’Œå¸®åŠ©ã€‚\n\n\nç‰¹æ­¤é¸£è°¢\n","categories":["è®°å½•ç”Ÿæ´»"],"tags":["æ‚è°ˆ"]},{"title":"git","url":"/2025/07/11/git/","content":"å‰è¨€ï¼šæœ€è¿‘åœ¨åšå…³äºCçš„é¡¹ç›®å·¥ç¨‹ï¼Œæ¶‰åŠåˆ°å¤šäººåä½œä»¥åŠç‰ˆæœ¬æ§åˆ¶ï¼Œæ¯å¤©éƒ½æœ‰å¤§é‡çš„ä»£ç ä¿®æ”¹ï¼Œä¹Ÿç»å¸¸æ€§åœ°å›é€€ä¸Šå‡ ä¸ªç‰ˆæœ¬ï¼Œæ­¤æ—¶gitå°±éå¸¸å¥½ç”¨ã€‚æœ€è¿‘æœ‰ä¸€ä¸ªå­¦å¼Ÿä»–åœ¨ä¿®æ”¹ä»£ç åç¨‹åºå°±è·‘ä¸é€šäº†ï¼ŒæŠŠä¿®æ”¹çš„åœ°æ–¹åˆ æ‰åä»æœ‰éå¸¸éå¸¸å¤šçš„æŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰gitï¼Œä»–ä¹Ÿæ²¡åŠæ³•è¿›è¡Œç‰ˆæœ¬å›é€€ï¼Œåªå¥½é‡æ–°æ–°å»ºä¸€ä¸ªæ–°çš„å·¥ç¨‹ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—æœ‰å¿…è¦ä»‹ç»ä¸€ä¸‹gitï¼Œä¹Ÿä½œä¸ºæˆ‘è‡ªå·±çš„ä¸€æ¬¡gitçš„å¤ä¹ ï¼Œè¯´ä¸å®šè¿˜æœ‰ä»€ä¹ˆæˆ‘æ¼æ‰çš„ä½†æ˜¯å¾ˆæœ‰ç”¨çš„å·¥å…·å‘¢ã€‚\nå—¯ï¼Œæœ¬æ¥æƒ³è‡ªå·±å†™ï¼Œå‘ç°ä¸€ä¸ªä¸é”™çš„è§†é¢‘å°±å…ˆè´´åœ¨ä¸‹é¢äº†ï¼Œåç»­æœ‰å…¶ä»–çš„è§†é¢‘ä¸­æ²¡æåˆ°çš„æˆ‘å†è¡¥å……å§\nGitæ•™ç¨‹\nğŸ˜\n","categories":["å­¦ä¹ "],"tags":["èµ„æ–™"]},{"title":"C++ STLå¸¸ç”¨å†…å®¹æ€»ç»“","url":"/2024/10/29/stl/","content":"è¯´æ˜è¿™æ˜¯å…³äºC++ STLå¸¸ç”¨å†…å®¹æ€»ç»“\nå¼ºè°ƒä½¿ç”¨æ–¹æ³•ï¼Œå¹¶ä¸å¼ºè°ƒåŸç†\næœ¬ç¯‡åšå®¢æ˜¯æˆ‘ç”¨äºä¸ªäººå­¦ä¹ æ€»ç»“ç”¨çš„\n\n\nå¤§éƒ¨åˆ†å†…å®¹æ¥æºäºç½‘ç»œå’Œä¹¦æœ¬ï¼Œå› ä¸ºæ˜¯ä¸ªäººæ•´ç†å¤ä¹ ç”¨æ‰€ä»¥å°±å…ˆä¸åŠ äº†ï¼Œå¦‚æœåæœŸçœ‹çš„äººå¤šæˆ‘ä¼šåŠ ä¸Šçš„\nå› ä¸ºè¿˜æœ‰æŒºå¤šè¯¾çš„ï¼Œè€Œä¸”è¿˜æœ‰æ¯”èµ›å’Œç»„é‡Œçš„ä»»åŠ¡ï¼Œæ‰€ä»¥å¯èƒ½ä¼šä¸å®šæœŸä¸å®šé‡æ›´æ–°\nå†…å®¹å¯èƒ½æœ‰ä¸å…¨çš„ï¼Œæˆ–é”™è¯¯çš„ï¼Œæ¬¢è¿æ‰¹è¯„æŒ‡æ­£\nç›®å½•ä¸»è¦åŒ…å«ä¸‹é¢å‡ ä¸ªSTLå‡½æ•°\n\n\nvector åŠ¨æ€æ•°ç»„\nstack æ ˆ\nqueue é˜Ÿåˆ—\ndeque åŒç«¯é˜Ÿåˆ—\npriority_queue ä¼˜å…ˆé˜Ÿåˆ—\nmap æ˜ å°„\nset é›†åˆ\npair äºŒå…ƒç»„\nstring å­—ç¬¦ä¸²\nbitset\narray æ•°ç»„\ntuple å…ƒç»„\nâ€¦â€¦\n\n\nè¿™æ˜¯ç›®å‰çš„å®‰æ’ï¼Œè®¡åˆ’åœ¨11.03å‰èµ¶å®Œï¼Œå› ä¸º11.03è¦æ¯”èµ›ï¼Œ11.10è¿˜è¦è€ƒç¦»æ•£ï¼Œä¸­é—´è¿˜è¦æŠŠå‡ æ¬¡ç»ƒä¹ èµ›çš„é¢˜è¡¥äº†ã€‚ï¼ˆå¥½å¿™ï¼‰\nè¡¥ï¼šæ¯”èµ›ä¹Ÿç®—æ˜¯æ‹¿äº†é“¶å¥–äº†\nè¢«é«˜ä¸­ç”Ÿçˆ†æ€\n\nç›®å‰ï¼ˆ11.02ï¼‰å·²å°†ä¸Šè¿°STLå‡½æ•°æ•´ç†å®Œæˆï¼Œç®—æ˜¯æŒ‰æ—¶æå‰å®Œæˆäº†å§\nåç»­ä¼šå¢åŠ ä¸€äº›å¸¸ç”¨çš„STLå‡½æ•°ï¼Œä¾‹å¦‚sortç­‰\næš‚å®šåœ¨12.20å‰å®Œæˆåç»­çš„è¡¥å……\nè¯ä¸å¤šè¯´ï¼Œæ¥ä¸‹æ¥è¿›å…¥æ­£é¢˜å§\nSTLå‡½æ•°æ€»ç»“vector åŠ¨æ€æ•°ç»„ä»‹ç»vectorä¸ºå¯å˜é•¿æ•°ç»„ï¼ˆåŠ¨æ€æ•°ç»„ï¼‰ï¼Œå®šä¹‰çš„vectoræ•°ç»„å¯ä»¥éšæ—¶æ·»åŠ æ•°å€¼å’Œåˆ é™¤å…ƒç´ ã€‚\n\næ³¨æ„ï¼šåœ¨å±€éƒ¨åŒºåŸŸä¸­ï¼ˆæ¯”å¦‚å±€éƒ¨å‡½æ•°é‡Œé¢ï¼‰å¼€vectoræ•°ç»„ï¼Œæ˜¯åœ¨ å †ç©ºé—´ é‡Œé¢å¼€çš„ã€‚\nåœ¨å±€éƒ¨åŒºåŸŸå¼€ æ•°ç»„ æ˜¯åœ¨ æ ˆç©ºé—´ å¼€çš„ï¼Œè€Œæ ˆç©ºé—´æ¯”è¾ƒå°ï¼Œå¦‚æœå¼€äº†éå¸¸é•¿çš„æ•°ç»„å°±ä¼šå‘ç”Ÿçˆ†æ ˆã€‚\næ•…å±€éƒ¨åŒºåŸŸ ä¸å¯ä»¥ å¼€å¤§é•¿åº¦æ•°ç»„ï¼Œä½†æ˜¯å¯ä»¥å¼€å¤§é•¿åº¦vectorã€‚\n\n\nå¤´æ–‡ä»¶ï¼š\n#include &lt;vector&gt;\n\nä¸€ç»´åˆå§‹åŒ–ï¼š\nvector&lt;int&gt; a; //å®šä¹‰äº†ä¸€ä¸ªåä¸ºaçš„ä¸€ç»´æ•°ç»„,æ•°ç»„å­˜å‚¨intç±»å‹æ•°æ®vector&lt;double&gt; b;//å®šä¹‰äº†ä¸€ä¸ªåä¸ºbçš„ä¸€ç»´æ•°ç»„ï¼Œæ•°ç»„å­˜å‚¨doubleç±»å‹æ•°æ®vector&lt;node&gt; c;//å®šä¹‰äº†ä¸€ä¸ªåä¸ºcçš„ä¸€ç»´æ•°ç»„ï¼Œæ•°ç»„å­˜å‚¨ç»“æ„ä½“ç±»å‹æ•°æ®ï¼Œnodeæ˜¯ç»“æ„ä½“ç±»å‹\n\næŒ‡å®šé•¿åº¦å’Œåˆå§‹å€¼çš„åˆå§‹åŒ–\nvector&lt;int&gt; v(n);// å®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œåˆå§‹å€¼é»˜è®¤ä¸º0ï¼Œä¸‹æ ‡èŒƒå›´ [0, n - 1]vector&lt;int&gt; v(n, 1);//å®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œä¸‹æ ‡èŒƒå›´ [0, n - 1], v[0] åˆ° v[n - 1]æ‰€æœ‰çš„å…ƒç´ åˆå§‹å€¼å‡ä¸º1//æ³¨æ„ï¼šæŒ‡å®šæ•°ç»„é•¿åº¦ä¹‹åï¼ˆæŒ‡å®šé•¿åº¦åçš„æ•°ç»„å°±ç›¸å½“äºæ­£å¸¸çš„æ•°ç»„äº†ï¼‰\n\nåˆå§‹åŒ–ä¸­æœ‰å¤šä¸ªå…ƒç´ \nvector&lt;int&gt; a&#123;1, 2, 3, 4, 5&#125;;//æ•°ç»„aä¸­æœ‰äº”ä¸ªå…ƒç´ ï¼Œæ•°ç»„é•¿åº¦å°±ä¸º5\n\næ‹·è´åˆå§‹åŒ–\nvector&lt;int&gt; a(n + 1, 0);vector&lt;int&gt; b(a); // ä¸¤ä¸ªæ•°ç»„ä¸­çš„ç±»å‹å¿…é¡»ç›¸åŒ,aå’Œbéƒ½æ˜¯é•¿åº¦ä¸ºn+1ï¼Œåˆå§‹å€¼éƒ½ä¸º0çš„æ•°ç»„vector&lt;int&gt; c = a; // ä¹Ÿæ˜¯æ‹·è´åˆå§‹åŒ–,cå’Œaæ˜¯å®Œå…¨ä¸€æ ·çš„æ•°ç»„\n\näºŒç»´åˆå§‹åŒ–\n//å®šä¹‰ç¬¬ä¸€ç»´å›ºå®šé•¿åº¦ä¸º5ï¼Œç¬¬äºŒç»´å¯å˜åŒ–çš„äºŒç»´æ•°ç»„vector&lt;int&gt; v[5];//å®šä¹‰å¯å˜é•¿äºŒç»´æ•°ç»„//æ³¨æ„ï¼šè¡Œä¸å¯å˜ï¼ˆåªæœ‰5è¡Œï¼‰, è€Œåˆ—å¯å˜,å¯ä»¥åœ¨æŒ‡å®šè¡Œæ·»åŠ å…ƒç´ //ç¬¬ä¸€ç»´å›ºå®šé•¿åº¦ä¸º5ï¼Œç¬¬äºŒç»´é•¿åº¦å¯ä»¥æ”¹å˜\n\n\nvector&lt;int&gt; v[5]å¯ä»¥è¿™æ ·ç†è§£ï¼šé•¿åº¦ä¸º5çš„væ•°ç»„ï¼Œæ•°ç»„ä¸­å­˜å‚¨çš„æ˜¯vector&lt;int&gt; æ•°æ®ç±»å‹ï¼Œè€Œè¯¥ç±»å‹å°±æ˜¯æ•°ç»„å½¢å¼ï¼Œæ•…vä¸ºäºŒç»´æ•°ç»„ã€‚å…¶ä¸­æ¯ä¸ªæ•°ç»„å…ƒç´ å‡ä¸ºç©ºï¼Œå› ä¸ºæ²¡æœ‰æŒ‡å®šé•¿åº¦ï¼Œæ‰€ä»¥ç¬¬äºŒç»´å¯å˜é•¿ã€‚å¯ä»¥è¿›è¡Œä¸‹è¿°æ“ä½œï¼š\nv[1].push_back(2);//ç¬¬äºŒè¡Œå°¾éƒ¨å¢åŠ ä¸€ä¸ªå…ƒç´  2v[2].push_back(3);//ç¬¬ä¸‰è¡Œå°¾éƒ¨å¢åŠ ä¸€ä¸ªå…ƒç´  3\n\n\nè¡Œåˆ—å‡å¯å˜\n//åˆå§‹åŒ–äºŒç»´å‡å¯å˜é•¿æ•°ç»„vector&lt;vector&lt;int&gt;&gt; v;//å®šä¹‰ä¸€ä¸ªè¡Œå’Œåˆ—å‡å¯å˜çš„äºŒç»´æ•°ç»„\n\n\nåº”ç”¨ï¼šå¯ä»¥åœ¨væ•°ç»„é‡Œé¢è£…å¤šä¸ªæ•°ç»„\nvector&lt;int&gt; t1&#123;1, 2, 3, 4&#125;;vector&lt;int&gt; t2&#123;2, 3, 4, 5&#125;;v.push_back(t1);v.push_back(t2);v.push_back(&#123;3, 4, 5, 6&#125;) // &#123;3, 4, 5, 6&#125;å¯ä»¥ä½œä¸ºvectorçš„åˆå§‹åŒ–,ç›¸å½“äºä¸€ä¸ªæ— åvector\n\n\nè¡Œåˆ—é•¿åº¦å‡å›ºå®š\n\nn + 1è¡Œ  m + 1åˆ—  åˆå§‹å€¼ä¸º0\nvector&lt;vector&lt;int&gt;&gt; a(n + 1, vector&lt;int&gt;(m + 1, 0));//å®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸º n+1 çš„æ•°ç»„ï¼Œä¸‹æ ‡èŒƒå›´ [0, n - 1], a[0] åˆ° a[n - 1]æ‰€æœ‰çš„å…ƒç´ åˆå§‹å€¼å‡ä¸ºvector&lt;int&gt;(m + 1, 0)\n\n\nc++17åŠä»¥ä¸Šæ”¯æŒçš„å½¢å¼ï¼ˆå®šä¹‰æ¨¡æ¿ç±»çš„å¯¹è±¡æ—¶ï¼Œå¯ä»¥ä¸æŒ‡å®šæ¨¡æ¿å‚æ•°ï¼Œä½†å¿…é¡»è¦åœ¨æ„é€ å‡½æ•°ä¸­èƒ½æ¨å¯¼å‡ºæ¨¡æ¿å‚æ•°ï¼‰\nvector a&#123;1, 2, 3, 4, 5&#125;; // å£°æ˜ä¸€ä¸ªintç±»å‹åŠ¨æ€æ•°ç»„ï¼Œåˆè¯†å…ƒç´ è‡ªå·±æŒ‡å®švector a(n + 1, vector(m + 1, 0));\n\næ–¹æ³•å‡½æ•°ä¸ªäººè®¤ä¸ºvectorå’Œæ•°ç»„çš„å·®è·é¦–å…ˆæ˜¯å­˜å‚¨ä½ç½®ä¸ä¸€æ ·ï¼Œvectoræ˜¯åœ¨å †ç©ºé—´ï¼Œæ•°ç»„æ˜¯åœ¨æ ˆç©ºé—´ï¼Œå…¶æ¬¡å°±æ˜¯vectorä¸­æœ‰è®¸å¤šæ–¹æ³•å‡½æ•°ï¼Œè¿™äº›æ–¹æ³•å‡½æ•°å¯ä»¥æå¤§çš„æ–¹ä¾¿æˆ‘ä»¬ç¼–ç¨‹ï¼Œè§£é¢˜ï¼Œä¸ä»…ä»…vectoræ˜¯è¿™æ ·çš„ï¼Œå…¶ä»–STLå‡½æ•°ä¹Ÿæ˜¯ã€‚ä½†æ˜¯å› ä¸ºæˆ‘æ‰åˆšåˆšå…¥é—¨ï¼Œè¿™åªæ˜¯æˆ‘çš„ä¸€ç§æ„Ÿè§‰ï¼Œå…·ä½“æ€ä¹ˆç­‰æˆ‘å¤šå­¦ä¸€äº›ï¼Œå­¦æ·±ä¸€äº›å†æ¥è¡¥å……ã€‚å…ˆå ä¸ªå‘ã€‚\nçŸ¥é“äº†å¦‚ä½•å®šä¹‰åˆå§‹åŒ–å¯å˜æ•°ç»„ï¼Œä¸‹é¢å°±éœ€è¦çŸ¥é“å¦‚ä½•æ·»åŠ ï¼Œåˆ é™¤ï¼Œä¿®æ”¹æ•°æ®ã€‚\ncæŒ‡å®šä¸ºæ•°ç»„åç§°ï¼Œå«ä¹‰ä¸­ä¼šæ³¨æ˜ç®—æ³•å¤æ‚åº¦ã€‚\n\n\n\nä»£ç \nå«ä¹‰\n\n\n\nc.front()\nè¿”å›ç¬¬ä¸€ä¸ªæ•°æ®O ( 1 )\n\n\nc.back()\nè¿”å›æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªæ•°æ® O ( 1 )\n\n\nc.pop_back()\nåˆ é™¤æœ€åä¸€ä¸ªæ•°æ®O ( 1 )\n\n\nc.push_back(element)\nåœ¨å°¾éƒ¨åŠ ä¸€ä¸ªæ•°æ®O ( 1 )\n\n\nc.size()\nè¿”å›å®é™…æ•°æ®ä¸ªæ•°ï¼ˆunsignedç±»å‹ï¼‰O ( 1 )\n\n\nc.clear()\næ¸…é™¤å…ƒç´ ä¸ªæ•°O ( N )ï¼ŒNä¸ºå…ƒç´ ä¸ªæ•°\n\n\nc.resize(n, v)\næ”¹å˜æ•°ç»„å¤§å°ä¸ºn,nä¸ªç©ºé—´æ•°å€¼èµ‹ä¸ºvï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤èµ‹å€¼ä¸º0\n\n\nc.insert(it, x)\nå‘ä»»æ„è¿­ä»£å™¨itï¼ˆé€šä¿—æ¥è¯´å°±æ˜¯åœ°å€ï¼‰æ’å…¥ä¸€ä¸ªå…ƒç´ x ï¼ŒO ( N )\n\n\nc.erase(first,last)\nåˆ é™¤[first,last)çš„æ‰€æœ‰å…ƒç´ ï¼ŒO ( N )\n\n\nc.begin()\nè¿”å›é¦–å…ƒç´ çš„è¿­ä»£å™¨ï¼ˆé€šä¿—æ¥è¯´å°±æ˜¯åœ°å€ï¼‰O ( 1 )\n\n\nc.end()\nè¿”å›æœ€åä¸€ä¸ªå…ƒç´ åä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨ï¼ˆåœ°å€ï¼‰O ( 1 )\n\n\nc.empty()\nåˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¿”å›çœŸï¼Œåä¹‹è¿”å›å‡ O ( 1 )\n\n\n\næ³¨æ„ï¼š\n\nend()è¿”å›çš„æ˜¯æœ€åä¸€ä¸ªå…ƒç´ çš„åä¸€ä¸ªä½ç½®çš„åœ°å€ï¼Œä¸æ˜¯æœ€åä¸€ä¸ªå…ƒç´ çš„åœ°å€ï¼Œæ‰€æœ‰STLå®¹å™¨å‡æ˜¯å¦‚æ­¤\n\nä½¿ç”¨ vi.resize(n, v) å‡½æ•°æ—¶ï¼Œè‹¥ vi ä¹‹å‰æŒ‡å®šè¿‡å¤§å°ä¸º pre\n\npre &gt; n ï¼šå³æ•°ç»„å¤§å°å˜å°äº†ï¼Œæ•°ç»„ä¼šä¿å­˜å‰ n ä¸ªå…ƒç´ ï¼Œå‰ n ä¸ªå…ƒç´ å€¼ä¸ºåŸæ¥çš„å€¼ï¼Œä¸éƒ½å˜ä¸º v\npre &lt; n ï¼šå³æ•°ç»„å¤§å°å˜å¤§äº†ï¼Œæ•°ç»„ä¼šåœ¨åé¢æ’å…¥ n - pre ä¸ªå€¼ä¸º v çš„å…ƒç´ \n\nä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªåˆå§‹å€¼ v åªå¯¹æ–°æ’å…¥çš„å…ƒç´ ç”Ÿæ•ˆã€‚\n#include&lt;bits/stdc++.h&gt;using namespace std;void out(vector&lt;int&gt; &amp;a) &#123; for (auto &amp;x: a) cout &lt;&lt; x &lt;&lt; &quot; &quot;; cout &lt;&lt; &quot;\\n&quot;; &#125;int main() &#123;\tvector&lt;int&gt; a(5, 1);\tout(a); // 1 1 1 1 1\ta.resize(10, 2);\tout(a); // 1 1 1 1 1 2 2 2 2 2\ta.resize(3, 3);\tout(a); // 1 1 1\treturn 0;&#125;\n\n\næ’åº\nä½¿ç”¨sortæ’åºè¦ï¼š sort(c.begin(), c.end());\n\nsort()ä¸ºSTLå‡½æ•°ï¼Œè¯·å‚è€ƒæœ¬æ–‡æœ€åé¢STLå‡½æ•°ç³»åˆ—ã€‚\n\nå¯¹æ‰€æœ‰å…ƒç´ è¿›è¡Œæ’åºï¼Œå¦‚æœè¦å¯¹æŒ‡å®šåŒºé—´è¿›è¡Œæ’åºï¼Œå¯ä»¥å¯¹sort()é‡Œé¢çš„å‚æ•°è¿›è¡ŒåŠ å‡æ”¹åŠ¨ã€‚\nvector&lt;int&gt; a(n + 1);sort(a.begin() + 1, a.end()); // å¯¹[1, n]åŒºé—´è¿›è¡Œä»å°åˆ°å¤§æ’åº\n\nè®¿é—®å…±ä¸‰ç§æ–¹æ³•ï¼š\n\nä¸‹æ ‡æ³• ï¼š å’Œæ™®é€šæ•°ç»„ä¸€æ ·\n\næ³¨æ„ï¼šä¸€ç»´æ•°ç»„çš„ä¸‹æ ‡æ˜¯ä» 0 åˆ° v.size()-1 ï¼Œè®¿é—®ä¹‹å¤–çš„æ•°ä¼šå‡ºç°è¶Šç•Œé”™è¯¯\n\nè¿­ä»£å™¨æ³• ï¼š ç±»ä¼¼æŒ‡é’ˆä¸€æ ·çš„è®¿é—® ï¼Œé¦–å…ˆéœ€è¦å£°æ˜è¿­ä»£å™¨å˜é‡ï¼Œå’Œå£°æ˜æŒ‡é’ˆå˜é‡ä¸€æ ·ï¼Œå¯ä»¥æ ¹æ®ä»£ç è¿›è¡Œç†è§£ï¼ˆé™„æœ‰æ³¨é‡Šï¼‰ã€‚\nvector&lt;int&gt; vi; //å®šä¹‰ä¸€ä¸ªviæ•°ç»„vector&lt;int&gt;::iterator it = vi.begin();//å£°æ˜ä¸€ä¸ªè¿­ä»£å™¨æŒ‡å‘viçš„åˆå§‹ä½ç½®\n\nä½¿ç”¨auto ï¼šéå¸¸ç®€ä¾¿ï¼Œä½†æ˜¯ä¼šè®¿é—®æ•°ç»„çš„æ‰€æœ‰å…ƒç´ ï¼ˆç‰¹åˆ«æ³¨æ„0ä½ç½®å…ƒç´ ä¹Ÿä¼šè®¿é—®åˆ°ï¼‰\n\n\nä¸‹æ ‡è®¿é—®ç›´æ¥å’Œæ™®é€šæ•°ç»„ä¸€æ ·è¿›è¡Œè®¿é—®å³å¯ã€‚\n//æ·»åŠ å…ƒç´ for(int i = 0; i &lt; 5; i++)\tvi.push_back(i);\t//ä¸‹æ ‡è®¿é—® for(int i = 0; i &lt; 5; i++)\tcout &lt;&lt; vi[i] &lt;&lt; &quot; &quot;;cout &lt;&lt; &quot;\\n&quot;;\n\nè¿­ä»£å™¨è®¿é—®ç±»ä¼¼æŒ‡é’ˆï¼Œè¿­ä»£å™¨å°±æ˜¯å……å½“æŒ‡é’ˆçš„ä½œç”¨ã€‚\nvector&lt;int&gt; vi&#123;1, 2, 3, 4, 5&#125;;//è¿­ä»£å™¨è®¿é—®vector&lt;int&gt;::iterator it;   // ç›¸å½“äºå£°æ˜äº†ä¸€ä¸ªè¿­ä»£å™¨ç±»å‹çš„å˜é‡it// é€šä¿—æ¥è¯´å°±æ˜¯å£°æ˜äº†ä¸€ä¸ªæŒ‡é’ˆå˜é‡\n\n\næ–¹æ³•ä¸€\nvector&lt;int&gt;::iterator it = vi.begin(); for(int i = 0; i &lt; 5; i++)\tcout &lt;&lt; *(it + i) &lt;&lt; &quot; &quot;;cout &lt;&lt; &quot;\\n&quot;;\n\næ–¹æ³•äºŒ\nvector&lt;int&gt;::iterator it;for(it = vi.begin(); it != vi.end();it ++)\tcout &lt;&lt; *it &lt;&lt; &quot; &quot;;//vi.end()æŒ‡å‘å°¾å…ƒç´ åœ°å€çš„ä¸‹ä¸€ä¸ªåœ°å€// æˆ–è€…auto it = vi.begin();while (it != vi.end()) &#123;    cout &lt;&lt; *it &lt;&lt; &quot;\\n&quot;;    it++;&#125;\n\næ™ºèƒ½æŒ‡é’ˆåªèƒ½éå†å®Œæ•°ç»„ï¼Œå¦‚æœè¦æŒ‡å®šçš„å†…å®¹è¿›è¡Œéå†ï¼Œéœ€è¦å¦é€‰æ–¹æ³•ã€‚\nauto èƒ½å¤Ÿè‡ªåŠ¨è¯†åˆ«å¹¶è·å–ç±»å‹ã€‚\n// 1. è¾“å…¥vector&lt;int&gt; a(n);for (auto &amp;x: a) &#123;    cin &gt;&gt; x; // å¯ä»¥è¿›è¡Œè¾“å…¥ï¼Œæ³¨æ„åŠ å¼•ç”¨&#125;// for (auto &amp;x: a)ï¼šè¿™æ˜¯ä¸€ä¸ªèŒƒå›´forå¾ªç¯ï¼Œç”¨äºéå†å‘é‡aä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚autoå…³é”®å­—è‡ªåŠ¨æ¨å¯¼å˜é‡xçš„ç±»å‹ï¼Œè¿™é‡Œxçš„ç±»å‹å°†æ˜¯int&amp;ï¼ˆæ•´æ•°çš„å¼•ç”¨ï¼‰ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨å¾ªç¯ä¸­ä½¿ç”¨äº†å¼•ç”¨&amp;ã€‚ä½¿ç”¨å¼•ç”¨çš„å¥½å¤„æ˜¯å¯ä»¥ç›´æ¥ä¿®æ”¹å‘é‡ä¸­çš„å…ƒç´ å€¼ã€‚// 2. è¾“å‡ºvector&lt;int&gt; v;v.push_back(12);v.push_back(241);for(auto val : v) &#123;\tcout &lt;&lt; val &lt;&lt; &quot; &quot;; // 12 241&#125;\n\n\nvectoræ³¨æ„ï¼š\n\nvi[i] å’Œ *(vi.begin() + i) ç­‰ä»·ï¼Œä¸æŒ‡é’ˆç±»ä¼¼ã€‚\nvectorå’Œstringçš„STLå®¹å™¨æ”¯æŒ*(it + i)çš„å…ƒç´ è®¿é—®ï¼Œå…¶å®ƒå®¹å™¨å¯èƒ½ä¹Ÿå¯ä»¥æ”¯æŒè¿™ç§æ–¹å¼è®¿é—®ï¼Œä½†ç”¨çš„ä¸å¤šï¼Œå¯è‡ªè¡Œå°è¯•ã€‚\n\n\nstack æ ˆä»‹ç»æ ˆä¸ºæ•°æ®ç»“æ„çš„ä¸€ç§ï¼Œæ˜¯STLä¸­å®ç°çš„ä¸€ä¸ªå…ˆè¿›åå‡ºï¼Œåè¿›å…ˆå‡ºçš„å®¹å™¨ã€‚\n\nå¤´æ–‡ä»¶\n//å¤´æ–‡ä»¶éœ€è¦æ·»åŠ #include&lt;stack&gt;\n\nå£°æ˜\n//å£°æ˜stack&lt;int&gt; s;stack&lt;string&gt; s;stack&lt;node&gt; s;//nodeæ˜¯ç»“æ„ä½“ç±»å‹\n\næ–¹æ³•å‡½æ•°\n\n\nä»£ç \nå«ä¹‰\n\n\n\ns.push(ele)\nå…ƒç´ eleå…¥æ ˆï¼Œå¢åŠ å…ƒç´  O ( 1 )\n\n\ns.pop()\nç§»é™¤æ ˆé¡¶å…ƒç´  O ( 1 )\n\n\ns.top()\nå–å¾—æ ˆé¡¶å…ƒç´ ï¼ˆä½†ä¸åˆ é™¤ï¼‰O ( 1 )\n\n\ns.empty()\næ£€æµ‹æ ˆå†…æ˜¯å¦ä¸ºç©ºï¼Œç©ºä¸ºçœŸ O ( 1 )\n\n\ns.size()\nè¿”å›æ ˆå†…å…ƒç´ çš„ä¸ªæ•° O ( 1 )\n\n\næ ˆéå†æ ˆéå†æ ˆåªèƒ½å¯¹æ ˆé¡¶å…ƒç´ è¿›è¡Œæ“ä½œï¼Œå¦‚æœæƒ³è¦è¿›è¡Œéå†ï¼Œåªèƒ½å°†æ ˆä¸­å…ƒç´ ä¸€ä¸ªä¸ªå–å‡ºæ¥å­˜åœ¨æ•°ç»„ä¸­\nstack&lt;int&gt; st;for (int i = 0; i &lt; 10; ++i) st.push(i);while (!st.empty()) &#123;    int tp = st.top(); // æ ˆé¡¶å…ƒç´     st.pop();&#125;\n\næ•°ç»„æ¨¡æ‹Ÿæ ˆè¿›è¡Œéå†é€šè¿‡ä¸€ä¸ªæ•°ç»„å¯¹æ ˆè¿›è¡Œæ¨¡æ‹Ÿï¼Œä¸€ä¸ªå­˜æ”¾ä¸‹æ ‡çš„å˜é‡topæ¨¡æ‹ŸæŒ‡å‘æ ˆé¡¶çš„æŒ‡é’ˆã€‚\n\nä¸€èˆ¬æ¥è¯´å•è°ƒæ ˆå’Œå•è°ƒé˜Ÿåˆ—å†™æ³•å‡å¯ä½¿ç”¨é¢å¤–å˜é‡ tt æˆ– hh æ¥è¿›è¡Œæ¨¡æ‹Ÿ\n\nç‰¹ç‚¹ï¼š æ¯”STLçš„stacké€Ÿåº¦æ›´å¿«ï¼Œéå†å…ƒç´ æ–¹ä¾¿\nint s[100]; // æ ˆ ä»å·¦è‡³å³ä¸ºæ ˆåº•åˆ°æ ˆé¡¶int tt = -1; // tt ä»£è¡¨æ ˆé¡¶æŒ‡é’ˆ,åˆå§‹æ ˆå†…æ— å…ƒç´ ï¼Œttä¸º-1for(int i = 0; i &lt;= 5; ++i) &#123;\t//å…¥æ ˆ \ts[++tt] = i;&#125;// å‡ºæ ˆint top_element = s[tt--]; //å…¥æ ˆæ“ä½œç¤ºæ„//  0  1  2  3  4  5  //                tt//å‡ºæ ˆåç¤ºæ„//  0  1  2  3  4 //              tt\n\nqueue é˜Ÿåˆ—ä»‹ç»é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ã€‚\n\nå¤´æ–‡ä»¶\n//å¤´æ–‡ä»¶#include&lt;queue&gt;\n\nå®šä¹‰åˆå§‹åŒ–\n//å®šä¹‰åˆå§‹åŒ–queue&lt;int&gt; q;\n\næ–¹æ³•å‡½æ•°\n\n\nä»£ç \nå«ä¹‰\n\n\n\nq.front()\nè¿”å›é˜Ÿé¦–å…ƒç´  O ( 1 )\n\n\nq.back()\nè¿”å›é˜Ÿå°¾å…ƒç´  O ( 1 )\n\n\nq.push(element)\nå°¾éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ element è¿›é˜ŸO ( 1 )\n\n\nq.pop()\nåˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´  å‡ºé˜Ÿ O ( 1 )\n\n\nq.size()\nè¿”å›é˜Ÿåˆ—ä¸­å…ƒç´ ä¸ªæ•°ï¼Œè¿”å›å€¼ç±»å‹unsigned int O ( 1 )\n\n\nq.empty()\nåˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿”å›true O ( 1 )\n\n\né˜Ÿåˆ—æ¨¡æ‹Ÿä½¿ç”¨q[]æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—\nhhè¡¨ç¤ºé˜Ÿé¦–å…ƒç´ çš„ä¸‹æ ‡ï¼Œåˆå§‹å€¼ä¸º0\nttè¡¨ç¤ºé˜Ÿå°¾å…ƒç´ çš„ä¸‹æ ‡ï¼Œåˆå§‹å€¼ä¸º-1ï¼Œè¡¨ç¤ºåˆšå¼€å§‹é˜Ÿåˆ—ä¸ºç©º\n\nä¸€èˆ¬æ¥è¯´å•è°ƒæ ˆå’Œå•è°ƒé˜Ÿåˆ—å†™æ³•å‡å¯ä½¿ç”¨é¢å¤–å˜é‡ tt æˆ– hh æ¥è¿›è¡Œæ¨¡æ‹Ÿ\n\n#include&lt;bits/stdc++.h&gt;using namespace std;const int N = 1e5 + 5;int q[N];int main() &#123;\tint hh = 0,tt = -1;//\tå…¥é˜Ÿ \tq[++tt] = 1;\tq[++tt] = 2; //\tå°†æ‰€æœ‰å…ƒç´ å‡ºé˜Ÿ \twhile(hh &lt;= tt) &#123;\t\tint t = q[hh++];\t\tprintf(&quot;%d &quot;,t);\t&#125;\treturn 0; &#125; \n\ndeque  åŒç«¯é˜Ÿåˆ—ä»‹ç»é¦–å°¾éƒ½å¯æ’å…¥å’Œåˆ é™¤çš„é˜Ÿåˆ—ä¸ºåŒç«¯é˜Ÿåˆ—ã€‚\n\nå¤´æ–‡ä»¶\n//æ·»åŠ å¤´æ–‡ä»¶#include&lt;deque&gt;\n\nåˆå§‹åŒ–å®šä¹‰\n//åˆå§‹åŒ–å®šä¹‰deque&lt;int&gt; dq;\n\næ–¹æ³•å‡½æ•°\næ³¨æ„åŒç«¯é˜Ÿåˆ—çš„å¸¸æ•°æ¯”è¾ƒå¤§ã€‚\n\n\n\n\nä»£ç \nå«ä¹‰\n\n\n\npush_back(x)&#x2F;push_front(x)\næŠŠxæ’å…¥é˜Ÿå°¾å &#x2F; é˜Ÿé¦– O ( 1 )\n\n\nback()&#x2F;front()\nè¿”å›é˜Ÿå°¾ &#x2F; é˜Ÿé¦–å…ƒç´  O ( 1 )\n\n\npop_back() &#x2F; pop_front()\nåˆ é™¤é˜Ÿå°¾ &#x2F; é˜Ÿé¦–å…ƒç´  O ( 1 )\n\n\nerase(iterator it)\nåˆ é™¤åŒç«¯é˜Ÿåˆ—ä¸­çš„æŸä¸€ä¸ªå…ƒç´ \n\n\nerase(iterator first,iterator last)\nåˆ é™¤åŒç«¯é˜Ÿåˆ—ä¸­[first,last)ä¸­çš„å…ƒç´ \n\n\nempty()\nåˆ¤æ–­dequeæ˜¯å¦ç©º O ( 1 )\n\n\nsize()\nè¿”å›dequeçš„å…ƒç´ æ•°é‡ O ( 1 )\n\n\nclear()\næ¸…ç©ºdeque\n\n\næ³¨æ„ç‚¹dequeå¯ä»¥è¿›è¡Œæ’åº\n\nåŒç«¯é˜Ÿåˆ—æ’åºä¸€èˆ¬ä¸ç”¨ï¼Œæ„Ÿè§‰æ¯«æ— ç”¨å¤„ï¼Œä½¿ç”¨å…¶ä»–STLä¾ç„¶å¯ä»¥å®ç°ç›¸åŒåŠŸèƒ½\n\n//ä»å°åˆ°å¤§sort(q.begin(), q.end())//ä»å¤§åˆ°å°æ’åºsort(q.begin(), q.end(), greater&lt;int&gt;());//dequeé‡Œé¢çš„ç±»å‹éœ€è¦æ˜¯intå‹sort(q.begin(), q.end(), greater());//é«˜ç‰ˆæœ¬C++æ‰å¯ä»¥ç”¨\n\npriority_queue ä¼˜å…ˆé˜Ÿåˆ—ä»‹ç»ä¼˜å…ˆé˜Ÿåˆ—æ˜¯åœ¨æ­£å¸¸é˜Ÿåˆ—çš„åŸºç¡€ä¸ŠåŠ äº†ä¼˜å…ˆçº§ï¼Œä¿è¯æ¯æ¬¡çš„é˜Ÿé¦–å…ƒç´ éƒ½æ˜¯ä¼˜å…ˆçº§æœ€å¤§çš„ã€‚\nå¯ä»¥å®ç°æ¯æ¬¡ä»ä¼˜å…ˆé˜Ÿåˆ—ä¸­å–å‡ºçš„å…ƒç´ éƒ½æ˜¯é˜Ÿåˆ—ä¸­ä¼˜å…ˆçº§æœ€å¤§çš„ä¸€ä¸ªã€‚\nå®ƒçš„åº•å±‚æ˜¯é€šè¿‡å †æ¥å®ç°çš„ã€‚\n\nå¤´æ–‡ä»¶\n//å¤´æ–‡ä»¶#include&lt;queue&gt;\n\nåˆå§‹åŒ–\n//åˆå§‹åŒ–å®šä¹‰priority_queue&lt;int&gt; q;\n\nå‡½æ•°æ–¹æ³•\n\n\nä»£ç \nå«ä¹‰\n\n\n\nq.top()\nè®¿é—®é˜Ÿé¦–å…ƒç´  O ( 1 )\n\n\nq.push()\nå…¥é˜Ÿ O ( l o g N )\n\n\nq.pop()\nå †é¡¶ï¼ˆé˜Ÿé¦–ï¼‰å…ƒç´ å‡ºé˜Ÿ O ( l o g N )\n\n\nq.size()\né˜Ÿåˆ—å…ƒç´ ä¸ªæ•° O ( 1 )\n\n\nq.empty()\næ˜¯å¦ä¸ºç©º O ( 1 )\n\n\næ³¨æ„æ²¡æœ‰clear()ï¼ä¸æä¾›è¯¥æ–¹æ³•\nä¼˜å…ˆé˜Ÿåˆ—åªèƒ½é€šè¿‡top()è®¿é—®é˜Ÿé¦–å…ƒç´ ï¼ˆä¼˜å…ˆçº§æœ€é«˜çš„å…ƒç´ ï¼‰\nè®¾ç½®ä¼˜å…ˆçº§åŸºæœ¬æ•°æ®ç±»å‹çš„ä¼˜å…ˆçº§priority_queue&lt;int&gt; pq; // é»˜è®¤å¤§æ ¹å †, å³æ¯æ¬¡å–å‡ºçš„å…ƒç´ æ˜¯é˜Ÿåˆ—ä¸­çš„æœ€å¤§å€¼priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt;&gt; q; // å°æ ¹å †, æ¯æ¬¡å–å‡ºçš„å…ƒç´ æ˜¯é˜Ÿåˆ—ä¸­çš„æœ€å°å€¼\n\nå‚æ•°è§£é‡Šï¼š\n\nç¬¬ä¸€ä¸ªå‚æ•°ï¼šå°±æ˜¯ä¼˜å…ˆé˜Ÿåˆ—ä¸­å­˜å‚¨çš„æ•°æ®ç±»å‹\n\nç¬¬äºŒä¸ªå‚æ•°ï¼š\nvector&lt;int&gt; æ˜¯ç”¨æ¥æ‰¿è½½åº•å±‚æ•°æ®ç»“æ„å †çš„å®¹å™¨ï¼Œè‹¥ä¼˜å…ˆé˜Ÿåˆ—ä¸­å­˜æ”¾çš„æ˜¯doubleå‹æ•°æ®ï¼Œå°±è¦å¡«vector&lt;double&gt;æ€»ä¹‹å­˜çš„æ˜¯ä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼Œå°±ç›¸åº”çš„å¡«å†™å¯¹åº”ç±»å‹ã€‚åŒæ—¶ä¹Ÿè¦æ”¹åŠ¨ç¬¬ä¸‰ä¸ªå‚æ•°é‡Œé¢çš„å¯¹åº”ç±»å‹ã€‚\n\nç¬¬ä¸‰ä¸ªå‚æ•°ï¼š\nless&lt;int&gt; è¡¨ç¤ºæ•°å­—å¤§çš„ä¼˜å…ˆçº§å¤§ï¼Œå †é¡¶ä¸ºæœ€å¤§çš„æ•°å­—greater&lt;int&gt;è¡¨ç¤ºæ•°å­—å°çš„ä¼˜å…ˆçº§å¤§ï¼Œå †é¡¶ä¸ºæœ€å°çš„æ•°å­—intä»£è¡¨çš„æ˜¯æ•°æ®ç±»å‹ï¼Œä¹Ÿè¦å¡«ä¼˜å…ˆé˜Ÿåˆ—ä¸­å­˜å‚¨çš„æ•°æ®ç±»å‹\n\n\n\n\nåŸºç¡€å†™æ³•ï¼ˆéå¸¸å¸¸ç”¨ï¼‰ï¼š\npriority_queue&lt;int&gt; q1; // é»˜è®¤å¤§æ ¹å †, å³æ¯æ¬¡å–å‡ºçš„å…ƒç´ æ˜¯é˜Ÿåˆ—ä¸­çš„æœ€å¤§å€¼priority_queue&lt;int, vector&lt;int&gt;, less&lt;int&gt; &gt; q2; // å¤§æ ¹å †, æ¯æ¬¡å–å‡ºçš„å…ƒç´ æ˜¯é˜Ÿåˆ—ä¸­çš„æœ€å¤§å€¼ï¼ŒåŒç¬¬ä¸€è¡Œpriority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt; &gt; q3; // å°æ ¹å †, æ¯æ¬¡å–å‡ºçš„å…ƒç´ æ˜¯é˜Ÿåˆ—ä¸­çš„æœ€å°å€¼\n\nè‡ªå®šä¹‰æ’åºï¼ˆä¸å¸¸è§ï¼Œä¸»è¦æ˜¯å†™ç€éº»çƒ¦ï¼‰ï¼š\nä¸‹é¢çš„ä»£ç æ¯”è¾ƒé•¿ï¼ŒåŸºç¡€ç±»å‹ä¼˜å…ˆçº§å†™ç€å¤ªéº»çƒ¦ï¼Œç”¨åŸºç¡€å†™æ³•å³å¯ã€‚\nstruct cmp1 &#123;\tbool operator()(int x, int y) &#123;\t\treturn x &gt; y;\t&#125;&#125;;struct cmp2 &#123;\tbool operator()(const int x, const int y) &#123;\t\treturn x &lt; y;\t&#125;&#125;;priority_queue&lt;int, vector&lt;int&gt;, cmp1&gt; q1; // å°æ ¹å †priority_queue&lt;int, vector&lt;int&gt;, cmp2&gt; q2; // å¤§æ ¹å †\n\né«˜çº§æ•°æ®ç±»å‹(ç»“æ„ä½“)ä¼˜å…ˆçº§\nå³ä¼˜å…ˆé˜Ÿåˆ—ä¸­å­˜å‚¨ç»“æ„ä½“ç±»å‹ï¼Œå¿…é¡»è¦è®¾ç½®ä¼˜å…ˆçº§ï¼Œå³ç»“æ„ä½“çš„æ¯”è¾ƒè¿ç®—ï¼ˆå› ä¸ºä¼˜å…ˆé˜Ÿåˆ—çš„å †ä¸­è¦æ¯”è¾ƒå¤§å°ï¼Œæ‰èƒ½å°†å¯¹åº”æœ€å¤§æˆ–è€…æœ€å°å…ƒç´ ç§»åˆ°å †é¡¶ï¼‰ã€‚\n\nä¼˜å…ˆçº§è®¾ç½®å¯ä»¥å®šä¹‰åœ¨ç»“æ„ä½“å†…è¿›è¡Œå°äºå·é‡è½½ï¼Œä¹Ÿå¯ä»¥å®šä¹‰åœ¨ç»“æ„ä½“å¤–ã€‚\n//è¦æ’åºçš„ç»“æ„ä½“ï¼ˆå­˜å‚¨åœ¨ä¼˜å…ˆé˜Ÿåˆ—é‡Œé¢çš„ï¼‰struct Point &#123;\tint x, y;&#125;;\n\n\nç‰ˆæœ¬ä¸€ï¼šè‡ªå®šä¹‰å…¨å±€æ¯”è¾ƒè§„åˆ™\n//å®šä¹‰çš„æ¯”è¾ƒç»“æ„ä½“//æ³¨æ„ï¼šcmpæ˜¯ä¸ªç»“æ„ä½“ struct cmp &#123;//è‡ªå®šä¹‰å †çš„æ’åºè§„åˆ™ \tbool operator()(const Point&amp; a,const Point&amp; b) &#123;\t\treturn a.x &lt; b.x;\t&#125;&#125;;//åˆå§‹åŒ–å®šä¹‰ï¼Œ priority_queue&lt;Point, vector&lt;Point&gt;, cmp&gt; q; // xå¤§çš„åœ¨å †é¡¶\n\nç‰ˆæœ¬äºŒï¼šç›´æ¥åœ¨ç»“æ„ä½“é‡Œé¢å†™\n\nå› ä¸ºæ˜¯åœ¨ç»“æ„ä½“å†…éƒ¨è‡ªå®šä¹‰çš„è§„åˆ™ï¼Œä¸€æ—¦éœ€è¦æ¯”è¾ƒç»“æ„ä½“ï¼Œè‡ªåŠ¨è°ƒç”¨ç»“æ„ä½“å†…éƒ¨é‡è½½è¿ç®—ç¬¦è§„åˆ™ã€‚\n\nç»“æ„ä½“å†…éƒ¨æœ‰ä¸¤ç§æ–¹å¼ï¼š\n\næ–¹å¼ä¸€ ï¼š\nstruct node &#123;\tint x, y;\tfriend bool operator &lt; (Point a, Point b) &#123;//ä¸ºä¸¤ä¸ªç»“æ„ä½“å‚æ•°ï¼Œç»“æ„ä½“è°ƒç”¨ä¸€å®šè¦å†™ä¸Šfriend\t\treturn a.x &lt; b.x;//æŒ‰xä»å°åˆ°å¤§æ’ï¼Œxå¤§çš„åœ¨å †é¡¶\t&#125;&#125;;\n\næ–¹å¼äºŒ ï¼šï¼ˆæ¨èæ­¤ç§ï¼‰\nstruct node &#123;    int x, y;    bool operator &lt; (const Point &amp;a) const &#123;//ç›´æ¥ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œä¸å¿…è¦å†™friend        return x &lt; a.x;//æŒ‰xå‡åºæ’åˆ—ï¼Œxå¤§çš„åœ¨å †é¡¶    &#125;&#125;;\n\nä¼˜å…ˆé˜Ÿåˆ—çš„å®šä¹‰\npriority_queue&lt;Point&gt; q;\n\næ³¨æ„ï¼š ä¼˜å…ˆé˜Ÿåˆ—è‡ªå®šä¹‰æ’åºè§„åˆ™å’Œsort()å‡½æ•°å®šä¹‰cmpå‡½æ•°å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯æœ€åè¿”å›çš„æƒ…å†µæ˜¯ç›¸åçš„ã€‚å³ç›¸åŒçš„ç¬¦å·ï¼Œæœ€åå®šä¹‰çš„æ’åˆ—é¡ºåºæ˜¯å®Œå…¨ç›¸åçš„ã€‚æ‰€ä»¥åªéœ€è¦è®°ä½sortçš„æ’åºè§„åˆ™å’Œä¼˜å…ˆé˜Ÿåˆ—çš„æ’åºè§„åˆ™æ˜¯ç›¸åçš„å°±å¯ä»¥äº†ã€‚\n\nå½“ç†è§£äº†å †çš„åŸç†å°±ä¼šå‘ç°ï¼Œå †è°ƒæ•´æ—¶æ¯”è¾ƒé¡ºåºæ˜¯å­©å­å’Œçˆ¶äº²èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæ˜¯ &gt; ï¼Œé‚£ä¹ˆå­©å­èŠ‚ç‚¹è¦å¤§äºçˆ¶äº²èŠ‚ç‚¹ï¼Œå †é¡¶è‡ªç„¶æ˜¯æœ€å°å€¼ã€‚\n\n\n\n\n\nå­˜å‚¨ç‰¹æ®Šç±»å‹çš„ä¼˜å…ˆçº§å­˜å‚¨pairç±»å‹\næ’åºè§„åˆ™ï¼šé»˜è®¤å…ˆå¯¹pairçš„firstè¿›è¡Œé™åºæ’åºï¼Œç„¶åå†å¯¹secondé™åºæ’åºå¯¹firstå…ˆæ’åºï¼Œå¤§çš„æ’åœ¨å‰é¢ï¼Œå¦‚æœfirstå…ƒç´ ç›¸åŒï¼Œå†å¯¹secondå…ƒç´ æ’åºï¼Œä¿æŒå¤§çš„åœ¨å‰é¢ã€‚\n#include&lt;bits/stdc++.h&gt;using namespace std;int main() &#123;    priority_queue&lt;pair&lt;int, int&gt; &gt;q;\tq.push(&#123;7, 8&#125;);\tq.push(&#123;7, 9&#125;);\tq.push(make_pair(8, 7));    while(!q.empty()) &#123;        cout &lt;&lt; q.top().first &lt;&lt; &quot; &quot; &lt;&lt; q.top().second &lt;&lt; &quot;\\n&quot;;        q.pop();    &#125;    return 0;&#125;\n\n\nç»“æœï¼š8 77 97 8\n\n\n\nmap æ˜ å°„ä»‹ç»æ˜ å°„ç±»ä¼¼äºå‡½æ•°çš„å¯¹åº”å…³ç³»ï¼Œæ¯ä¸ªxå¯¹åº”ä¸€ä¸ªyï¼Œè€Œmapæ˜¯æ¯ä¸ªé”®å¯¹åº”ä¸€ä¸ªå€¼ã€‚ä¼špythonçš„æœ‹å‹å­¦ä¹ åå°±ä¼šçŸ¥é“è¿™å’Œpythonçš„å­—å…¸éå¸¸ç±»ä¼¼ã€‚\n\næ¯”å¦‚è¯´ï¼šå­¦ä¹  å¯¹åº” çœ‹ä¹¦ï¼Œå­¦ä¹  æ˜¯é”®ï¼Œçœ‹ä¹¦ æ˜¯å€¼ã€‚å­¦ä¹ -&gt;çœ‹ä¹¦ç©è€ å¯¹åº” æ‰“æ¸¸æˆï¼Œç©è€ æ˜¯é”®ï¼Œæ‰“æ¸¸æˆ æ˜¯å€¼ã€‚ç©è€-&gt;æ‰“æ¸¸æˆ\n\n\nå¤´æ–‡ä»¶\n//å¤´æ–‡ä»¶#include&lt;map&gt;\n\nåˆå§‹åŒ–\n//åˆå§‹åŒ–å®šä¹‰map&lt;string, string&gt; mp;map&lt;string, int&gt; mp;map&lt;int, node&gt; mp;//nodeæ˜¯ç»“æ„ä½“ç±»å‹\n\n\nmapç‰¹æ€§ï¼šmapä¼šæŒ‰ç…§é”®çš„é¡ºåºä»å°åˆ°å¤§è‡ªåŠ¨æ’åºï¼Œé”®çš„ç±»å‹å¿…é¡»å¯ä»¥æ¯”è¾ƒå¤§å°\n\n\n\nå‡½æ•°æ–¹æ³•\n\n\nä»£ç \nå«ä¹‰\n\n\n\nmp.find(key)\nè¿”å›é”®ä¸ºkeyçš„æ˜ å°„çš„è¿­ä»£å™¨ $O(logN) $ æ³¨æ„ï¼šç”¨findå‡½æ•°æ¥å®šä½æ•°æ®å‡ºç°ä½ç½®ï¼Œå®ƒè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ã€‚å½“æ•°æ®å­˜åœ¨æ—¶ï¼Œè¿”å›æ•°æ®æ‰€åœ¨ä½ç½®çš„è¿­ä»£å™¨ï¼Œæ•°æ®ä¸å­˜åœ¨æ—¶ï¼Œè¿”å›mp.end ( )\n\n\nmp.erase(it)\nåˆ é™¤è¿­ä»£å™¨å¯¹åº”çš„é”®å’Œå€¼ O ( l o g N )\n\n\nmp.erase(key)\næ ¹æ®æ˜ å°„çš„é”®åˆ é™¤é”®å’Œå€¼ O ( l o g N )\n\n\nmp.erase(first,last)\nåˆ é™¤å·¦é—­å³å¼€åŒºé—´è¿­ä»£å™¨å¯¹åº”çš„é”®å’Œå€¼ O ( l a s t âˆ’ f i r s t )\n\n\nmp.size()\nè¿”å›æ˜ å°„çš„å¯¹æ•° O (1)\n\n\nmp.clear()\næ¸…ç©ºmapä¸­çš„æ‰€æœ‰å…ƒç´  O ( N )\n\n\nmp.insert()\næ’å…¥å…ƒç´ ï¼Œæ’å…¥æ—¶è¦æ„é€ é”®å€¼å¯¹\n\n\nmp.empty()\nå¦‚æœmapä¸ºç©ºï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å›false\n\n\nmp.begin()\nè¿”å›æŒ‡å‘mapç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ï¼ˆåœ°å€ï¼‰\n\n\nmp.end()\nè¿”å›æŒ‡å‘mapå°¾éƒ¨çš„è¿­ä»£å™¨ï¼ˆæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªåœ°å€ï¼‰\n\n\nmp.rbegin()\nè¿”å›æŒ‡å‘mapæœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ï¼ˆåœ°å€ï¼‰\n\n\nmp.rend()\nè¿”å›æŒ‡å‘mapç¬¬ä¸€ä¸ªå…ƒç´ å‰é¢(ä¸Šä¸€ä¸ªï¼‰çš„é€†å‘è¿­ä»£å™¨ï¼ˆåœ°å€ï¼‰\n\n\nmp.count(key)\næŸ¥çœ‹å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå› ä¸ºmapä¸­é”®æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥å­˜åœ¨è¿”å›1ï¼Œä¸å­˜åœ¨è¿”å›0\n\n\nmp.lower_bound()\nè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘é”®å€¼&gt;&#x3D; keyçš„ç¬¬ä¸€ä¸ªå…ƒç´ \n\n\nmp.upper_bound()\nè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘é”®å€¼&gt; keyçš„ç¬¬ä¸€ä¸ªå…ƒç´ \n\n\næ³¨æ„ä¸‹é¢è¯´æ˜éƒ¨åˆ†å‡½æ•°æ–¹æ³•çš„æ³¨æ„ç‚¹\n\næ³¨æ„ï¼šæŸ¥æ‰¾å…ƒç´ æ˜¯å¦å­˜åœ¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨â‘ mp.find() â‘¡ mp.count() â‘¢ mp[key]ä½†æ˜¯ç¬¬ä¸‰ç§æƒ…å†µï¼Œå¦‚æœä¸å­˜åœ¨å¯¹åº”çš„keyæ—¶ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªé”®å€¼å¯¹ï¼ˆäº§ç”Ÿä¸€ä¸ªé¢å¤–çš„é”®å€¼å¯¹ç©ºé—´ï¼‰æ‰€ä»¥ä¸ºäº†ä¸å¢åŠ é¢å¤–çš„ç©ºé—´è´Ÿæ‹…ï¼Œæœ€å¥½ä½¿ç”¨å‰ä¸¤ç§æ–¹æ³•\n\nè¿­ä»£å™¨è¿›è¡Œæ­£åå‘éå†\nmp.begin()å’Œmp.end()ç”¨æ³•ï¼š\nç”¨äºæ­£å‘éå†map\nmap&lt;int,int&gt; mp;mp[1] = 2;mp[2] = 3;mp[3] = 4;auto it = mp.begin();while(it != mp.end()) &#123;\tcout &lt;&lt; it-&gt;first &lt;&lt; &quot; &quot; &lt;&lt; it-&gt;second &lt;&lt; &quot;\\n&quot;;\tit ++;&#125;\n\nç»“æœï¼š\n1 22 33 4\n\nmp.rbegin()å’Œmp.rend()ç”¨æ³•ï¼š\nç”¨äºé€†å‘éå†map\nmap&lt;int,int&gt; mp;mp[1] = 2;mp[2] = 3;mp[3] = 4;auto it = mp.rbegin();while(it != mp.rend()) &#123;\tcout &lt;&lt; it-&gt;first &lt;&lt; &quot; &quot; &lt;&lt; it-&gt;second &lt;&lt; &quot;\\n&quot;;\tit ++;&#125;\n\nç»“æœï¼š\n3 42 31 2\n\näºŒåˆ†æŸ¥æ‰¾äºŒåˆ†æŸ¥æ‰¾lower_bound() upper_bound()\n\nmapçš„äºŒåˆ†æŸ¥æ‰¾ä»¥ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆå³é”®ä¸ºå‡†ï¼‰ï¼Œå¯¹é”®è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾è¿”å›å€¼ä¸ºmapè¿­ä»£å™¨ç±»å‹\n\n#include&lt;bits/stdc++.h&gt;using namespace std;int main() &#123;\tmap&lt;int, int&gt; m&#123;&#123;1, 2&#125;, &#123;2, 2&#125;, &#123;1, 2&#125;, &#123;8, 2&#125;, &#123;6, 2&#125;&#125;;//æœ‰åº\tmap&lt;int, int&gt;::iterator it1 = m.lower_bound(2);\tcout &lt;&lt; it1-&gt;first &lt;&lt; &quot;\\n&quot;;//it1-&gt;first=2\tmap&lt;int, int&gt;::iterator it2 = m.upper_bound(2);\tcout &lt;&lt; it2-&gt;first &lt;&lt; &quot;\\n&quot;;//it2-&gt;first=6\treturn 0;&#125;\n\næ·»åŠ å…ƒç´ //å…ˆå£°æ˜map&lt;string, string&gt; mp;\n\n\næ–¹å¼ä¸€ï¼š\nmp[&quot;å­¦ä¹ &quot;] = &quot;çœ‹ä¹¦&quot;;mp[&quot;ç©è€&quot;] = &quot;æ‰“æ¸¸æˆ&quot;;\n\næ–¹å¼äºŒï¼šæ’å…¥å…ƒç´ æ„é€ é”®å€¼å¯¹\nmp.insert(make_pair(&quot;vegetable&quot;,&quot;è”¬èœ&quot;));\n\næ–¹å¼ä¸‰ï¼š\nmp.insert(pair&lt;string,string&gt;(&quot;fruit&quot;,&quot;æ°´æœ&quot;));\n\næ–¹å¼å››:\nmp.insert(&#123;&quot;hahaha&quot;,&quot;wawawa&quot;&#125;);\n\nè®¿é—®å…ƒç´ ä¸‹æ ‡è®¿é—®(å¤§éƒ¨åˆ†æƒ…å†µç”¨äºè®¿é—®å•ä¸ªå…ƒç´ )\nmp[&quot;èœå“‡èœ&quot;] = &quot;å¼ºå“‡å¼º&quot;;cout &lt;&lt; mp[&quot;èœå“‡èœ&quot;] &lt;&lt; &quot;\\n&quot;;//åªæ˜¯ç®€å†™çš„ä¸€ä¸ªä¾‹å­ï¼Œç¨‹åºå¹¶ä¸å®Œæ•´\n\néå†è®¿é—®\næ–¹å¼ä¸€ï¼šè¿­ä»£å™¨è®¿é—®\nmap&lt;string,string&gt;::iterator it;for(it = mp.begin(); it != mp.end(); it++) &#123;\t//      é”®                 å€¼ \t// itæ˜¯ç»“æ„ä½“æŒ‡é’ˆè®¿é—®æ‰€ä»¥è¦ç”¨ -&gt; è®¿é—®\tcout &lt;&lt; it-&gt;first &lt;&lt; &quot; &quot; &lt;&lt; it-&gt;second &lt;&lt; &quot;\\n&quot;;\t//*itæ˜¯ç»“æ„ä½“å˜é‡ è®¿é—®è¦ç”¨ . è®¿é—®\t//cout&lt;&lt;(*it).first&lt;&lt;&quot; &quot;&lt;&lt;(*it).second;&#125;\n\næ–¹å¼äºŒï¼šæ™ºèƒ½æŒ‡é’ˆè®¿é—®\nfor(auto i : mp)cout &lt;&lt; i.first &lt;&lt; &quot; &quot; &lt;&lt; i.second &lt;&lt; endl;//é”®ï¼Œå€¼\n\næ–¹å¼ä¸‰ï¼šå¯¹æŒ‡å®šå•ä¸ªå…ƒç´ è®¿é—®\nmap&lt;char,int&gt;::iterator it = mp.find(&#x27;a&#x27;);cout &lt;&lt; it -&gt; first &lt;&lt; &quot; &quot; &lt;&lt;  it-&gt;second &lt;&lt; &quot;\\n&quot;;\n\næ–¹å¼å››ï¼šc++17ç‰¹æ€§æ‰å…·æœ‰\nfor(auto [x, y] : mp)\tcout &lt;&lt; x &lt;&lt; &quot; &quot; &lt;&lt; y &lt;&lt; &quot;\\n&quot;;//x,yå¯¹åº”é”®å’Œå€¼\n\nä¸unordered_mapçš„æ¯”è¾ƒè¿™é‡Œå°±ä¸å•å¼€ä¸€ä¸ªå¤§ç›®å½•è®²unordered_mapäº†ï¼Œç›´æ¥åœ¨mapé‡Œé¢è®²äº†ã€‚\nå†…éƒ¨å®ç°åŸç†mapï¼šå†…éƒ¨ç”¨çº¢é»‘æ ‘å®ç°ï¼Œå…·æœ‰è‡ªåŠ¨æ’åºï¼ˆæŒ‰é”®ä»å°åˆ°å¤§ï¼‰åŠŸèƒ½ã€‚\nunordered_mapï¼šå†…éƒ¨ç”¨å“ˆå¸Œè¡¨å®ç°ï¼Œå†…éƒ¨å…ƒç´ æ— åºæ‚ä¹±ã€‚\næ•ˆç‡æ¯”è¾ƒmapï¼š\n\nä¼˜ç‚¹ï¼šå†…éƒ¨ç”¨çº¢é»‘æ ‘å®ç°ï¼Œå†…éƒ¨å…ƒç´ å…·æœ‰æœ‰åºæ€§ï¼ŒæŸ¥è¯¢åˆ é™¤ç­‰æ“ä½œå¤æ‚åº¦ä¸ºO ( l o g N)\nç¼ºç‚¹ï¼šå ç”¨ç©ºé—´ï¼Œçº¢é»‘æ ‘é‡Œæ¯ä¸ªèŠ‚ç‚¹éœ€è¦ä¿å­˜çˆ¶å­èŠ‚ç‚¹å’Œçº¢é»‘æ€§è´¨ç­‰ä¿¡æ¯ï¼Œç©ºé—´å ç”¨è¾ƒå¤§ã€‚\n\nunordered_mapï¼š\n\nä¼˜ç‚¹ï¼šå†…éƒ¨ç”¨å“ˆå¸Œè¡¨å®ç°ï¼ŒæŸ¥æ‰¾é€Ÿåº¦éå¸¸å¿«ï¼ˆé€‚ç”¨äºå¤§é‡çš„æŸ¥è¯¢æ“ä½œï¼‰ã€‚\nç¼ºç‚¹ï¼šå»ºç«‹å“ˆå¸Œè¡¨æ¯”è¾ƒè€—æ—¶ã€‚\n\n\nä¸¤è€…æ–¹æ³•å‡½æ•°åŸºæœ¬ä¸€æ ·ï¼Œå·®åˆ«ä¸å¤§ã€‚\næ³¨æ„ï¼š\n\néšç€å†…éƒ¨å…ƒç´ è¶Šæ¥è¶Šå¤šï¼Œä¸¤ç§å®¹å™¨çš„æ’å…¥åˆ é™¤æŸ¥è¯¢æ“ä½œçš„æ—¶é—´éƒ½ä¼šé€æ¸å˜å¤§ï¼Œæ•ˆç‡é€æ¸å˜ä½ã€‚\n\nä½¿ç”¨[]æŸ¥æ‰¾å…ƒç´ æ—¶ï¼Œå¦‚æœå…ƒç´ ä¸å­˜åœ¨ï¼Œä¸¤ç§å®¹å™¨éƒ½æ˜¯åˆ›å»ºä¸€ä¸ªç©ºçš„å…ƒç´ ï¼›å¦‚æœå­˜åœ¨ï¼Œä¼šæ­£å¸¸ç´¢å¼•å¯¹åº”çš„å€¼ã€‚æ‰€ä»¥å¦‚æœæŸ¥è¯¢è¿‡å¤šçš„ä¸å­˜åœ¨çš„å…ƒç´ å€¼ï¼Œå®¹å™¨å†…éƒ¨ä¼šåˆ›å»ºå¤§é‡çš„ç©ºçš„é”®å€¼å¯¹ï¼Œåç»­æŸ¥è¯¢åˆ›å»ºåˆ é™¤æ•ˆç‡ä¼šå¤§å¤§é™ä½ã€‚\n\næŸ¥è¯¢å®¹å™¨å†…éƒ¨å…ƒç´ çš„æœ€ä¼˜æ–¹æ³•æ˜¯ï¼šå…ˆåˆ¤æ–­å­˜åœ¨ä¸å¦ï¼Œå†ç´¢å¼•å¯¹åº”å€¼ï¼ˆé€‚ç”¨äºè¿™ä¸¤ç§å®¹å™¨ï¼‰\n// ä»¥ map ä¸ºä¾‹map&lt;int, int&gt; mp;int x = 999999999;if(mp.count(x)) // æ­¤å¤„åˆ¤æ–­æ˜¯å¦å­˜åœ¨xè¿™ä¸ªé”®    cout &lt;&lt; mp[x] &lt;&lt; &quot;\\n&quot;;   // åªæœ‰å­˜åœ¨æ‰ä¼šç´¢å¼•å¯¹åº”çš„å€¼ï¼Œé¿å…ä¸å­˜åœ¨xæ—¶å¤šä½™ç©ºå…ƒç´ çš„åˆ›å»º\n\n\nå¦å¤–ï¼š\n\nè¿˜æœ‰ä¸€ç§æ˜ å°„ï¼šmultimap\né”®å¯ä»¥é‡å¤ï¼Œå³ä¸€ä¸ªé”®å¯¹åº”å¤šä¸ªå€¼ï¼Œå¦‚è¦äº†è§£ï¼Œå¯ä»¥è‡ªè¡Œæœç´¢ã€‚\n\nset é›†åˆä»‹ç»setå®¹å™¨ä¸­çš„å…ƒç´ ä¸ä¼šé‡å¤ï¼Œå½“æ’å…¥é›†åˆä¸­å·²æœ‰çš„å…ƒç´ æ—¶ï¼Œå¹¶ä¸ä¼šæ’å…¥è¿›å»ï¼Œè€Œä¸”setå®¹å™¨é‡Œçš„å…ƒç´ è‡ªåŠ¨ä»å°åˆ°å¤§æ’åºã€‚\nå³ï¼šseté‡Œé¢çš„å…ƒç´ ä¸é‡å¤ ä¸”æœ‰åº\n\nå¤´æ–‡ä»¶\n//å¤´æ–‡ä»¶#include&lt;set&gt;\n\nåˆå§‹åŒ–\n//åˆå§‹åŒ–å®šä¹‰set&lt;int&gt; s;\n\nå‡½æ•°æ–¹æ³•\n\n\nä»£ç \nå«ä¹‰\n\n\n\ns.begin()\nè¿”å›setå®¹å™¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„åœ°å€ï¼ˆè¿­ä»£å™¨ï¼‰O ( 1 )\n\n\ns.end()\nè¿”å›setå®¹å™¨çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªåœ°å€ï¼ˆè¿­ä»£å™¨ï¼‰O ( 1 )\n\n\ns.rbegin()\nè¿”å›é€†åºè¿­ä»£å™¨ï¼ŒæŒ‡å‘å®¹å™¨å…ƒç´ æœ€åä¸€ä¸ªä½ç½®O ( 1 )\n\n\ns.rend()\nè¿”å›é€†åºè¿­ä»£å™¨ï¼ŒæŒ‡å‘å®¹å™¨ç¬¬ä¸€ä¸ªå…ƒç´ å‰é¢çš„ä½ç½®O ( 1 )\n\n\ns.clear()\nåˆ é™¤setå®¹å™¨ä¸­çš„æ‰€æœ‰çš„å…ƒç´ \n\n\ns.empty()\nåˆ¤æ–­setå®¹å™¨æ˜¯å¦ä¸ºç©ºO ( 1 )\n\n\ns.insert()\næ’å…¥ä¸€ä¸ªå…ƒç´ \n\n\ns.size()\nè¿”å›å½“å‰setå®¹å™¨ä¸­çš„å…ƒç´ ä¸ªæ•°O ( 1 )\n\n\nerase(iterator)\nåˆ é™¤å®šä½å™¨iteratoræŒ‡å‘çš„å€¼\n\n\nerase(first,secondï¼‰\nåˆ é™¤å®šä½å™¨firstå’Œsecondä¹‹é—´çš„å€¼\n\n\nerase(key_value)\nåˆ é™¤é”®å€¼key_valueçš„å€¼\n\n\ns.find(element)\næŸ¥æ‰¾setä¸­çš„æŸä¸€å…ƒç´ ï¼Œæœ‰åˆ™è¿”å›è¯¥å…ƒç´ å¯¹åº”çš„è¿­ä»£å™¨ï¼Œæ— åˆ™è¿”å›ç»“æŸè¿­ä»£å™¨\n\n\ns.count(element)\næŸ¥æ‰¾setä¸­çš„å…ƒç´ å‡ºç°çš„ä¸ªæ•°ï¼Œç”±äºsetä¸­å…ƒç´ å”¯ä¸€ï¼Œæ­¤å‡½æ•°ç›¸å½“äºæŸ¥è¯¢elementæ˜¯å¦å‡ºç°\n\n\ns.lower_bound(k)\nè¿”å›&gt;&#x3D;kçš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨O ( l o g N )\n\n\ns.upper_bound(k)\nè¿”å›&gt;kçš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨O ( l o g N )\n\n\nè®¿é—®\nè¿­ä»£å™¨è®¿é—®\nfor(set&lt;int&gt;::iterator it = s.begin(); it != s.end(); it++)\tcout &lt;&lt; *it &lt;&lt; &quot; &quot;;\n\næ™ºèƒ½æŒ‡é’ˆ\nfor(auto i : s)\tcout &lt;&lt; i &lt;&lt; endl;\n\nè®¿é—®æœ€åä¸€ä¸ªå…ƒç´ \n//ç¬¬ä¸€ç§cout &lt;&lt; *s.rbegin() &lt;&lt; endl;\n\n //ç¬¬äºŒç§set&lt;int&gt;::iterator iter = s.end();iter--;cout &lt;&lt; (*iter) &lt;&lt; endl; //æ‰“å°2;\n\n//ç¬¬ä¸‰ç§cout &lt;&lt; *(--s.end()) &lt;&lt; endl;\n\né‡è½½&lt;è¿ç®—ç¬¦\nåŸºç¡€æ•°æ®ç±»å‹\næ–¹å¼ä¸€ï¼šæ”¹å˜setæ’åºè§„åˆ™ï¼Œsetä¸­é»˜è®¤ä½¿ç”¨lessæ¯”è¾ƒå™¨ï¼Œå³ä»å°åˆ°å¤§æ’åºã€‚ï¼ˆå¸¸ç”¨ï¼‰\nset&lt;int&gt; s1; // é»˜è®¤ä»å°åˆ°å¤§æ’åºset&lt;int, greater&lt;int&gt; &gt; s2; // ä»å¤§åˆ°å°æ’åº\n\næ–¹å¼äºŒï¼šé‡è½½è¿ç®—ç¬¦ã€‚ï¼ˆå¾ˆéº»çƒ¦ï¼Œä¸å¤ªå¸¸ç”¨ï¼Œæ²¡å¿…è¦ï¼‰\n//é‡è½½ &lt; è¿ç®—ç¬¦struct cmp &#123;    bool operator () (const int&amp; u, const int&amp; v) const &#123;       // return + è¿”å›æ¡ä»¶       return u &gt; v;    &#125;&#125;;set&lt;int, cmp&gt; s; for(int i = 1; i &lt;= 10; i++)    s.insert(i);for(auto i : s)    cout &lt;&lt; i &lt;&lt; &quot; &quot;;// 10 9 8 7 6 5 4 3 2 1\n\næ–¹å¼ä¸‰ï¼šåˆå§‹åŒ–æ—¶ä½¿ç”¨åŒ¿åå‡½æ•°å®šä¹‰æ¯”è¾ƒè§„åˆ™\nset&lt;int, function&lt;bool(int, int)&gt;&gt; s([&amp;](int i, int j)&#123;    return i &gt; j; // ä»å¤§åˆ°å°&#125;);for(int i = 1; i &lt;= 10; i++)    s.insert(i);for(auto x : s)    cout &lt;&lt; x &lt;&lt; &quot; &quot;;\n\né«˜çº§æ•°æ®ç±»å‹ï¼ˆç»“æ„ä½“ï¼‰\nç›´æ¥é‡è½½ç»“æ„ä½“è¿ç®—ç¬¦å³å¯ï¼Œè®©ç»“æ„ä½“å¯ä»¥æ¯”è¾ƒã€‚\nstruct Point &#123;\tint x, y;\tbool operator &lt; (const Point &amp;p) const &#123;\t\t// æŒ‰ç…§ç‚¹çš„æ¨ªåæ ‡ä»å°åˆ°å¤§æ’åº,å¦‚æœæ¨ªåæ ‡ç›¸åŒ,çºµåæ ‡ä»å°åˆ°å¤§\t\tif(x == p.x)\t\t\treturn y &lt; p.y;\t\treturn x &lt; p.x;\t&#125;&#125;;set&lt;Point&gt; s;for(int i = 1; i &lt;= 5; i++) &#123;    int x, y;    cin &gt;&gt; x &gt;&gt; y;    s.insert(&#123;x, y&#125;);&#125;\t/* è¾“å…¥5 45 23 73 54 8*/for(auto i : s)    cout &lt;&lt; i.x &lt;&lt; &quot; &quot; &lt;&lt; i.y &lt;&lt; &quot;\\n&quot;;/* è¾“å‡º3 53 74 85 25 4*/\n\nå…¶å®ƒsetmultiset:å…ƒç´ å¯ä»¥é‡å¤ï¼Œä¸”å…ƒç´ æœ‰åº\nunordered_set ï¼šå…ƒç´ æ— åºä¸”åªèƒ½å‡ºç°ä¸€æ¬¡\nunordered_multiset ï¼š å…ƒç´ æ— åºå¯ä»¥å‡ºç°å¤šæ¬¡\npair äºŒå…ƒç»„ä»‹ç»pairåªå«æœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œå¯ä»¥çœ‹ä½œæ˜¯åªæœ‰ä¸¤ä¸ªå…ƒç´ çš„ç»“æ„ä½“ã€‚\nåº”ç”¨ï¼š\n\nå¤´æ–‡ä»¶\n//å¤´æ–‡ä»¶#include&lt;utility&gt;\n\nåˆå§‹åŒ–\n//1.åˆå§‹åŒ–å®šä¹‰pair&lt;string, int&gt; p(&quot;zenith32&quot;,1);//å¸¦åˆå§‹å€¼çš„pair&lt;string, int&gt; p;//ä¸å¸¦åˆå§‹å€¼çš„\n\nèµ‹å€¼\n//2.èµ‹å€¼p = &#123;&quot;zenith32&quot;, 18&#125;;p = make_pair(&quot;zenith32&quot;, 18);p = pair&lt;string, int&gt;(&quot;zenith32&quot;, 18);\n\nä»£æ›¿äºŒå…ƒç»“æ„ä½“\n\nä½œä¸ºmapé”®å€¼å¯¹è¿›è¡Œæ’å…¥ï¼ˆä»£ç å¦‚ä¸‹ï¼‰\nmap&lt;string, int&gt; mp;mp.insert(pair&lt;string, int&gt;(&quot;zenith32&quot;,1));// mp.insert(make_pair(&quot;zenith32&quot;, 1));// mp.insert(&#123;&quot;zenith32&quot;, 1&#125;);\n\nè®¿é—®//å®šä¹‰ç»“æ„ä½“æ•°ç»„pair&lt;int,int&gt; p[20];for(int i = 0; i &lt; 20; i++) &#123;\t//å’Œç»“æ„ä½“ç±»ä¼¼ï¼Œfirstä»£è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œsecondä»£è¡¨ç¬¬äºŒä¸ªå…ƒç´ \tcout &lt;&lt; p[i].first &lt;&lt; &quot; &quot; &lt;&lt; p[i].second;&#125;\n\nstring å­—ç¬¦ä¸²ä»‹ç»stringæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»ï¼Œå’Œcharå‹å­—ç¬¦ä¸²ç±»ä¼¼ã€‚\nå¯ä»¥æŠŠstringç†è§£ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ï¼Œåƒintä¸€æ ·å¯ä»¥å®šä¹‰\nåˆå§‹åŒ–åŠå®šä¹‰\nå¤´æ–‡ä»¶\n//å¤´æ–‡ä»¶#include&lt;string&gt;\n\nåˆå§‹åŒ–\n//1.string str1; //ç”Ÿæˆç©ºå­—ç¬¦ä¸²//2.string str2(&quot;123456789&quot;); //ç”Ÿæˆ&quot;123456789&quot;çš„å¤åˆ¶å“ //3.string str3(&quot;12345&quot;, 0, 3);//ç»“æœä¸º&quot;123&quot; ï¼Œä»0ä½ç½®å¼€å§‹ï¼Œé•¿åº¦ä¸º3//4.string str4(&quot;123456&quot;, 5); //ç»“æœä¸º&quot;12345&quot; ï¼Œé•¿åº¦ä¸º5//5.string str5(5, &#x27;2&#x27;); //ç»“æœä¸º&quot;22222&quot; ,æ„é€ 5ä¸ªå­—ç¬¦&#x27;2&#x27;è¿æ¥è€Œæˆçš„å­—ç¬¦ä¸²//6.string str6(str2, 2); //ç»“æœä¸º&quot;3456789&quot;ï¼Œæˆªå–ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼ˆ2å¯¹åº”ç¬¬ä¸‰ä½ï¼‰åˆ°æœ€å\n\nè®¿é—®å•ä¸ªå­—ç¬¦ï¼š\n#include&lt;iostream&gt;#include&lt;string&gt;using namespace std;int main() &#123;\tstring s = &quot;zenith!!!&quot;;\tfor(int i = 0; i &lt; s.size(); i++)\t\tcout &lt;&lt; s[i] &lt;&lt; &quot; &quot;;\treturn 0;&#125;\n\nstringæ•°ç»„ä½¿ç”¨ï¼š\n#include&lt;iostream&gt;#include&lt;string&gt;using namespace std;int main() &#123;\tstring s[10];\tfor(int i = 1; i &lt; 10; i++) &#123;\t\ts[i] = &quot;loading...  &quot; ;\t\tcout &lt;&lt; s[i] &lt;&lt; i &lt;&lt; &quot;\\n&quot;;\t&#125; \treturn 0;&#125;//ç»“æœ://loading...  1//loading...  2//loading...  3//loading...  4//loading...  5//loading...  6//loading...  7//loading...  8//loading...  9\n\nstring ç‰¹æ€§\næ”¯æŒæ¯”è¾ƒè¿ç®—ç¬¦\nstringå­—ç¬¦ä¸²æ”¯æŒå¸¸è§çš„æ¯”è¾ƒæ“ä½œç¬¦ï¼ˆ&gt;,&gt;&#x3D;,&lt;,&lt;&#x3D;,&#x3D;&#x3D;,!&#x3D;ï¼‰ï¼Œæ”¯æŒstringä¸C-stringçš„æ¯”è¾ƒï¼ˆå¦‚ str &lt; â€œhelloâ€ï¼‰ã€‚\nåœ¨ä½¿ç”¨&gt;,&gt;&#x3D;,&lt;,&lt;&#x3D;è¿™äº›æ“ä½œç¬¦çš„æ—¶å€™æ˜¯æ ¹æ®â€œå½“å‰å­—ç¬¦ç‰¹æ€§â€å°†å­—ç¬¦æŒ‰ å­—å…¸é¡ºåº è¿›è¡Œé€ä¸€å¾— æ¯”è¾ƒã€‚å­—å…¸æ’åºé å‰çš„å­—ç¬¦å°ï¼Œ æ¯”è¾ƒçš„é¡ºåºæ˜¯ä»å‰å‘åæ¯”è¾ƒï¼Œé‡åˆ°ä¸ç›¸ç­‰çš„å­—ç¬¦å°±æŒ‰è¿™ä¸ªä½ç½®ä¸Šçš„ä¸¤ä¸ªå­—ç¬¦çš„æ¯”è¾ƒç»“æœç¡®å®šä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°ï¼ˆå‰é¢å‡åé¢ï¼‰ã€‚\nåŒæ—¶ï¼Œstring (&quot;aaaa&quot;) &lt;string(&quot;aaaaa&quot;)ã€‚\n\næ”¯æŒ+è¿ç®—ç¬¦ï¼Œä»£è¡¨æ‹¼æ¥å­—ç¬¦ä¸²stringå­—ç¬¦ä¸²å¯ä»¥æ‹¼æ¥ï¼Œé€šè¿‡â€+â€è¿ç®—ç¬¦è¿›è¡Œæ‹¼æ¥ã€‚\nstring s1 = &quot;123&quot;;string s2 = &quot;456&quot;;string s = s1 + s2;cout &lt;&lt; s;   //123456\n\nè¯»å…¥è¯¦è§£è¯»å…¥å­—ç¬¦ä¸²ï¼Œé‡ç©ºæ ¼ï¼Œå›è½¦ç»“æŸ\nstring s;cin &gt;&gt; s;\n\nè¯»å…¥ä¸€è¡Œå­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰ï¼Œé‡å›è½¦ç»“æŸ\nstring s;getline(cin, s);\n\næ³¨æ„: getline(cin, s)ä¼šè·å–å‰ä¸€ä¸ªè¾“å…¥çš„æ¢è¡Œç¬¦ï¼Œéœ€è¦åœ¨å‰é¢æ·»åŠ è¯»å–æ¢è¡Œç¬¦çš„è¯­å¥ã€‚å¦‚ï¼šgetchar() æˆ– cin.get()\né”™è¯¯è¯»å–ï¼š\nint n;string s;cin &gt;&gt; n;getline(cin, s); //æ­¤æ—¶è¯»å–ç›¸å½“äºè¯»å–äº†å‰ä¸€ä¸ªå›è½¦å­—ç¬¦\n\næ­£ç¡®è¯»å–ï¼š\nint n;string s;cin &gt;&gt; n;getchar(); //cin.get() è¯»å–å‰ä¸€ä¸ªå›è½¦å­—ç¬¦getline(cin, s);//å¯æ­£ç¡®è¯»å…¥ä¸‹ä¸€è¡Œçš„è¾“å…¥\n\n\ncinä¸cin.getline()æ··ç”¨\ncinè¾“å…¥å®Œåï¼Œå›è½¦ï¼Œciné‡åˆ°å›è½¦ç»“æŸè¾“å…¥ï¼Œä½†å›è½¦è¿˜åœ¨è¾“å…¥æµä¸­ï¼Œcinå¹¶ä¸ä¼šæ¸…é™¤ï¼Œå¯¼è‡´getline()è¯»å–å›è½¦ï¼Œç»“æŸã€‚éœ€è¦åœ¨cinåé¢åŠ cin.ignore()ï¼›ä¸»åŠ¨åˆ é™¤è¾“å…¥æµä¸­çš„æ¢è¡Œç¬¦ã€‚ï¼ˆä¸å¸¸ç”¨ï¼‰\n\ncinå’Œcoutè§£é”\nä»£ç ï¼ˆå†™åœ¨mainå‡½æ•°å¼€å¤´ï¼‰ï¼š\nios::sync_with_stdio(false);cin.tie(0),cout.tie(0);\n\n\nä¸ºä»€ä¹ˆè¦è¿›è¡Œcinå’Œcoutçš„è§£é”ï¼ŒåŸå› æ˜¯ï¼š\nåœ¨ä¸€äº›é¢˜ç›®ä¸­ï¼Œè¯»å…¥çš„æ•°æ®é‡å¾ˆå¤§ï¼Œå¾€å¾€è¶…è¿‡äº†1e5ï¼ˆ105ï¼‰çš„æ•°æ®é‡,è€Œcinå’Œcoutçš„è¯»å…¥è¾“å‡ºçš„é€Ÿåº¦å¾ˆæ…¢ï¼ˆæ˜¯å› ä¸ºcinå’Œcoutä¸ºäº†å…¼å®¹Cè¯­è¨€çš„è¯»å…¥è¾“å‡ºåœ¨æ€§èƒ½ä¸Šåšäº†å¦¥åï¼‰ï¼Œè¿œä¸å¦‚scanfå’Œprintfçš„é€Ÿåº¦ï¼Œå…·ä½“åŸå› å¯ä»¥æœç´¢ç›¸å…³çš„åšå®¢è¿›è¡Œäº†è§£ã€‚\næ‰€ä»¥å¯¹cinå’Œcoutè¿›è¡Œè§£é”ä½¿cinå’Œcoutçš„é€Ÿåº¦å‡ ä¹æ¥è¿‘scanfå’Œprintfï¼Œé¿å…è¾“å…¥è¾“å‡ºè¶…æ—¶ã€‚\n\næ³¨æ„ï¼šcin coutè§£é”ä½¿ç”¨æ—¶ï¼Œä¸èƒ½ä¸ scanf,getchar, printf,cin.getline()æ··ç”¨ï¼Œä¸€å®šè¦æ³¨æ„ï¼Œä¼šå‡ºé”™ã€‚\n\nstringä¸Cè¯­è¨€å­—ç¬¦ä¸²ï¼ˆC-stringï¼‰çš„åŒºåˆ«\nstringæ˜¯C++çš„ä¸€ä¸ªç±»ï¼Œä¸“é—¨å®ç°å­—ç¬¦ä¸²çš„ç›¸å…³æ“ä½œã€‚å…·æœ‰ä¸°å¯Œçš„æ“ä½œæ–¹æ³•ï¼Œæ•°æ®ç±»å‹ä¸ºstringï¼Œå­—ç¬¦ä¸²ç»“å°¾æ²¡æœ‰\\0å­—ç¬¦C-stringCè¯­è¨€ä¸­çš„å­—ç¬¦ä¸²ï¼Œç”¨charæ•°ç»„å®ç°ï¼Œç±»å‹ä¸ºconst char *,å­—ç¬¦ä¸²ç»“å°¾ä»¥\\0ç»“å°¾\n\nä¸€èˆ¬æ¥è¯´stringå‘charæ•°ç»„è½¬æ¢ä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œæ‰€ä»¥ä¸ºäº†èƒ½å¤Ÿå®ç°è½¬æ¢ï¼Œstringæœ‰ä¸€ä¸ªæ–¹æ³•c_str()å®ç°stringå‘charæ•°ç»„çš„è½¬æ¢ã€‚\nstring s = &quot;zenith&quot;;const char *s2 = s.c_str();\n\nå‡½æ•°æ–¹æ³•\nè·å–å­—ç¬¦ä¸²é•¿åº¦\n\n\n\nä»£ç \nå«ä¹‰\n\n\n\ns.size()å’Œs.length()\nè¿”å›stringå¯¹è±¡çš„å­—ç¬¦ä¸ªæ•°ï¼Œä»–ä»¬æ‰§è¡Œæ•ˆæœç›¸åŒã€‚\n\n\ns.max_size()\nè¿”å›stringå¯¹è±¡æœ€å¤šåŒ…å«çš„å­—ç¬¦æ•°ï¼Œè¶…å‡ºä¼šæŠ›å‡ºlength_errorå¼‚å¸¸\n\n\ns.capacity()\né‡æ–°åˆ†é…å†…å­˜ä¹‹å‰ï¼Œstringå¯¹è±¡èƒ½åŒ…å«çš„æœ€å¤§å­—ç¬¦æ•°\n\n\n\næ’å…¥\n\n\n\nä»£ç \nå«ä¹‰\n\n\n\ns.push_back(element)\nåœ¨æœ«å°¾æ’å…¥\n\n\ns.insert(pos,element)\nåœ¨posä½ç½®æ’å…¥element\n\n\ns.append(str)\nåœ¨så­—ç¬¦ä¸²ç»“å°¾æ·»åŠ strå­—ç¬¦ä¸²\n\n\nä¾‹\n\n\n\nä»£ç \nå«ä¹‰\n\n\n\ns.push_back(â€˜aâ€™)\næœ«å°¾æ’å…¥ä¸€ä¸ªå­—ç¬¦a\n\n\ns.insert(s.begin(),â€™1â€™)\nåœ¨ç¬¬ä¸€ä¸ªä½ç½®æ’å…¥1å­—ç¬¦\n\n\ns.append(â€œabcâ€)\nåœ¨så­—ç¬¦ä¸²æœ«å°¾æ·»åŠ å­—ç¬¦ä¸²â€œabcâ€\n\n\n\nåˆ é™¤\n\n\n\nä»£ç \nå«ä¹‰\n\n\n\nerase(iterator p)\nåˆ é™¤å­—ç¬¦ä¸²ä¸­pæ‰€æŒ‡çš„å­—ç¬¦\n\n\nerase(iterator first, iterator last)\nåˆ é™¤å­—ç¬¦ä¸²ä¸­è¿­ä»£å™¨åŒºé—´[first,last)ä¸Šæ‰€æœ‰å­—ç¬¦\n\n\nerase(pos, len)\nåˆ é™¤å­—ç¬¦ä¸²ä¸­ä»ç´¢å¼•ä½ç½®poså¼€å§‹çš„lenä¸ªå­—ç¬¦\n\n\nclear()\nåˆ é™¤å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—ç¬¦\n\n\n\nå­—ç¬¦æ›¿æ¢\n\n\n\nä»£ç \nå«ä¹‰\n\n\n\ns.replace(pos,n,str)\næŠŠå½“å‰å­—ç¬¦ä¸²ä»ç´¢å¼•poså¼€å§‹çš„nä¸ªå­—ç¬¦æ›¿æ¢ä¸ºstr\n\n\ns.replace(pos,n,n1,c)\næŠŠå½“å‰å­—ç¬¦ä¸²ä»ç´¢å¼•poså¼€å§‹çš„nä¸ªå­—ç¬¦æ›¿æ¢ä¸ºn1ä¸ªå­—ç¬¦c\n\n\ns.replace(it1,it2,str)\næŠŠå½“å‰å­—ç¬¦ä¸²[it1,it2)åŒºé—´æ›¿æ¢ä¸ºstr it1 ,it2ä¸ºè¿­ä»£å™¨ï¼ˆiteratorï¼‰\n\n\n\nå¤§å°å†™è½¬æ¢\næ³•ä¸€ï¼š\n\n\n\nä»£ç \nå«ä¹‰\n\n\n\ntolower(s[i])\nè½¬æ¢ä¸ºå°å†™\n\n\ntoupper(s[i])\nè½¬æ¢ä¸ºå¤§å†™\n\n\næ³•äºŒï¼š\né€šè¿‡stlçš„transformç®—æ³•é…åˆtolower å’Œtoupper å®ç°ã€‚æœ‰4ä¸ªå‚æ•°ï¼Œå‰2ä¸ªæŒ‡å®šè¦è½¬æ¢çš„å®¹å™¨çš„èµ·æ­¢èŒƒå›´ï¼Œç¬¬3ä¸ªå‚æ•°æ˜¯ç»“æœå­˜æ”¾å®¹å™¨çš„èµ·å§‹ä½ç½®ï¼Œç¬¬4ä¸ªå‚æ•°æ˜¯ä¸€å…ƒè¿ç®—ã€‚\nstring s;transform(s.begin(),s.end(),s.begin(),::tolower);//è½¬æ¢å°å†™transform(s.begin(),s.end(),s.begin(),::toupper);//è½¬æ¢å¤§å†™\n\nåˆ†å‰²\n\n\n\nä»£ç \nå«ä¹‰\n\n\n\ns.substr(pos,n)\næˆªå–ä»posç´¢å¼•å¼€å§‹çš„nä¸ªå­—ç¬¦\n\n\n\næŸ¥æ‰¾\n\n\n\nä»£ç \nå«ä¹‰\n\n\n\ns.find (str, pos)\nåœ¨å½“å‰å­—ç¬¦ä¸²çš„posç´¢å¼•ä½ç½®ï¼ˆé»˜è®¤ä¸º0ï¼‰å¼€å§‹ï¼ŒæŸ¥æ‰¾å­ä¸²strï¼Œè¿”å›æ‰¾åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œ-1è¡¨ç¤ºæŸ¥æ‰¾ä¸åˆ°å­ä¸²\n\n\ns.find (c, pos)\nåœ¨å½“å‰å­—ç¬¦ä¸²çš„posç´¢å¼•ä½ç½®ï¼ˆé»˜è®¤ä¸º0ï¼‰å¼€å§‹ï¼ŒæŸ¥æ‰¾å­—ç¬¦cï¼Œè¿”å›æ‰¾åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œ-1è¡¨ç¤ºæŸ¥æ‰¾ä¸åˆ°å­—ç¬¦\n\n\ns.rfind (str, pos)\nåœ¨å½“å‰å­—ç¬¦ä¸²çš„posç´¢å¼•ä½ç½®å¼€å§‹ï¼Œåå‘æŸ¥æ‰¾å­ä¸²sï¼Œè¿”å›æ‰¾åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œ-1è¡¨ç¤ºæŸ¥æ‰¾ä¸åˆ°å­ä¸²\n\n\ns.rfind (c,pos)\nåœ¨å½“å‰å­—ç¬¦ä¸²çš„posç´¢å¼•ä½ç½®å¼€å§‹ï¼Œåå‘æŸ¥æ‰¾å­—ç¬¦cï¼Œè¿”å›æ‰¾åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œ-1è¡¨ç¤ºæŸ¥æ‰¾ä¸åˆ°å­—ç¬¦\n\n\ns.find_first_of (str, pos)\nåœ¨å½“å‰å­—ç¬¦ä¸²çš„posç´¢å¼•ä½ç½®ï¼ˆé»˜è®¤ä¸º0ï¼‰å¼€å§‹ï¼ŒæŸ¥æ‰¾å­ä¸²sçš„å­—ç¬¦ï¼Œè¿”å›æ‰¾åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œ-1è¡¨ç¤ºæŸ¥æ‰¾ä¸åˆ°å­—ç¬¦\n\n\ns.find_first_not_of (str,pos)\nåœ¨å½“å‰å­—ç¬¦ä¸²çš„posç´¢å¼•ä½ç½®ï¼ˆé»˜è®¤ä¸º0ï¼‰å¼€å§‹ï¼ŒæŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸ä½äºå­ä¸²sçš„å­—ç¬¦ï¼Œè¿”å›æ‰¾åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œ-1è¡¨ç¤ºæŸ¥æ‰¾ä¸åˆ°å­—ç¬¦\n\n\ns.find_last_of(str, pos)\nåœ¨å½“å‰å­—ç¬¦ä¸²çš„posç´¢å¼•ä½ç½®å¼€å§‹ï¼ŒæŸ¥æ‰¾æœ€åä¸€ä¸ªä½äºå­ä¸²sçš„å­—ç¬¦ï¼Œè¿”å›æ‰¾åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œ-1è¡¨ç¤ºæŸ¥æ‰¾ä¸åˆ°å­—ç¬¦\n\n\ns.find_last_not_of ( str, pos)\nåœ¨å½“å‰å­—ç¬¦ä¸²çš„posç´¢å¼•ä½ç½®å¼€å§‹ï¼ŒæŸ¥æ‰¾æœ€åä¸€ä¸ªä¸ä½äºå­ä¸²sçš„å­—ç¬¦ï¼Œè¿”å›æ‰¾åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œ-1è¡¨ç¤ºæŸ¥æ‰¾ä¸åˆ°å­ä¸²\n\n\n#include&lt;string&gt;#include&lt;iostream&gt;int main() &#123;    string s(&quot;dog bird chicken bird cat&quot;);//å­—ç¬¦ä¸²æŸ¥æ‰¾-----æ‰¾åˆ°åè¿”å›é¦–å­—æ¯åœ¨å­—ç¬¦ä¸²ä¸­çš„ä¸‹æ ‡// 1. æŸ¥æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸²    cout &lt;&lt; s.find(&quot;chicken&quot;) &lt;&lt; endl;// ç»“æœæ˜¯ï¼š9    // 2. ä»ä¸‹æ ‡ä¸º6å¼€å§‹æ‰¾å­—ç¬¦&#x27;i&#x27;ï¼Œè¿”å›æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªiçš„ä¸‹æ ‡    cout &lt;&lt; s.find(&#x27;i&#x27;,6) &lt;&lt; endl;// ç»“æœæ˜¯ï¼š11    // 3. ä»å­—ç¬¦ä¸²çš„æœ«å°¾å¼€å§‹æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œè¿”å›çš„è¿˜æ˜¯é¦–å­—æ¯åœ¨å­—ç¬¦ä¸²ä¸­çš„ä¸‹æ ‡    cout &lt;&lt; s.rfind(&quot;chicken&quot;) &lt;&lt; endl;// ç»“æœæ˜¯ï¼š9    // 4. ä»å­—ç¬¦ä¸²çš„æœ«å°¾å¼€å§‹æŸ¥æ‰¾å­—ç¬¦    cout &lt;&lt; s.rfind(&#x27;i&#x27;) &lt;&lt; endl;// ç»“æœæ˜¯ï¼š18 å› ä¸ºæ˜¯ä»æœ«å°¾å¼€å§‹æŸ¥æ‰¾ï¼Œæ‰€ä»¥è¿”å›ç¬¬ä¸€æ¬¡æ‰¾åˆ°çš„å­—ç¬¦    // 5. åœ¨è¯¥å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå±äºå­—ç¬¦ä¸²sçš„å­—ç¬¦    cout &lt;&lt; s.find_first_of(&quot;13br98&quot;) &lt;&lt; endl;// ç»“æœæ˜¯ï¼š4---b    // 6. åœ¨è¯¥å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸å±äºå­—ç¬¦ä¸²sçš„å­—ç¬¦------å…ˆåŒ¹é…dogï¼Œç„¶åbirdåŒ¹é…ä¸åˆ°ï¼Œæ‰€ä»¥æ‰“å°4    cout &lt;&lt; s.find_first_not_of(&quot;hello dog 2006&quot;) &lt;&lt; endl; // ç»“æœæ˜¯ï¼š4    cout &lt;&lt; s.find_first_not_of(&quot;dog bird 2006&quot;) &lt;&lt; endl;  // ç»“æœæ˜¯ï¼š9    // 7. åœ¨è¯¥å­—ç¬¦ä¸²æœ€åä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå±äºå­—ç¬¦ä¸²sçš„å­—ç¬¦    cout &lt;&lt; s.find_last_of(&quot;13r98&quot;) &lt;&lt; endl;// ç»“æœæ˜¯ï¼š19// 8. åœ¨è¯¥å­—ç¬¦ä¸²æœ€åä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸å±äºå­—ç¬¦ä¸²sçš„å­—ç¬¦------å…ˆåŒ¹é…t--a---cï¼Œç„¶åç©ºæ ¼åŒ¹é…ä¸åˆ°ï¼Œæ‰€ä»¥æ‰“å°21    cout &lt;&lt; s.find_last_not_of(&quot;teac&quot;) &lt;&lt; endl;// ç»“æœæ˜¯ï¼š21&#125;\n\næ’åº\nsort(s.begin(),s.end());  //æŒ‰ASCIIç æ’åº\n\nbitsetä»‹ç»bitset åœ¨ bitset å¤´æ–‡ä»¶ä¸­ï¼Œå®ƒç±»ä¼¼æ•°ç»„ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªå…ƒç´ åªèƒ½æ˜¯ï¼æˆ–ï¼‘ï¼Œæ¯ä¸ªå…ƒç´ åªç”¨ï¼‘bitç©ºé—´\n\nå¤´æ–‡ä»¶\n//å¤´æ–‡ä»¶#include&lt;bitset&gt;\n\nåˆå§‹åŒ–å®šä¹‰\nåˆå§‹åŒ–æ–¹æ³•\nbitset&lt;n&gt; a;//aæœ‰nä½ï¼Œæ¯ä½éƒ½ä¸º0bitset&lt;n&gt; a(b);//aæ˜¯unsigned longå‹bçš„ä¸€ä¸ªäºŒè¿›åˆ¶å‰¯æœ¬bitset&lt;n&gt; a(s);//aæ˜¯stringå¯¹è±¡sä¸­å«æœ‰çš„ä½ä¸²çš„å‰¯æœ¬bitset&lt;n&gt; a(s,pos,n);//aæ˜¯sä¸­ä»ä½ç½®poså¼€å§‹çš„nä¸ªä½çš„å‰¯æœ¬\n\n\næ³¨æ„ï¼šnå¿…é¡»ä¸ºå¸¸é‡è¡¨è¾¾å¼\n\næ¼”ç¤ºä»£ç ï¼š\n#include&lt;bits/stdc++.h&gt;using namespace std;int main() &#123;\tbitset&lt;4&gt; bitset1;ã€€ã€€  //æ— å‚æ„é€ ï¼Œé•¿åº¦ä¸ºï¼”ï¼Œé»˜è®¤æ¯ä¸€ä½ä¸º0bitset&lt;9&gt; bitset2(12);ã€€//é•¿åº¦ä¸º9ï¼ŒäºŒè¿›åˆ¶ä¿å­˜ï¼Œå‰é¢ç”¨0è¡¥å……string s = &quot;100101&quot;;bitset&lt;10&gt; bitset3(s);ã€€ã€€//é•¿åº¦ä¸º10ï¼Œå‰é¢ç”¨0è¡¥å……char s2[] = &quot;10101&quot;;bitset&lt;13&gt; bitset4(s2);ã€€ã€€//é•¿åº¦ä¸º13ï¼Œå‰é¢ç”¨0è¡¥å……cout &lt;&lt; bitset1 &lt;&lt; endl;ã€€ã€€//0000cout &lt;&lt; bitset2 &lt;&lt; endl;ã€€ã€€//000001100cout &lt;&lt; bitset3 &lt;&lt; endl;ã€€ã€€//0000100101cout &lt;&lt; bitset4 &lt;&lt; endl;ã€€//0000000010101return 0;&#125;\nç‰¹æ€§bitsetå¯ä»¥è¿›è¡Œä½æ“ä½œ\nbitset&lt;4&gt; foo (string(&quot;1001&quot;));bitset&lt;4&gt; bar (string(&quot;0011&quot;));cout &lt;&lt; (foo^=bar) &lt;&lt; endl;// 1010 (fooå¯¹baræŒ‰ä½å¼‚æˆ–åèµ‹å€¼ç»™foo)cout &lt;&lt; (foo&amp;=bar) &lt;&lt; endl;// 0001 (æŒ‰ä½ä¸åèµ‹å€¼ç»™foo)cout &lt;&lt; (foo|=bar) &lt;&lt; endl;// 1011 (æŒ‰ä½æˆ–åèµ‹å€¼ç»™foo)cout &lt;&lt; (foo&lt;&lt;=2) &lt;&lt; endl;// 0100 (å·¦ç§»2ä½ï¼Œä½ä½è¡¥0ï¼Œæœ‰è‡ªèº«èµ‹å€¼)cout &lt;&lt; (foo&gt;&gt;=1) &lt;&lt; endl;// 0100 (å³ç§»1ä½ï¼Œé«˜ä½è¡¥0ï¼Œæœ‰è‡ªèº«èµ‹å€¼)cout &lt;&lt; (~bar) &lt;&lt; endl;// 1100 (æŒ‰ä½å–å)cout &lt;&lt; (bar&lt;&lt;1) &lt;&lt; endl;// 0110 (å·¦ç§»ï¼Œä¸èµ‹å€¼)cout &lt;&lt; (bar&gt;&gt;1) &lt;&lt; endl;// 0001 (å³ç§»ï¼Œä¸èµ‹å€¼)cout &lt;&lt; (foo==bar) &lt;&lt; endl;// false (1001==0011ä¸ºfalse)cout &lt;&lt; (foo!=bar) &lt;&lt; endl;// true  (1001!=0011ä¸ºtrue)cout &lt;&lt; (foo&amp;bar) &lt;&lt; endl;// 0001 (æŒ‰ä½ä¸ï¼Œä¸èµ‹å€¼)cout &lt;&lt; (foo|bar) &lt;&lt; endl;// 1011 (æŒ‰ä½æˆ–ï¼Œä¸èµ‹å€¼)cout &lt;&lt; (foo^bar) &lt;&lt; endl;// 1010 (æŒ‰ä½å¼‚æˆ–ï¼Œä¸èµ‹å€¼)\n\nè®¿é—®\n//å¯ä»¥é€šè¿‡ [ ] è®¿é—®å…ƒç´ (ç±»ä¼¼æ•°ç»„)ï¼Œæ³¨æ„æœ€ä½ä½ä¸‹æ ‡ä¸ºï¼ï¼Œå¦‚ä¸‹ï¼šbitset&lt;4&gt; foo (&quot;1011&quot;); cout &lt;&lt; foo[0] &lt;&lt; endl;ã€€ã€€//1cout &lt;&lt; foo[1] &lt;&lt; endl;ã€€ã€€//0cout &lt;&lt; foo[2] &lt;&lt; endl;ã€€ã€€//1\n\næ–¹æ³•å‡½æ•°\n\n\nä»£ç \nå«ä¹‰\n\n\n\nb.any()\nbä¸­æ˜¯å¦å­˜åœ¨ç½®ä¸º1çš„äºŒè¿›åˆ¶ä½ï¼Œæœ‰ è¿”å›true\n\n\nb.none()\nbä¸­æ˜¯å¦æ²¡æœ‰1ï¼Œæ²¡æœ‰ è¿”å›true\n\n\nb.count()\nbä¸­ä¸º1çš„ä¸ªæ•°\n\n\nb.size()\nbä¸­äºŒè¿›åˆ¶ä½çš„ä¸ªæ•°\n\n\nb.test(pos)\næµ‹è¯•båœ¨posä½ç½®æ˜¯å¦ä¸º1ï¼Œæ˜¯ è¿”å›true\n\n\nb[pos]\nè¿”å›båœ¨poså¤„çš„äºŒè¿›åˆ¶ä½\n\n\nb.set()\næŠŠbä¸­æ‰€æœ‰ä½éƒ½ç½®ä¸º1\n\n\nb.set(pos)\næŠŠbä¸­posä½ç½®ç½®ä¸º1\n\n\nb.reset()\næŠŠbä¸­æ‰€æœ‰ä½éƒ½ç½®ä¸º0\n\n\nb.reset(pos)\næŠŠbä¸­posä½ç½®ç½®ä¸º0\n\n\nb.flip()\næŠŠbä¸­æ‰€æœ‰äºŒè¿›åˆ¶ä½å–å\n\n\nb.flip(pos)\næŠŠbä¸­posä½ç½®å–å\n\n\nb.to_ulong()\nç”¨bä¸­åŒæ ·çš„äºŒè¿›åˆ¶ä½è¿”å›ä¸€ä¸ªunsigned longå€¼\n\n\narray æ•°ç»„ä»‹ç»\nå¤´æ–‡ä»¶\n#include&lt;array&gt;\n\narrayæ˜¯C++11æ–°å¢çš„å®¹å™¨ï¼Œæ•ˆç‡ä¸æ™®é€šæ•°æ®ç›¸å·®æ— å‡ ï¼Œæ¯”vectoræ•ˆç‡è¦é«˜ï¼Œè‡ªèº«æ·»åŠ äº†ä¸€äº›æˆå‘˜å‡½æ•°ã€‚\nå’Œå…¶å®ƒå®¹å™¨ä¸åŒï¼Œarray å®¹å™¨çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œæ— æ³•åŠ¨æ€çš„æ‰©å±•æˆ–æ”¶ç¼©ï¼Œåªå…è®¸è®¿é—®æˆ–è€…æ›¿æ¢å­˜å‚¨çš„å…ƒç´ ã€‚\næ³¨æ„ï¼š\narrayçš„ä½¿ç”¨è¦åœ¨stdå‘½åç©ºé—´é‡Œ\nä½¿ç”¨å£°æ˜å’Œåˆå§‹åŒ–\nåŸºç¡€æ•°æ®ç±»å‹\nå£°æ˜ä¸€ä¸ªå¤§å°ä¸º100çš„intå‹æ•°ç»„ï¼Œå…ƒç´ çš„å€¼ä¸ç¡®å®š\narray&lt;int, 100&gt; a;\n\nå£°æ˜ä¸€ä¸ªå¤§å°ä¸º100çš„intå‹æ•°ç»„ï¼Œåˆå§‹å€¼å‡ä¸º0(åˆå§‹å€¼ä¸é»˜è®¤å…ƒç´ ç±»å‹ç­‰æ•ˆ)\narray&lt;int, 100&gt; a&#123;&#125;;\nå£°æ˜ä¸€ä¸ªå¤§å°ä¸º100çš„intå‹æ•°ç»„ï¼Œåˆå§‹åŒ–éƒ¨åˆ†å€¼ï¼Œå…¶ä½™å…¨éƒ¨ä¸º0\narray&lt;int, 100&gt; a&#123;1, 2, 3&#125;;\næˆ–è€…å¯ä»¥ç”¨ç­‰å·\narray&lt;int, 100&gt; a = &#123;1, 2, 3&#125;;\n\né«˜çº§æ•°æ®ç±»å‹ä¸åŒäºæ•°ç»„çš„æ˜¯å¯¹å…ƒç´ ç±»å‹ä¸åšè¦æ±‚ï¼Œå¯ä»¥å¥—ç»“æ„ä½“\narray&lt;string, 2&gt; s = &#123;&quot;ha&quot;, string(&quot;haha&quot;)&#125;;array&lt;node, 2&gt; a;\n\nå–å­˜å…ƒç´ å€¼\nä¿®æ”¹å…ƒç´ \narray&lt;int, 4&gt; a = &#123;1, 2, 3, 4&#125;;a[0] = 4;\n\nè®¿é—®å…ƒç´ \nä¸‹æ ‡è®¿é—®\narray&lt;int, 4&gt; a = &#123;1, 2, 3, 4&#125;;for(int i = 0; i &lt; 4; i++)     cout &lt;&lt; a[i] &lt;&lt; &quot; \\n&quot;[i == 3];\n\nåˆ©ç”¨autoè®¿é—®\nfor(auto i : a)    cout &lt;&lt; i &lt;&lt; &quot; &quot;;\n\nè¿­ä»£å™¨è®¿é—®\nauto it = a.begin();for(; it != a.end(); it++)     cout &lt;&lt; *it &lt;&lt; &quot; &quot;;\n\nat()å‡½æ•°è®¿é—®\n//ä¸‹æ ‡ä¸º1çš„å…ƒç´  åŠ ä¸Š ä¸‹æ ‡ä¸º2çš„å…ƒç´ ï¼Œç­”æ¡ˆä¸º5array&lt;int, 4&gt; a = &#123;1, 2, 3, 4&#125;;int res = a.at(1) + a.at(2);cout &lt;&lt; res &lt;&lt; &quot;\\n&quot;;\n\ngetæ–¹æ³•è®¿é—®\n//å°†aæ•°ç»„ä¸‹æ ‡ä¸º1ä½ç½®å¤„çš„å€¼æ”¹ä¸ºxget&lt;1&gt;(a) = x;//æ³¨æ„ è·å–çš„ä¸‹æ ‡åªèƒ½å†™æ•°å­—ï¼Œä¸èƒ½å¡«å˜é‡\n\næˆå‘˜å‡½æ•°\n\n\næˆå‘˜å‡½æ•°\nåŠŸèƒ½\n\n\n\nbegin()\nè¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„è®¿é—®è¿­ä»£å™¨ï¼ˆåœ°å€ï¼‰\n\n\nend()\nè¿”å›å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ åä¸€ä¸ªä½ç½®çš„è®¿é—®è¿­ä»£å™¨ï¼ˆåœ°å€ï¼‰\n\n\nrbegin()\nè¿”å›æœ€åä¸€ä¸ªå…ƒç´ çš„è®¿é—®è¿­ä»£å™¨ï¼ˆåœ°å€ï¼‰\n\n\nrend()\nè¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ å‰ä¸€ä¸ªä½ç½®çš„è®¿é—®è¿­ä»£å™¨ï¼ˆåœ°å€ï¼‰\n\n\nsize()\nè¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°é‡ï¼Œå…¶å€¼ç­‰äºåˆå§‹åŒ– array ç±»çš„ç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•°N\n\n\nmax_size()\nè¿”å›å®¹å™¨å¯å®¹çº³å…ƒç´ çš„æœ€å¤§æ•°é‡ï¼Œå…¶å€¼å§‹ç»ˆç­‰äºåˆå§‹åŒ– array ç±»çš„ç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•° N\n\n\nempty()\nåˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º\n\n\nat(n)\nè¿”å›å®¹å™¨ä¸­ n ä½ç½®å¤„å…ƒç´ çš„å¼•ç”¨ï¼Œå‡½æ•°ä¼šè‡ªåŠ¨æ£€æŸ¥ n æ˜¯å¦åœ¨æœ‰æ•ˆçš„èŒƒå›´å†…ï¼Œå¦‚æœä¸æ˜¯åˆ™æŠ›å‡º out_of_range å¼‚å¸¸\n\n\nfront()\nè¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç›´æ¥å¼•ç”¨ï¼Œå‡½æ•°ä¸é€‚ç”¨äºç©ºçš„ array å®¹å™¨\n\n\nback()\nè¿”å›å®¹å™¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ç›´æ¥å¼•ç”¨ï¼Œå‡½æ•°ä¸é€‚ç”¨äºç©ºçš„ array å®¹å™¨ã€‚\n\n\ndata()\nè¿”å›ä¸€ä¸ªæŒ‡å‘å®¹å™¨é¦–ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚åˆ©ç”¨è¯¥æŒ‡é’ˆï¼Œå¯å®ç°å¤åˆ¶å®¹å™¨ä¸­æ‰€æœ‰å…ƒç´ ç­‰ç±»ä¼¼åŠŸèƒ½\n\n\nfill(x)\nå°† x è¿™ä¸ªå€¼èµ‹å€¼ç»™å®¹å™¨ä¸­çš„æ¯ä¸ªå…ƒç´ ,ç›¸å½“äºåˆå§‹åŒ–\n\n\narray1.swap(array2)\näº¤æ¢ array1 å’Œ array2 å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä½†å‰ææ˜¯å®ƒä»¬å…·æœ‰ç›¸åŒçš„é•¿åº¦å’Œç±»å‹\n\n\néƒ¨åˆ†ç”¨æ³•ç¤ºä¾‹data()æŒ‡å‘åº•å±‚å…ƒç´ å­˜å‚¨çš„æŒ‡é’ˆã€‚å¯¹äºéç©ºå®¹å™¨ï¼Œè¿”å›çš„æŒ‡é’ˆä¸é¦–å…ƒç´ åœ°å€æ¯”è¾ƒç›¸ç­‰ã€‚\nat()ä¸‹æ ‡ä¸º1çš„å…ƒç´ åŠ ä¸Šä¸‹æ ‡ä¸º2çš„å…ƒç´ ï¼Œç­”æ¡ˆä¸º5\narray&lt;int, 4&gt; a = &#123;1, 2, 3, 4&#125;;int res = a.at(1) + a.at(2);cout &lt;&lt; res &lt;&lt; &quot;\\n&quot;;\n\nfill()arrayçš„fill()å‡½æ•°ï¼Œå°†aæ•°ç»„å…¨éƒ¨å…ƒç´ å€¼å˜ä¸ºx\na.fill(x);\n\nå¦å¤–è¿˜æœ‰å…¶å®ƒçš„fill()å‡½æ•°:å°†aæ•°ç»„[begin,end)å…¨éƒ¨å€¼å˜ä¸ºx\nfill(a.begin(), a.end(), x);\n\ngetæ–¹æ³•è·å–å…ƒç´ å€¼å°†aæ•°ç»„ä¸‹æ ‡ä¸º1ä½ç½®å¤„çš„å€¼æ”¹ä¸ºx\næ³¨æ„ è·å–çš„ä¸‹æ ‡åªèƒ½å†™æ•°å­—ï¼Œä¸èƒ½å¡«å˜é‡\nget&lt;1&gt;(a) = x;\n\næ’åºsort(a.begin(), a.end());\n\ntuple å…ƒç»„ä»‹ç»tupleæ¨¡æ¿æ˜¯pairçš„æ³›åŒ–ï¼Œå¯ä»¥å°è£…ä¸åŒç±»å‹ä»»æ„æ•°é‡çš„å¯¹è±¡ã€‚\nå¯ä»¥æŠŠtupleç†è§£ä¸ºpairçš„æ‰©å±•ï¼Œtupleå¯ä»¥å£°æ˜äºŒå…ƒç»„ï¼Œä¹Ÿå¯ä»¥å£°æ˜ä¸‰å…ƒç»„ã€‚\ntupleå¯ä»¥ç­‰ä»·ä¸ºç»“æ„ä½“ä½¿ç”¨\n\nå¤´æ–‡ä»¶\n#include&lt;tuple&gt;\n\nåŸºç¡€ç”¨æ³•å£°æ˜åŠåˆå§‹åŒ–\nå£°æ˜ä¸€ä¸ªç©ºçš„tupleä¸‰å…ƒç»„\ntuple&lt;int, int, string&gt; t1;\n\nèµ‹å€¼\nt1 = make_tuple(1, 1, &quot;hahaha&quot;);\n\nåˆ›å»ºçš„åŒæ—¶åˆå§‹åŒ–\ntuple&lt;int, int, int, int&gt; t2(1, 2, 3, 4);\n\nå¯ä»¥ä½¿ç”¨pairå¯¹è±¡æ„é€ tupleå¯¹è±¡ï¼Œä½†tupleå¯¹è±¡å¿…é¡»æ˜¯ä¸¤ä¸ªå…ƒç´ \nauto p = make_pair(&quot;wang&quot;, 1);tuple&lt;string, int&gt; t3 &#123;p&#125;; //å°†pairå¯¹è±¡èµ‹ç»™tupleå¯¹è±¡\n\nå…ƒç´ æ“ä½œ\nè·å–tupleå¯¹è±¡tçš„ç¬¬ä¸€ä¸ªå…ƒç´ \nint first = get&lt;0&gt;(t);\nä¿®æ”¹tupleå¯¹è±¡tçš„ç¬¬ä¸€ä¸ªå…ƒç´ \nget&lt;0&gt;(t) = 1;\n\nå‡½æ•°æ“ä½œ\nè·å–å…ƒç´ ä¸ªæ•°\ntuple&lt;int, int, int&gt; t(1, 2, 3);cout &lt;&lt; tuple_size&lt;decltype(t)&gt;::value &lt;&lt; &quot;\\n&quot;; // 3\n\nè·å–å¯¹åº”å…ƒç´ çš„å€¼\n//é€šè¿‡`get&lt;n&gt;(obj)`æ–¹æ³•è·å–,`n`å¿…é¡»ä¸ºæ•°å­—ä¸èƒ½æ˜¯å˜é‡tuple&lt;int, int, int&gt; t(1, 2, 3);cout &lt;&lt; get&lt;0&gt;(t) &lt;&lt; &#x27;\\n&#x27;; // 1cout &lt;&lt; get&lt;1&gt;(t) &lt;&lt; &#x27;\\n&#x27;; // 2cout &lt;&lt; get&lt;2&gt;(t) &lt;&lt; &#x27;\\n&#x27;; // 3\n\né€šè¿‡tieè§£åŒ… è·å–å…ƒç´ å€¼\n//tieå¯ä»¥è®©tupleå˜é‡ä¸­çš„ä¸‰ä¸ªå€¼ä¾æ¬¡èµ‹åˆ°tieä¸­çš„ä¸‰ä¸ªå˜é‡ä¸­int one, three;string two; tuple&lt;int, string, int&gt; t(1, &quot;hahaha&quot;, 3);tie(one, two, three) = t;cout &lt;&lt; one &lt;&lt; two &lt;&lt; three &lt;&lt; &quot;\\n&quot;; // 1hahaha3\n\n\nåè®°stl çš„æ€»ç»“å°±åˆ°è¿™é‡Œå…ˆç»“æŸäº†ï¼Œä¹Ÿç®—æ˜¯æŒ‰æ—¶æå‰å®Œæˆæ­¤æ¬¡ä»»åŠ¡äº†å§\nåç»­åº”è¯¥ä¼šè¡¥å……ä¸€äº›å…¶ä»–å¸¸ç”¨çš„å‡½æ•°ï¼Œä¾‹å¦‚ sort ç­‰\n","categories":["å­¦ä¹ "],"tags":["çŸ¥è¯†æ€»ç»“","ç®—æ³•"]},{"title":"Vscodeæ’ä»¶å¼€å‘æ•™ç¨‹","url":"/2025/07/17/vscode%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/","content":"æ¸…ç†ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€å‘½ä»¤è¡Œçª—å£ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š\nnpm uninstall -g yo generator-codenpm cache clean --force\n\nä½¿ç”¨ç®¡ç†å‘˜æƒé™é…ç½®ç¯å¢ƒ\nå®‰è£…Node.jsï¼šç¡®ä¿ä½ å·²å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Node.jsï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š\nnode -vnpm -v\n\nå¦‚æœæœªå®‰è£…å¯æŒ‰ä»¥ä¸‹æ­¥éª¤ä½¿ç”¨å®˜æ–¹å®‰è£…åŒ…æ¥å®‰è£…node.jsï¼š\n\nå¸è½½æ—§ç‰ˆæœ¬\nnpm uninstall -g npm  # å…ˆå¸è½½npm\n\nè®¿é—® Node.js å®˜ç½‘ï¼ˆå»ºè®®é€‰æ‹© LTS ç‰ˆæœ¬ï¼Œå¦‚ 20.xï¼‰ã€‚ä¸‹è½½ .msi å®‰è£…åŒ…ï¼ˆå¦‚ node-v20.x.x-x64.msiï¼‰ã€‚\n\nåŒå‡»å®‰è£…åŒ…ï¼Œå…¨ç¨‹é»˜è®¤é€‰é¡¹ï¼ˆä¼šè‡ªåŠ¨è¦†ç›–æ—§ç‰ˆæœ¬å¹¶æ›´æ–°ç¯å¢ƒå˜é‡ï¼‰ã€‚\n\nå‹¾é€‰ **Automatically install the necessary tools**ï¼ˆåŒ…æ‹¬ npm å’Œ Python ç­‰ä¾èµ–ï¼‰ã€‚\n\næ‰“å¼€æ–°çš„ç»ˆç«¯ï¼ˆCMD&#x2F;PowerShellï¼‰ï¼Œè¿è¡Œï¼š\nnode -v  # åº”æ˜¾ç¤ºæ–°ç‰ˆæœ¬å·ï¼ˆå¦‚ v20.x.xï¼‰npm -v   # åº”æ˜¾ç¤ºå¯¹åº”çš„npmç‰ˆæœ¬\n\n\nå®‰è£…Yeomanå’ŒVS Codeæ‰©å±•ç”Ÿæˆå™¨ï¼š\nnpm install -g yo generator-code\n\n\nyoï¼šYeomanï¼Œä¸€ä¸ªé¡¹ç›®è„šæ‰‹æ¶å·¥å…·\ngenerator-codeï¼šä¸“é—¨ç”¨äºç”ŸæˆVSCodeæ’ä»¶é¡¹ç›®çš„ç”Ÿæˆå™¨\n\n\n\nåˆ›å»ºæ–°æ’ä»¶é¡¹ç›®\nè¿è¡Œç”Ÿæˆå™¨\nyo code\n\næŒ‰ç…§æç¤ºé€‰æ‹©ï¼š\nD:\\my-vscode&gt;yo code     _-----_     â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®    |       |    â”‚   Welcome to the Visual  â”‚    |--(o)--|    â”‚   Studio Code Extension  â”‚   `---------Â´   â”‚        generator!        â”‚    ( _Â´U`_ )    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯    /___A___\\   /     |  ~  |   __&#x27;.___.&#x27;__ Â´   `  |Â° Â´ Y `? What type of extension do you want to create? New Extension (JavaScript)? What&#x27;s the name of your extension? rainbow-comments? What&#x27;s the identifier of your extension? rainbow-comments? What&#x27;s the description of your extension? rainbow-comments? Enable JavaScript type checking in &#x27;jsconfig.json&#x27;? No? Initialize a git repository? Yes? Which package manager to use? npm\n\nç¼–å†™æ’ä»¶ä»£ç æ‰“å¼€extension.jsæ–‡ä»¶ï¼Œæ›¿æ¢ä¸ºä»¥ä¸‹ä»£ç ï¼š\nconst vscode = require(&#x27;vscode&#x27;);// å®šä¹‰å¤šç§é¢œè‰²æ–¹æ¡ˆconst colorSchemes = &#123;    rainbow: [ // å½©è™¹è‰²        &#x27;#FF0000&#x27;, &#x27;#FF7F00&#x27;, &#x27;#FFFF00&#x27;,         &#x27;#00FF00&#x27;, &#x27;#5ec5f5ff&#x27;, &#x27;#0000FF&#x27;, &#x27;#9400D3&#x27;    ],    pastel: [ // ç³–æœè‰²        &#x27;#FFD1DC&#x27;, &#x27;#FFECB8&#x27;, &#x27;#E2F0CB&#x27;,        &#x27;#B5EAD7&#x27;, &#x27;#C7CEEA&#x27;, &#x27;#D8B5FF&#x27;    ],    monochrome: [ // ç°è‰²ç³»        &#x27;#6f6f6fff&#x27;    ],    warm: [ // æš–è‰²è°ƒ        &#x27;#FF6B6B&#x27;, &#x27;#FFA07A&#x27;, &#x27;#FFD166&#x27;,        &#x27;#F7C1BB&#x27;, &#x27;#ff0080ff&#x27;    ],    cool: [ // å†·è‰²è°ƒ        &#x27;#c6f4fbff&#x27;, &#x27;#a39feaff&#x27;, &#x27;#7BC9FF&#x27;,        &#x27;#9494ffff&#x27;, &#x27;#b1d8fbff&#x27;    ]&#125;;// æ¸…é™¤æ‰€æœ‰è£…é¥°å™¨function clearAllDecorations(editor, decorationTypes) &#123;    decorationTypes.forEach(type =&gt; &#123;        editor.setDecorations(type, []);    &#125;);&#125;/** * åº”ç”¨é¢œè‰²æ–¹æ¡ˆåˆ°æ³¨é‡Š * @param &#123;vscode.TextEditor&#125; editor  * @param &#123;string[]&#125; colors  */function applyColorScheme(editor, colors) &#123;    const document = editor.document;    const text = document.getText();    const commentRegex = /(\\/\\/[^\\n]*|\\/\\*[\\s\\S]*?\\*\\/)/g;    let match;    let colorIndex = 0;    const decorations = [];    while ((match = commentRegex.exec(text))) &#123;        const startPos = document.positionAt(match.index);        const endPos = document.positionAt(match.index + match[0].length);                decorations.push(&#123;            range: new vscode.Range(startPos, endPos),            renderOptions: &#123;                color: colors[colorIndex % colors.length],                fontWeight: &#x27;bold&#x27;,                fontStyle: &#x27;italic&#x27;            &#125;        &#125;);        colorIndex++;    &#125;    // åˆ›å»ºè£…é¥°å™¨ç±»å‹å¹¶åº”ç”¨    const decorationTypes = colors.map(color =&gt; &#123;        return vscode.window.createTextEditorDecorationType(&#123;            color: color,            fontWeight: &#x27;bold&#x27;,            fontStyle: &#x27;italic&#x27;        &#125;);    &#125;);    // åº”ç”¨è£…é¥°å™¨    colors.forEach((color, index) =&gt; &#123;        const colorDecorations = decorations.filter((d, i) =&gt; i % colors.length === index);        editor.setDecorations(decorationTypes[index], colorDecorations);    &#125;);    return decorationTypes;&#125;function activate(context) &#123;    let activeDecorationTypes = []; // ä¿å­˜å½“å‰æ´»åŠ¨çš„è£…é¥°å™¨    // æ³¨å†Œå¤šä¸ªå‘½ä»¤    const commands = [        &#123; name: &#x27;rainbow&#x27;, title: &#x27;æ³¨é‡Šé¢œè‰²: å½©è™¹è‰²&#x27; &#125;,        &#123; name: &#x27;pastel&#x27;, title: &#x27;æ³¨é‡Šé¢œè‰²: ç³–æœè‰²&#x27; &#125;,        &#123; name: &#x27;monochrome&#x27;, title: &#x27;æ³¨é‡Šé¢œè‰²: ç°è‰²&#x27; &#125;,        &#123; name: &#x27;warm&#x27;, title: &#x27;æ³¨é‡Šé¢œè‰²: æš–è‰²&#x27; &#125;,        &#123; name: &#x27;cool&#x27;, title: &#x27;æ³¨é‡Šé¢œè‰²: å†·è‰²&#x27; &#125;,        &#123; name: &#x27;clear&#x27;, title: &#x27;æ¢å¤é»˜è®¤æ³¨é‡Šé¢œè‰²&#x27; &#125;    ];    commands.forEach(cmd =&gt; &#123;        let disposable = vscode.commands.registerCommand(            `rainbow-comments.$&#123;cmd.name&#125;`,            function () &#123;                const editor = vscode.window.activeTextEditor;                if (!editor) &#123;                    vscode.window.showWarningMessage(&#x27;æ²¡æœ‰æ‰“å¼€çš„ç¼–è¾‘å™¨ï¼&#x27;);                    return;                &#125;                // æ¸…é™¤ä¹‹å‰çš„è£…é¥°å™¨                clearAllDecorations(editor, activeDecorationTypes);                activeDecorationTypes = [];                if (cmd.name !== &#x27;clear&#x27;) &#123;                    // åº”ç”¨æ–°é¢œè‰²æ–¹æ¡ˆ                    activeDecorationTypes = applyColorScheme(                        editor,                         colorSchemes[cmd.name]                    );                    vscode.window.showInformationMessage(                        `å·²åº”ç”¨ $&#123;cmd.title&#125; æ–¹æ¡ˆ!`                    );                &#125; else &#123;                    vscode.window.showInformationMessage(&#x27;å·²æ¸…é™¤æ‰€æœ‰æ³¨é‡Šé¢œè‰²&#x27;);                &#125;            &#125;        );        context.subscriptions.push(disposable);    &#125;);&#125;function deactivate() &#123;    // æ¸…ç†èµ„æº&#125;module.exports = &#123;    activate,    deactivate&#125;;\n\nä¿®æ”¹package.jsonåœ¨package.jsonä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n&quot;contributes&quot;: &#123;    &quot;commands&quot;: [        &#123;            &quot;command&quot;: &quot;rainbow-comments.rainbow&quot;,            &quot;title&quot;: &quot;æ³¨é‡Šé¢œè‰²: å½©è™¹è‰²&quot;        &#125;,        &#123;            &quot;command&quot;: &quot;rainbow-comments.pastel&quot;,            &quot;title&quot;: &quot;æ³¨é‡Šé¢œè‰²: ç³–æœè‰²&quot;        &#125;,        &#123;            &quot;command&quot;: &quot;rainbow-comments.monochrome&quot;,            &quot;title&quot;: &quot;æ³¨é‡Šé¢œè‰²: ç°è‰²&quot;        &#125;,        &#123;            &quot;command&quot;: &quot;rainbow-comments.warm&quot;,            &quot;title&quot;: &quot;æ³¨é‡Šé¢œè‰²: æš–è‰²&quot;        &#125;,        &#123;            &quot;command&quot;: &quot;rainbow-comments.cool&quot;,            &quot;title&quot;: &quot;æ³¨é‡Šé¢œè‰²: å†·è‰²&quot;        &#125;,        &#123;            &quot;command&quot;: &quot;rainbow-comments.clear&quot;,            &quot;title&quot;: &quot;æ¢å¤é»˜è®¤æ³¨é‡Šé¢œè‰²&quot;        &#125;    ],    &quot;menus&quot;: &#123;      &quot;editor/context&quot;: [        &#123;            &quot;command&quot;: &quot;rainbow-comments.rainbow&quot;,            &quot;group&quot;: &quot;rainbow@1&quot;,              &quot;when&quot;: &quot;editorTextFocus&quot;        &#125;,        &#123;            &quot;command&quot;: &quot;rainbow-comments.pastel&quot;,            &quot;group&quot;: &quot;rainbow@2&quot;,            &quot;when&quot;: &quot;editorTextFocus&quot;        &#125;,        &#123;            &quot;command&quot;: &quot;rainbow-comments.monochrome&quot;,            &quot;group&quot;: &quot;rainbow@3&quot;,            &quot;when&quot;: &quot;editorTextFocus&quot;        &#125;,        &#123;            &quot;command&quot;: &quot;rainbow-comments.warm&quot;,            &quot;group&quot;: &quot;rainbow@4&quot;,            &quot;when&quot;: &quot;editorTextFocus&quot;        &#125;,        &#123;            &quot;command&quot;: &quot;rainbow-comments.cool&quot;,            &quot;group&quot;: &quot;rainbow@5&quot;,            &quot;when&quot;: &quot;editorTextFocus&quot;        &#125;,        &#123;            &quot;command&quot;: &quot;rainbow-comments.clear&quot;,            &quot;group&quot;: &quot;rainbow@6&quot;,            &quot;when&quot;: &quot;editorTextFocus&quot;        &#125;      ]    &#125;  &#125;\n\nè¿è¡Œå’Œæµ‹è¯•æ’ä»¶\næŒ‰F5å¯åŠ¨è°ƒè¯•\nåœ¨æ–°æ‰“å¼€çš„VSCodeçª—å£ä¸­æ‰“å¼€ä¸€ä¸ªä»£ç æ–‡ä»¶\næŒ‰Ctrl+Shift+Pæ‰“å¼€å‘½ä»¤é¢æ¿è¾“å…¥å¹¶é€‰æ‹©å‘½ä»¤\næˆ–è€…ç›´æ¥å³é”®é€‰æ‹©éœ€è¦æ‰§è¡Œçš„å‘½ä»¤\nè§‚å¯Ÿä½ çš„æ³¨é‡Šé¢œè‰²å˜åŒ–\n\nå‘å¸ƒæ’ä»¶å¦‚æœä½ æƒ³åˆ†äº«ä½ çš„æ’ä»¶ï¼š\n\nå®‰è£…vsceï¼šnpm install -g vsce\nåˆ›å»ºå‘å¸ƒè´¦å·ï¼šhttps://aka.ms/vscode-create-publisher\nç™»å½•ï¼švsce login &lt;publisher-name&gt; \næ‰“åŒ…ï¼švsce package\nå‘å¸ƒï¼švsce publish\n\næˆ–è€…ä½ ä¹Ÿå¯ä»¥ï¼š\n\nå®‰è£…vsceï¼šnpm install -g vsce\nåˆ›å»ºå‘å¸ƒè´¦å·ï¼šhttps://aka.ms/vscode-create-publisher\næ‰“åŒ…ï¼švsce package\nå‘å¸ƒï¼šå°†ç”Ÿæˆçš„.vsixæ–‡ä»¶æ‹–åˆ°ä¸Šè¿°ç½‘é¡µä¸Šä¼  Azure DevOps æ‰©å±•ä¸­å³å¯\n\næ³¨æ„ï¼š.vsix æ–‡ä»¶çš„å‘å¸ƒè€…ä¿¡æ¯å¿…é¡»ä¸ç›®æ ‡å‘å¸ƒè€…ç›¸åŒ¹é…ï¼Œå³é¡¹ç›®ä¸­çš„ package.json æ–‡ä»¶ä¸­çš„â€publisherâ€: â€œxxxâ€å¿…é¡»ä¸ç™»å½•çš„å‘å¸ƒè€…IDå®Œå…¨ä¸€è‡´\nç¤ºä¾‹å·²å°†ä¸Šè¿°æ’ä»¶ä¸Šä¼ åˆ°äº† vscode ä¸­çš„æ’ä»¶åº”ç”¨å¸‚åœºï¼Œå¯ä»¥æœç´¢ Zenith-zh å®‰è£…ååœ¨ç›®æ ‡æ–‡ä»¶ä¸­å³é”®å¯ç”¨åæŸ¥çœ‹æ•ˆæœğŸ¥°\n","categories":["å­¦ä¹ "],"tags":["æ•™ç¨‹"]},{"title":"ä½¿ç”¨BearPi-Pico H3863é©±åŠ¨3.52inch e-Paper HAT","url":"/2025/02/07/%E4%BD%BF%E7%94%A8BearPi-Pico%20H3863%E9%A9%B1%E5%8A%A83.52inch%20e-Paper%20HAT/","content":"ä½¿ç”¨BearPi-Pico H3863é©±åŠ¨3.52inch e-Paper HAT\nå…ˆç¥å¤§å®¶æ–°å¹´å¿«ä¹ğŸ‰\nå¾®é›ªçš„å®˜ç½‘å·²ç»ç»™å‡ºäº†å¸¸è§å•ç‰‡æœºä½¿ç”¨3.52inch e-Paperçš„ä¾‹ç¨‹ï¼Œæˆ‘ä»¬åœ¨æ­¤åŸºç¡€ä¸Šå¯¹å…¶ä¸­çš„åº“æ–‡ä»¶ä»¥åŠä¾‹ç¨‹è¿›è¡Œäº†ä¿®æ”¹ï¼Œä½¿å…¶èƒ½å¤Ÿé€‚é…BearPi-Pico H3863ï¼Œä¸‹é¢å…ˆç»™å‡ºä¿®æ”¹å®Œåçš„æ–‡ä»¶åŒ…\nç‚¹å‡»ä¸‹è½½\nåœ¨ä¸‹è½½å®Œä¹‹åè¿›è¡Œè§£å‹ï¼Œæ‰“å¼€æµ·æ€HiSpark Studio IDEï¼Œåœ¨BearPi-Pico H3863çš„SDKå·¥ç¨‹çš„ &#x2F;application&#x2F;samples&#x2F; ä¸‹æ–°å»ºæ–‡ä»¶å¤¹E-paperï¼Œç„¶åå†å°†åˆšåˆšè§£å‹çš„æ–‡ä»¶å¤¹çš„å†…å®¹éƒ½æ‹·è´è¿›æ¥\n &#x2F;application&#x2F;samples&#x2F; ä¸‹çš„æ–‡ä»¶ç›®å½•å¦‚ä¸‹å›¾æ‰€ç¤º\n\nåœ¨ &#x2F;application&#x2F;samples&#x2F; ä¸‹çš„Kconfigæ–‡ä»¶çš„æœ€åæ·»åŠ å¦‚ä¸‹ä»£ç \nconfig ENABLE_EPAPER_SAMPLE    bool    prompt &quot;Enable the Sample of E-paper.&quot;    default n    depends on SAMPLE_ENABLE    help        This option means enable the sample of E-paper.if ENABLE_EPAPER_SAMPLEosource &quot;application/samples/E-paper/Kconfig&quot;endif\n\nåœ¨ &#x2F;application&#x2F;samples&#x2F; ä¸‹çš„CMakeLists.txtæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç \nif(DEFINED CONFIG_ENABLE_EPAPER_SAMPLE)    add_subdirectory_if_exist(E-paper)endif()\n\nä¹‹åæ‰“å¼€ç³»ç»Ÿé…ç½®ï¼Œé€šè¿‡ä¿®æ”¹ç¼–è¯‘å®é…ç½®æ”¹æ¨¡å—å‚ä¸ç¼–è¯‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º\n\nä¿å­˜å…³é—­ä¹‹åå¯¹è¯¥æ–‡ä»¶è¿›è¡Œé‡ç¼–è¯‘\næ¥ä¸‹æ¥å°±æ˜¯ä½¿ç”¨æœé‚¦çº¿å°†BearPi-Pico H3863ä¸3.52inch e-Paper HATè¿æ¥ï¼Œ\nå¯¹åº”å…³ç³»å¦‚ä¸‹\n\n\n\nBearPi-Pico H3863\n3.52inch e-Paper HAT\n\n\n\nGP12\nBUSY\n\n\nGP02\nRST\n\n\nGP10\nDC\n\n\nGP08\nCS\n\n\nGP07\nSCLK\n\n\nGP09\nDIN\n\n\nGND\nGND\n\n\n3.3V\nVCC\n\n\nå…·ä½“è¿çº¿è¿˜éœ€æ ¹æ®è®¾ç½®è¿›è¡Œè°ƒæ•´\nç„¶åå°†ç¨‹åºåŠ è½½åˆ°ç›®æ ‡æ¿ï¼Œå¾…åŠ è½½å®Œæˆåè¿è¡Œï¼Œåœ¨å¢¨æ°´å±ä¸Šè¾“å‡ºæµ‹è¯•å›¾æ¡ˆï¼Œä¸”è¿è¡Œè¿‡ç¨‹ä¸­LEDäº®èµ·å³ä¸ºæˆåŠŸã€‚\n\n","categories":["å­¦ä¹ "],"tags":["ç¡¬ä»¶","çŸ¥è¯†æ€»ç»“","åä¸º"]},{"title":"åŠ é€Ÿç¼–è¯‘çš„æ–¹æ³•","url":"/2025/07/10/%E5%8A%A0%E9%80%9F%E7%BC%96%E8%AF%91%E7%9A%84%E6%96%B9%E6%B3%95/","content":"å‰è¨€ï¼šä¹‹å‰ä»¥ä¸ºä¸»è¦æ˜¯æ“ä½œç³»ç»Ÿçš„é—®é¢˜å¯¼è‡´ç¼–è¯‘é€Ÿåº¦çš„å·®å¼‚ï¼Œä½¿ç”¨äº† wsl åç¼–è¯‘é€Ÿåº¦è™½ç„¶æœ‰æé«˜ä½†æ˜¯è¿˜æ˜¯å¾ˆæ…¢ï¼Œå› æ­¤è¦ç»§ç»­æƒ³åŠæ³•ä¼˜åŒ–ç¼–è¯‘é€Ÿåº¦ã€‚åœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­å‘ç°é™¤äº†æˆ‘ä¿®æ”¹çš„ä¸»è¦çš„ä»£ç å¤–ï¼Œå…¶ä»–çš„åº“æ–‡ä»¶ä»¥åŠä¸€äº›ä¸çŸ¥é“æ˜¯ä»€ä¹ˆçš„æ–‡ä»¶é‡å¤ç¼–è¯‘å¯¼è‡´å¤§é‡æ—¶é—´çš„æµªè´¹ã€‚åˆå› ä¸ºä¸çŸ¥é“è¿™äº›æ–‡ä»¶æœ‰ä»€ä¹ˆç”¨å› æ­¤ä¸æ•¢è½»æ˜“å°†è¿™äº›æ–‡ä»¶åˆ é™¤ï¼Œæ•…é‡‡ç”¨ç¼–è¯‘ç¼“å­˜çš„æ–¹å¼æ¥æé«˜æ–‡ä»¶çš„ç¼–è¯‘é€Ÿåº¦ã€‚\nä»¥ä¸‹æ˜¯ä½¿ç”¨ ccache åŠ é€Ÿ GCC&#x2F;G++ ç¼–è¯‘çš„ è¯¦ç»†æ­¥éª¤ å’Œ æ³¨æ„äº‹é¡¹ï¼Œé€‚ç”¨äº Ubuntu&#x2F;WSL ç­‰ Linux ç¯å¢ƒï¼š\n1. å®‰è£… ccache# æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨ï¼ˆç¡®ä¿è·å–æœ€æ–°ç‰ˆæœ¬ï¼‰sudo apt update# å®‰è£… ccache å·¥å…·sudo apt install ccache\n\n2. é…ç½®ç¼–è¯‘å™¨åˆ«åï¼ˆä¸´æ—¶ç”Ÿæ•ˆï¼‰åœ¨å½“å‰ç»ˆç«¯ä¼šè¯ä¸­ï¼Œä¸´æ—¶è®¾ç½® ccache åŒ…è£… GCC&#x2F;G++ï¼š\n# è®¾ç½®ç¯å¢ƒå˜é‡ï¼šè®©ç³»ç»Ÿåœ¨è°ƒç”¨ gcc æ—¶å®é™…ä½¿ç”¨ ccache åŒ…è£…çš„ gccexport CC=&quot;ccache gcc&quot;# è®¾ç½®ç¯å¢ƒå˜é‡ï¼šè®©ç³»ç»Ÿåœ¨è°ƒç”¨ g++ æ—¶å®é™…ä½¿ç”¨ ccache åŒ…è£…çš„ g++export CXX=&quot;ccache g++&quot;\n\néªŒè¯ç¯å¢ƒå˜é‡æ˜¯å¦ç”Ÿæ•ˆï¼š\n# éªŒè¯ç¯å¢ƒå˜é‡æ˜¯å¦ç”Ÿæ•ˆecho $CC    # åº”è¾“å‡º &quot;ccache gcc&quot;echo $CXX   # åº”è¾“å‡º &quot;ccache g++&quot;\n\n3. æ°¸ä¹…ç”Ÿæ•ˆé…ç½®ï¼ˆæ¨èï¼‰(1) ä¿®æ”¹å…¨å±€ç¯å¢ƒå˜é‡ç¼–è¾‘ ~/.bashrc æˆ– ~/.zshrcï¼ˆæ ¹æ®ä½ çš„ Shellï¼‰ï¼š\n# ç¼–è¾‘ Shell é…ç½®æ–‡ä»¶ï¼ˆå¦‚ ~/.bashrc æˆ– ~/.zshrcï¼‰vim ~/.bashrc\n\nåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ï¼š\n# å¼ºåˆ¶æ‰€æœ‰ gcc è°ƒç”¨èµ° ccacheexport CC=&quot;/usr/lib/ccache/gcc&quot; # å¼ºåˆ¶æ‰€æœ‰ g++ è°ƒç”¨èµ° ccacheexport CXX=&quot;/usr/lib/ccache/g++&quot;\n\nä¿å­˜ååŠ è½½é…ç½®ï¼š\n# ä¿å­˜æ–‡ä»¶åï¼ŒåŠ è½½é…ç½®ä½¿å…¶ç«‹å³ç”Ÿæ•ˆsource ~/.bashrc\n\n(2) æˆ–åˆ›å»ºç¬¦å·é“¾æ¥ï¼ˆæ›´å½»åº•ï¼‰# åˆ›å»ºç¬¦å·é“¾æ¥ï¼Œå°† gcc/g++ æŒ‡å‘ ccacheï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰# ä»»ä½•åœ°æ–¹è°ƒç”¨ gcc éƒ½ä¼šå…ˆèµ° ccachesudo ln -s /usr/bin/ccache /usr/local/bin/gcc# ä»»ä½•åœ°æ–¹è°ƒç”¨ g++ éƒ½ä¼šå…ˆèµ° ccachesudo ln -s /usr/bin/ccache /usr/local/bin/g++# è¦†ç›– cc ç¼–è¯‘å™¨åˆ«åsudo ln -s /usr/bin/ccache /usr/local/bin/cc# è¦†ç›– c++ ç¼–è¯‘å™¨åˆ«åsudo ln -s /usr/bin/ccache /usr/local/bin/c++\n\nä¼˜å…ˆçº§æ£€æŸ¥ï¼š\n# éªŒè¯ä¼˜å…ˆçº§which gcc  # åº”æ˜¾ç¤º /usr/local/bin/gccï¼ˆè¡¨ç¤ºç¬¦å·é“¾æ¥ç”Ÿæ•ˆï¼‰\n\n4. éªŒè¯ ccache å·¥ä½œ(1) æ‰‹åŠ¨ç¼–è¯‘æµ‹è¯•# ä½¿ç”¨ ccache ç¼–è¯‘ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ccache gcc -o test test.c # ç›´æ¥è°ƒç”¨ ccache# æˆ–è€…ï¼ˆå¦‚æœé…ç½®äº†ç¯å¢ƒå˜é‡/ç¬¦å·é“¾æ¥ï¼‰gcc -o test test.c         # éšå¼é€šè¿‡ ccache\n\n(2) æŸ¥çœ‹ç¼“å­˜ç»Ÿè®¡ccache -s # æ˜¾ç¤ºç¼“å­˜å‘½ä¸­ç‡ã€ç¼“å­˜ç›®å½•ç­‰ä¿¡æ¯\n\nè¾“å‡ºç¤ºä¾‹ï¼š\n# ç¼“å­˜å­˜å‚¨ä½ç½®cache directory                     /home/user/.ccache# ä¸»é…ç½®æ–‡ä»¶primary config                      /home/user/.ccache/ccache.confsecondary config      (readonly)    /etc/ccache.conf# ç›´æ¥å‘½ä¸­ç¼“å­˜æ¬¡æ•°cache hit (direct)                  0# é¢„å¤„ç†åå‘½ä¸­æ¬¡æ•°cache hit (preprocessed)            0# æœªå‘½ä¸­æ¬¡æ•°ï¼ˆéœ€é‡æ–°ç¼–è¯‘ï¼‰cache miss                          1...\n\n\n**cache miss**ï¼šé¦–æ¬¡ç¼–è¯‘æœªå‘½ä¸­ç¼“å­˜ï¼Œåç»­é‡å¤ç¼–è¯‘ä¼šæ˜¾ç¤º cache hitã€‚\n\n5. åœ¨æ„å»ºç³»ç»Ÿä¸­ä½¿ç”¨(1) CMake é¡¹ç›®åœ¨ CMakeLists.txt æˆ–é…ç½®æ—¶æŒ‡å®šç¼–è¯‘å™¨ï¼š\n# æ–¹æ³•1ï¼šé€šè¿‡ç¯å¢ƒå˜é‡ä¼ é€’# åœ¨é…ç½®é˜¶æ®µæŒ‡å®šç¼–è¯‘å™¨CC=&quot;ccache gcc&quot; CXX=&quot;ccache g++&quot; cmake ..\n\næˆ–ç›´æ¥å¯ç”¨ ccache æ”¯æŒï¼š\n# æ–¹æ³•2ï¼šåœ¨ CMake å‘½ä»¤ä¸­ç›´æ¥å¯ç”¨ ccachecmake -DCMAKE_CXX_COMPILER_LAUNCHER=ccache -DCMAKE_C_COMPILER_LAUNCHER=ccake ..\n\n(2) Makefile é¡¹ç›®ä¿®æ”¹ Makefile çš„ç¼–è¯‘å™¨å˜é‡ï¼š\n# ä¿®æ”¹ Makefile ä¸­çš„ç¼–è¯‘å™¨å˜é‡# è¦†ç›–é»˜è®¤çš„ gccCC = ccache gcc# è¦†ç›–é»˜è®¤çš„ g++CXX = ccache g++\n\n\n6. é«˜çº§é…ç½®ï¼ˆå¯é€‰ï¼‰(1) è°ƒæ•´ç¼“å­˜å¤§å°ï¼ˆé»˜è®¤ 5GBï¼‰# è®¾ç½®ç¼“å­˜æœ€å¤§ä¸º 10GBï¼ˆé»˜è®¤ 5GBï¼‰ccache --set-config=max_size=10G  # è®¾ç½®ä¸º 10GB\n\n(2) æ¸…ç©ºç¼“å­˜# æ¸…é™¤æ‰€æœ‰ç¼“å­˜æ–‡ä»¶ccache -C\n\n(3) ç¼“å­˜å­˜å‚¨è·¯å¾„é»˜è®¤åœ¨ ~/.ccacheï¼Œå¯é€šè¿‡ç¯å¢ƒå˜é‡ä¿®æ”¹ï¼š\nè®¾ç½®ç¼“å­˜å­˜å‚¨åˆ°æŒ‡å®šè·¯å¾„ï¼ˆé»˜è®¤åœ¨ ~/.ccacheï¼‰export CCACHE_DIR=/path/to/your/cache\n","categories":["å­¦ä¹ "],"tags":["èµ„æ–™"]},{"title":"åŸºäºé²²é¹æ•°å­¦åº“çš„é«˜æ€§èƒ½æ•°å­¦è®¡ç®—åŠ é€Ÿæ–¹æ³•ç ”ç©¶ä¸å®è·µ","url":"/2024/12/21/%E5%9F%BA%E4%BA%8E%E9%B2%B2%E9%B9%8F%E6%95%B0%E5%AD%A6%E5%BA%93%E7%9A%84%E9%AB%98%E6%80%A7%E8%83%BD%E6%95%B0%E5%AD%A6%E8%AE%A1%E7%AE%97%E5%8A%A0%E9%80%9F%E6%96%B9%E6%B3%95%E7%A0%94%E7%A9%B6%E4%B8%8E%E5%AE%9E%E8%B7%B5/","content":"åŸºäºé²²é¹æ•°å­¦åº“çš„é«˜æ€§èƒ½æ•°å­¦è®¡ç®—åŠ é€Ÿæ–¹æ³•ç ”ç©¶ä¸å®è·µ1 å®éªŒç›®çš„1. éªŒè¯é²²é¹æ•°å­¦åº“çš„æ€§èƒ½ä¼˜åŒ–æ•ˆæœ\næ ¸å¿ƒç›®æ ‡ï¼šé€šè¿‡ä¸€ç³»åˆ—æ•°å­¦è®¡ç®—å®éªŒï¼Œç³»ç»ŸéªŒè¯åŸºäºé²²é¹æ¶æ„çš„ Kunpeng Math Library (KML) ç›¸è¾ƒä¼ ç»Ÿå®ç°æ–¹å¼çš„æ€§èƒ½æå‡ç¨‹åº¦ã€‚\nç»†åŒ–ç›®æ ‡\néªŒè¯ KML åœ¨ä¸åŒæ•°å­¦è®¡ç®—ä»»åŠ¡ä¸­çš„åŠ é€Ÿæ•ˆæœï¼ŒåŒ…æ‹¬åŸºç¡€æ•°å­¦è¿ç®—ï¼ˆå¦‚ä¸‰è§’å‡½æ•°è®¡ç®—ï¼‰ã€çŸ©é˜µè®¡ç®—ï¼ˆå¦‚çŸ©é˜µä¹˜æ³•ï¼‰å’Œé«˜çº§çº¿æ€§ä»£æ•°é—®é¢˜ï¼ˆå¦‚ç‰¹å¾å€¼åˆ†è§£ï¼‰ã€‚\næ¯”è¾ƒ KML åœ¨å•çº¿ç¨‹å’Œå¤šçº¿ç¨‹æ¨¡å¼ä¸‹çš„æ€§èƒ½è¡¨ç°ï¼Œæ¢ç´¢å…¶å¹¶è¡Œèƒ½åŠ›ã€‚\n\n\n\n2. æ¢ç´¢é²²é¹æ¶æ„çš„ç¡¬ä»¶é€‚é…æ€§\nç¡¬ä»¶æ¶æ„æ”¯æŒéªŒè¯\næ£€éªŒ KML å¯¹é²²é¹å¤„ç†å™¨çš„ç¡¬ä»¶ç‰¹æ€§ï¼ˆå¦‚ SIMD æŒ‡ä»¤é›†ã€å¤šæ ¸å¹¶è¡Œï¼‰å’Œå†…å­˜æ¶æ„ï¼ˆå¦‚ L1&#x2F;L2 ç¼“å­˜ä¼˜åŒ–ï¼‰çš„é€‚é…ç¨‹åº¦ã€‚\næ¢ç´¢åŸºäº ARM æ¶æ„ä¼˜åŒ–çš„æ•°å­¦åº“åœ¨é«˜æ€§èƒ½è®¡ç®—ï¼ˆHPCï¼‰åœºæ™¯ä¸­çš„å®é™…è¡¨ç°ã€‚\n\n\nå¹³å°ä¼˜åŠ¿æ¢ç´¢\nè¯„ä¼° KML åœ¨å…¸å‹è®¡ç®—ä»»åŠ¡ï¼ˆå¦‚çŸ©é˜µè¿ç®—ã€å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼‰ä¸­å¯¹å…¶ä»–å¹³å°ï¼ˆå¦‚ x86 æ¶æ„ï¼‰çš„ç›¸å¯¹æ€§èƒ½ä¼˜åŠ¿ï¼Œä¸ºåŸºäºé²²é¹çš„æ•°å­¦è®¡ç®—æ–¹æ¡ˆæä¾›å‚è€ƒã€‚\n\n\n\n3. ä¼˜åŒ–å®é™…ç§‘å­¦è®¡ç®—ä»»åŠ¡\né¢å‘å·¥ç¨‹è®¡ç®—å’Œç§‘å­¦ç ”ç©¶\né€šè¿‡ KML çš„é«˜æ€§èƒ½è®¡ç®—åŠ é€Ÿï¼Œè§£å†³å®é™…å·¥ç¨‹å’Œç§‘ç ”ä¸­çš„è®¡ç®—ç“¶é¢ˆé—®é¢˜ã€‚ä¾‹å¦‚ï¼Œä¼˜åŒ–æ•°æ®åˆ†æã€æœºå™¨å­¦ä¹ è®­ç»ƒä¸­çš„çŸ©é˜µè¿ç®—ï¼ŒåŠ é€Ÿä¿¡å·å¤„ç†ä¸­çš„å‚…é‡Œå¶å˜æ¢ç­‰ã€‚\n\n\næ‰©å±•åº”ç”¨åœºæ™¯\nåœ¨æœ¬å®éªŒä¸­æ¢ç´¢ KML åœ¨ä¸åŒä»»åŠ¡ä¸­çš„é€‚é…æ€§ï¼Œä¸ºå…¶åœ¨æ›´å¤šè®¡ç®—åœºæ™¯ï¼ˆå¦‚æ°”è±¡æ¨¡æ‹Ÿã€åˆ†å­åŠ¨åŠ›å­¦æ¨¡æ‹Ÿç­‰ï¼‰æä¾›åŸºç¡€ã€‚\n\n\n\n4. æå‡é²²é¹ç”Ÿæ€çš„å®è·µç»éªŒ\nç”¨æˆ·æŒ‡å¯¼ä¸æ¡ˆä¾‹ç§¯ç´¯\næ€»ç»“ä½¿ç”¨ KML çš„å®‰è£…ã€é…ç½®ã€è°ƒè¯•æ–¹æ³•ï¼Œä»¥åŠåœ¨å„ç±»ä»»åŠ¡ä¸­çš„å…·ä½“å®ç°æ­¥éª¤ï¼Œä¸ºå¼€å‘è€…æä¾›å®è·µæŒ‡å—ã€‚\nä¸ºé²²é¹ç”Ÿæ€çš„æ¨å¹¿æä¾›ä¼˜åŒ–å®è·µæ¡ˆä¾‹ï¼Œè¿›ä¸€æ­¥æ¨åŠ¨åŸºäº ARM æ¶æ„çš„é«˜æ€§èƒ½è®¡ç®—æŠ€æœ¯åœ¨è¡Œä¸šä¸­çš„æ™®åŠã€‚\n\n\næ€§èƒ½ä¼˜åŒ–ç»éªŒæ€»ç»“\né€šè¿‡å¯¹æ¯”å®éªŒï¼Œæç‚¼å‡ºä¼˜åŒ–æ•°å­¦è®¡ç®—æ€§èƒ½çš„ç»éªŒï¼Œå¦‚å‘é‡åŒ–å¤„ç†ã€å¤šçº¿ç¨‹å¹¶è¡Œä¼˜åŒ–ã€å†…å­˜ç®¡ç†ä¼˜åŒ–ç­‰ï¼Œä¸ºåç»­å¼€å‘é«˜æ•ˆçš„æ•°å­¦è®¡ç®—ç¨‹åºæä¾›ç†è®ºå’Œå®è·µä¾æ®ã€‚\n\n\n\n5. è¯„ä¼°æ€§èƒ½ä¸å‡†ç¡®æ€§çš„å¹³è¡¡\næ€§èƒ½æµ‹è¯•\nåœ¨æ•°å­¦è¿ç®—ä¸­ï¼Œå°¤å…¶æ˜¯é«˜çº§è¿ç®—ï¼ˆå¦‚ç‰¹å¾å€¼åˆ†è§£ã€å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼‰ï¼Œæ€§èƒ½ä¸å‡†ç¡®æ€§å¯èƒ½å­˜åœ¨ä¸€å®šå¹³è¡¡ç‚¹ã€‚å®éªŒç›®æ ‡ä¹‹ä¸€æ˜¯åˆ†æ KML åœ¨ä¿æŒé«˜ç²¾åº¦çš„åŒæ—¶å®ç°æ€§èƒ½æå‡çš„èƒ½åŠ›ã€‚\n\n\nç»“æœä¸€è‡´æ€§éªŒè¯\nç¡®ä¿ä½¿ç”¨ KML è®¡ç®—çš„ç»“æœåœ¨ç§‘å­¦ç ”ç©¶æˆ–å·¥ç¨‹åº”ç”¨ä¸­å…·æœ‰å¯æ¥å—çš„å‡†ç¡®æ€§ï¼Œå¹¶éªŒè¯å…¶ä¸ä¼ ç»Ÿå®ç°æ–¹å¼çš„ä¸€è‡´æ€§ã€‚\n\n\n\n6. æ¨åŠ¨æ•°å­¦è®¡ç®—é¢†åŸŸçš„æŠ€æœ¯è¿›æ­¥\nå®è·µæ–°ç®—æ³•\nåˆ©ç”¨é²²é¹æ¶æ„å’Œ KML ä¼˜åŒ–æ•°å­¦è¿ç®—çš„èƒ½åŠ›ï¼Œæ¢ç´¢ä¼ ç»Ÿç®—æ³•åœ¨æ–°å‹ç¡¬ä»¶æ¶æ„ä¸‹çš„ä¼˜åŒ–æ½œåŠ›ã€‚\n\n\né«˜æ€§èƒ½è®¡ç®—çš„æŠ€æœ¯è½¬åŒ–\nå°† KML çš„ä¼˜åŠ¿æ¨å¹¿åˆ°å®é™…çš„å·¥ä¸šå’Œå­¦æœ¯è®¡ç®—ä»»åŠ¡ä¸­ï¼Œä¸ºæ•°å­¦è®¡ç®—é¢†åŸŸçš„æŠ€æœ¯è¿›æ­¥æä¾›æ”¯æŒã€‚\n\n\n\n2 å®éªŒè®¾å¤‡\nåä¸ºé²²é¹äº‘æœåŠ¡å™¨ï¼›\n\nå…·å¤‡ç½‘ç»œè¿æ¥çš„ä¸ªäººç”µè„‘ã€‚\n\n\n3 å®éªŒåŸç†1. æ•°å­¦åº“ä¼˜åŒ–çš„æ ¸å¿ƒæ€æƒ³é²²é¹æ•°å­¦åº“ï¼ˆKMLï¼‰çš„è®¾è®¡ç†å¿µæ˜¯é€šè¿‡å……åˆ†åˆ©ç”¨ç¡¬ä»¶ç‰¹æ€§æå‡æ•°å­¦è¿ç®—çš„æ€§èƒ½ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒä¼˜åŒ–æ€æƒ³ï¼š\n\næŒ‡ä»¤çº§ä¼˜åŒ–\nKML å€ŸåŠ© ARMv8 æ¶æ„çš„ SIMDï¼ˆSingle Instruction Multiple Dataï¼‰æŒ‡ä»¤é›†ï¼Œèƒ½å¤Ÿåœ¨å•æ¬¡æŒ‡ä»¤æ“ä½œä¸­å¯¹å¤šä¸ªæ•°æ®å…ƒç´ è¿›è¡Œå¹¶è¡Œå¤„ç†ï¼Œä»è€Œæ˜¾è‘—æå‡è¿ç®—é€Ÿåº¦ã€‚\nä½¿ç”¨å¦‚ Neon æŒ‡ä»¤ç­‰ä¼˜åŒ–æ•°å­¦å‡½æ•°ï¼ˆå¦‚ä¸‰è§’å‡½æ•°ã€å¯¹æ•°å‡½æ•°ç­‰ï¼‰çš„æ‰¹é‡å¤„ç†èƒ½åŠ›ã€‚\n\n\nå¤šçº¿ç¨‹å¹¶è¡Œ\né€šè¿‡ pthread å’Œ OpenMP ç­‰å¤šçº¿ç¨‹æŠ€æœ¯ï¼ŒKML å¯é«˜æ•ˆåˆ†è§£è®¡ç®—ä»»åŠ¡ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨çš„è®¡ç®—èµ„æºã€‚\n\n\nå†…å­˜è®¿é—®ä¼˜åŒ–\né¿å…é¢‘ç¹çš„å†…å­˜è¯»å–ä¸å†™å…¥ï¼Œé€šè¿‡å¯¹å†…å­˜å¯¹é½ã€ç¼“å­˜å‹å¥½å‹ç®—æ³•ç­‰ä¼˜åŒ–ç­–ç•¥ï¼Œå‡å°‘æ•°æ®ä¼ è¾“ç“¶é¢ˆã€‚\n\n\n\n2. ç¡¬ä»¶æ¶æ„ä¸æ€§èƒ½ä¼˜åŒ–çš„å…³ç³»é²²é¹æœåŠ¡å™¨åŸºäº ARM æ¶æ„ï¼Œå…·å¤‡ä»¥ä¸‹ç¡¬ä»¶ç‰¹æ€§ï¼ŒKML åœ¨è®¾è®¡æ—¶é’ˆå¯¹è¿™äº›ç‰¹æ€§è¿›è¡Œäº†é’ˆå¯¹æ€§ä¼˜åŒ–ï¼š\n\né«˜å¯†åº¦æ ¸å¿ƒï¼š é²²é¹å¤„ç†å™¨å…·æœ‰é«˜æ ¸æ•°çš„ç‰¹ç‚¹ï¼Œéå¸¸é€‚åˆé«˜å¹¶å‘è®¡ç®—ä»»åŠ¡ï¼ŒKML å¯åœ¨çŸ©é˜µè¿ç®—ã€FFT ä¸­æœ‰æ•ˆåˆ†æ‘Šä»»åŠ¡åˆ°å¤šä¸ªæ ¸å¿ƒï¼Œé™ä½å•æ ¸å‹åŠ›ã€‚\nå®½å‘é‡å¯„å­˜å™¨ï¼š ARM çš„ SIMD æŠ€æœ¯åˆ©ç”¨å®½å‘é‡å¯„å­˜å™¨ï¼Œä½¿å¾—å¤šæ•°æ®å¹¶è¡Œè®¡ç®—æˆä¸ºå¯èƒ½ã€‚ä¾‹å¦‚ï¼ŒKML_SVML çš„ä¼˜åŒ–å®ç°å¯ä¸€æ¬¡æ€§å¤„ç†å¤šä¸ªå‘é‡å…ƒç´ ã€‚\nå†…å­˜å­ç³»ç»Ÿä¼˜åŒ–ï¼š é²²é¹æ¶æ„çš„ L1 å’Œ L2 ç¼“å­˜å¯¹çŸ©é˜µè®¡ç®—ä¸­å¸¸è§çš„å¯†é›†å­˜å‚¨è®¿é—®æ¨¡å¼è¿›è¡Œäº†ä¸“é—¨ä¼˜åŒ–ã€‚KML çš„çŸ©é˜µè¿ç®—å‡½æ•°å……åˆ†åˆ©ç”¨äº†è¿™ä¸€ç‰¹æ€§ï¼Œé€šè¿‡å—çŠ¶å¤„ç†å‡å°‘äº†å†…å­˜è®¿é—®å»¶è¿Ÿã€‚\n\n3. æ•°å­¦è®¡ç®—çš„å¤šå±‚æ¬¡ä¼˜åŒ–æ–¹æ³•KML çš„ä¼˜åŒ–è¦†ç›–äº†ä»ä½çº§æŒ‡ä»¤åˆ°é«˜çº§æ•°å­¦åº“çš„å¤šä¸ªå±‚æ¬¡ï¼š\n\nåŸºç¡€æ•°å­¦å‡½æ•°ä¼˜åŒ–ï¼š ä¼˜åŒ–åŸºæœ¬æ•°å­¦å‡½æ•°ï¼ˆå¦‚ä¸‰è§’å‡½æ•°ã€æŒ‡æ•°å‡½æ•°ï¼‰çš„å®ç°ï¼Œé€šè¿‡ç¡¬ä»¶å¯„å­˜å™¨å’Œæµæ°´çº¿æŒ‡ä»¤é›†å®ç°æ‰¹é‡å¤„ç†ã€‚\nBLAS å’Œ LAPACK ä¼˜åŒ–\nBLASï¼šä¼˜åŒ–çŸ©é˜µ-å‘é‡è¿ç®—ã€çŸ©é˜µ-çŸ©é˜µè¿ç®—ç­‰åŸºç¡€çº¿æ€§ä»£æ•°è¿ç®—ï¼Œå¹¿æ³›ç”¨äºç§‘å­¦è®¡ç®—ä¸­ã€‚\nLAPACKï¼šåœ¨æ›´é«˜çº§åˆ«çš„çº¿æ€§ä»£æ•°æ“ä½œï¼ˆå¦‚ç‰¹å¾å€¼é—®é¢˜ã€å¥‡å¼‚å€¼åˆ†è§£ï¼‰ä¸­ï¼ŒKML å°†å…³é”®è®¡ç®—æ­¥éª¤åˆ†è§£ä¸ºé«˜æ•ˆçš„ BLAS è°ƒç”¨ï¼Œå¹¶ç»“åˆç¡¬ä»¶ç‰¹æ€§è¿›è¡Œç»†ç²’åº¦ä¼˜åŒ–ã€‚\n\n\nå¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼ˆFFTï¼‰ï¼š FFT ç®—æ³•ä¸­æ¶‰åŠå¤æ‚çš„é€’å½’å’Œå¾ªç¯ç»“æ„ï¼ŒKML é€šè¿‡æµæ°´çº¿æŠ€æœ¯å’Œåˆ†å—è®¡ç®—ä¼˜åŒ–äº†æ—¶é—´å¤æ‚åº¦ï¼ŒåŒæ—¶å‡å°‘äº†å†…å­˜è®¿é—®æ¬¡æ•°ã€‚\n\n4. å®éªŒçš„å¯¹æ¯”è®¾è®¡ä¸æ€§èƒ½è¯„ä¼°ç­–ç•¥ä¸ºäº†å…¨é¢è¯„ä¼° KML çš„æ€§èƒ½ï¼Œå®éªŒé‡‡ç”¨äº†â€œä¼ ç»Ÿå®ç°â€å’Œâ€œä¼˜åŒ–å®ç°â€çš„å¯¹æ¯”æ–¹å¼ï¼š\n\nä¼ ç»Ÿå®ç°ï¼šç›´æ¥ä½¿ç”¨æ ‡å‡†æ•°å­¦åº“ï¼ˆå¦‚ math.hï¼‰æˆ–æ‰‹åŠ¨å®ç°ç®—æ³•ï¼Œæ¨¡æ‹Ÿå¸¸è§„çš„è®¡ç®—æ–¹å¼ã€‚\nä¼˜åŒ–å®ç°ï¼šåŸºäº KML æä¾›çš„åº“å‡½æ•°å®Œæˆç›¸åŒè®¡ç®—ä»»åŠ¡ã€‚\næ€§èƒ½è¯„ä¼°\næ—¶é—´å¤æ‚åº¦ï¼šè®°å½•ä¸åŒæ–¹æ³•çš„æ‰§è¡Œæ—¶é—´ï¼Œé‡åŒ–æ€§èƒ½æå‡ã€‚\nå‡†ç¡®æ€§ï¼šéªŒè¯ KML çš„è®¡ç®—ç»“æœæ˜¯å¦ä¸ä¼ ç»Ÿå®ç°ä¸€è‡´ï¼Œç¡®ä¿åœ¨ä¼˜åŒ–æ€§èƒ½çš„åŒæ—¶ä¿è¯ç»“æœçš„å¯é æ€§ã€‚\nèµ„æºåˆ©ç”¨ç‡ï¼šè§‚å¯Ÿ CPUã€å†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼Œåˆ†æ KML å¦‚ä½•åœ¨ç¡¬ä»¶èµ„æºåˆ©ç”¨ä¸Šå æ®ä¼˜åŠ¿ã€‚\n\n\n\n5. å…¸å‹ä¼˜åŒ–åœºæ™¯\nçŸ©é˜µè¿ç®—ï¼š çŸ©é˜µè®¡ç®—ï¼ˆå¦‚çŸ©é˜µ-å‘é‡ä¹˜æ³•ã€çŸ©é˜µåˆ†è§£ï¼‰æ˜¯ç§‘å­¦è®¡ç®—ä¸­çš„æ ¸å¿ƒä»»åŠ¡ã€‚KML é’ˆå¯¹çŸ©é˜µå¯†é›†å‹è®¡ç®—è¿›è¡Œäº†ç‰¹æ®Šä¼˜åŒ–ï¼Œå‡å°‘äº†å¾ªç¯åµŒå¥—å¸¦æ¥çš„æ€§èƒ½ç“¶é¢ˆã€‚\né«˜ç»´å‘é‡è¿ç®—ï¼š ä¾‹å¦‚ä¸‰è§’å‡½æ•°è®¡ç®—ï¼Œæ™®é€šå®ç°é€å…ƒç´ è®¡ç®—æ•ˆç‡ä½ä¸‹ï¼Œè€Œ KML åˆ©ç”¨å‘é‡åŒ–æŠ€æœ¯å’Œæ‰¹é‡è®¡ç®—æ–¹æ³•ï¼Œå¯æ˜¾è‘—åŠ é€Ÿå¤„ç†å¤§è§„æ¨¡æ•°æ®ã€‚\nç‰¹å¾å€¼é—®é¢˜ï¼š å¯¹ç§°çŸ©é˜µç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡è®¡ç®—æ¶‰åŠå¤æ‚çš„è¿­ä»£ç®—æ³•ï¼ŒKML åœ¨ LAPACK çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥ä¼˜åŒ–äº†çŸ©é˜µæ“ä½œçš„å¹¶è¡Œæ€§ã€‚\n\n6. KML çš„æ¥å£è®¾è®¡ä¸æ˜“ç”¨æ€§\nåŠ¨æ€åº“é“¾æ¥ï¼š ç”¨æˆ·å¯é€šè¿‡ç®€å•çš„ç¼–è¯‘é€‰é¡¹é“¾æ¥ KML æä¾›çš„åŠ¨æ€åº“ï¼Œä»è€Œå¿«é€Ÿå®Œæˆæ€§èƒ½ä¼˜åŒ–ã€‚\næ¨¡å—åŒ–åŠŸèƒ½ï¼š ä¸åŒçš„å­æ¨¡å—ï¼ˆå¦‚ BLASã€VMLã€SPBLAS ç­‰ï¼‰æ»¡è¶³äº†ä»åŸºç¡€è¿ç®—åˆ°é«˜çº§çº¿æ€§ä»£æ•°çš„å¤šç§éœ€æ±‚ï¼Œæä¾›äº†è‰¯å¥½çš„å…¼å®¹æ€§å’Œå¯æ‰©å±•æ€§ã€‚\n\n4 å®éªŒä»»åŠ¡æ“ä½œæŒ‡å¯¼4.1å®‰è£…KMLä¸‹é¢ä»‹ç»å¦‚ä½•å®‰è£…KML\né¦–å…ˆä½¿ç”¨è¿œç¨‹ç™»å½•å·¥å…·ï¼Œç™»å½•åˆ°é²²é¹ ECS æœåŠ¡å™¨ä¸Š\nä¸‹è½½ WinSCP å®¢æˆ·ç«¯å¹¶å®‰è£…ã€‚\nå¯åŠ¨WinSCPï¼Œå¯åŠ¨åç•Œé¢å¦‚ä¸‹ï¼š\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nå¡«å†™è¯´æ˜ï¼š\n\nåè®®ï¼šé€‰å¡« SFTP æˆ–è€… SCP å‡å¯ã€‚\n\nä¸»æœºåï¼šäº‘æœåŠ¡å™¨çš„å…¬ç½‘ IPã€‚ç™»å½•ç®¡ç†æ§åˆ¶å°å³å¯æŸ¥çœ‹å¯¹åº”äº‘æœåŠ¡å™¨çš„å…¬ç½‘ IPã€‚\n\nç«¯å£ï¼šé»˜è®¤ 22ã€‚\n\nç”¨æˆ·åï¼šäº‘æœåŠ¡å™¨çš„ç”¨æˆ·åã€‚\n\nä½¿ç”¨â€œSSHå¯†é’¥æ–¹å¼â€ç™»å½•äº‘æœåŠ¡å™¨æ—¶ï¼š\n\nå¦‚æœæ˜¯â€œCoreOSâ€çš„å…¬å…±é•œåƒï¼Œç”¨æˆ·åä¸ºâ€œcoreâ€ã€‚\n\nå¦‚æœæ˜¯â€œéCoreOSâ€çš„å…¬å…±é•œåƒï¼Œç”¨æˆ·åä¸ºâ€œrootâ€ã€‚\n\n\n\nä½¿ç”¨â€œå¯†ç æ–¹å¼â€ç™»å½•äº‘æœåŠ¡å™¨ï¼Œå…¬å…±é•œåƒï¼ˆåŒ…æ‹¬CoreOSï¼‰çš„ç”¨æˆ·åä¸ºï¼šrootã€‚\n\nå¯†ç ï¼šè´­ä¹°äº‘æœåŠ¡å™¨è®¾ç½®çš„å¯†ç æˆ–é€šè¿‡å¯†é’¥æ–¹å¼è½¬åŒ–åçš„å¯†ç ã€‚\n\nå•å‡»â€œç™»å½•â€ï¼Œè¿›å…¥ â€œWinSCPâ€ æ–‡ä»¶ä¼ è¾“ç•Œé¢ã€‚\n\nç™»å½•æˆåŠŸä¹‹åï¼Œæ‚¨å¯ä»¥é€‰æ‹©å·¦ä¾§æœ¬åœ°è®¡ç®—æœºçš„æ–‡ä»¶ï¼Œæ‹–æ‹½åˆ°å³ä¾§çš„è¿œç¨‹äº‘æœåŠ¡å™¨ï¼Œå®Œæˆæ–‡ä»¶ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨ã€‚\n\n\nå…·ä½“æ“ä½œå¯ä»¥å‚è€ƒï¼š\næœ¬åœ°Windowsä¸»æœºä½¿ç”¨WinSCPä¸Šä¼ æ–‡ä»¶åˆ°Linuxäº‘æœåŠ¡å™¨ https://support.huaweicloud.com/ecs_faq/zh-cn_topic_0166284971.html\n ç„¶ååˆ°https://www.hikunpeng.com/developer/boostkit/library/detail?subtab=%E6%95%B0%E5%AD%A6%E5%BA%93è·å–KMLè½¯ä»¶åŒ…ï¼ˆGCCç‰ˆæœ¬ï¼‰\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nä¸‹è½½è½¯ä»¶åŒ…åè§£å‹å¾—åˆ°æ­¤æ–‡ä»¶ï¼š\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nå†é€šè¿‡â€œæœ¬åœ°Windowsä¸»æœºä½¿ç”¨WinSCPä¸Šä¼ æ–‡ä»¶åˆ°Linuxäº‘æœåŠ¡å™¨https://support.huaweicloud.com/ecs_faq/zh-cn_topic_0166284971.htmlâ€ä¸­æ‰€è¿°çš„è¿œç¨‹ç™»å½•å°†è¯¥æ–‡ä»¶ä¸Šä¼ åˆ°äº‘æœåŠ¡å™¨\næ¥ä¸‹æ¥å®‰è£…KMLã€‚\næ­¥éª¤1 ç™»å½•äº‘æœåŠ¡å™¨ï¼Œè¿›å…¥åˆšåˆšä¸Šä¼ æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œè¾“å…¥\nrpm -ivh kml-xxxx.aarch64.rpm\n\nå®‰è£…è½¯ä»¶åŒ…ï¼Œå…¶ä¸­å‘½ä»¤ä¸­æ¶‰åŠçš„xxxxä»£è¡¨ç‰ˆæœ¬å·ï¼Œä¸‹å›¾ç¤ºä¸­çš„ç‰ˆæœ¬å·æ˜¯2.4.0-1\n \nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\næ­¥éª¤ 2 å®‰è£…åéªŒè¯\næ‰§è¡Œsourceå‘½ä»¤æˆ–é‡æ–°ç™»å½•ç»ˆç«¯è®©ç¯å¢ƒå˜é‡ç”Ÿæ•ˆã€‚\nsource /etc/profile\n\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\næŸ¥çœ‹ç¯å¢ƒå˜é‡LD_LIBRARY_PATHæ˜¯å¦åŒ…å«KMLçš„å®‰è£…è·¯å¾„â€œ&#x2F;usr&#x2F;local&#x2F;kml&#x2F;libâ€ã€‚\nenv | grep LD_LIBRARY_PATH\n\nå¦‚æœå˜é‡åŒ…å«å®‰è£…è·¯å¾„ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nå®‰è£…æˆåŠŸååœ¨å®‰è£…è·¯å¾„ï¼ˆé»˜è®¤è·¯å¾„æ˜¯â€œ&#x2F;usr&#x2F;local&#x2F;kmlâ€ï¼‰ä¸‹ç”Ÿæˆç›¸åº”æ–‡ä»¶ï¼Œå…¶ä¸­ï¼Œincludeæ–‡ä»¶å¤¹åŒ…å«å­åº“çš„å¤´æ–‡ä»¶ï¼Œlibæ–‡ä»¶å¤¹åŒ…å«äº†æ•°å­¦åº“çš„åŠ¨æ€åº“æ–‡ä»¶ã€‚\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nä½¿ç”¨æ—¶ï¼Œè¯·åœ¨GCCç¼–è¯‘é€‰é¡¹ä¸­æ·»åŠ åŠ¨æ€åº“æ‰€åœ¨è·¯å¾„ï¼Œé“¾æ¥éœ€è¦ä½¿ç”¨çš„åŠ¨æ€åº“æ–‡ä»¶ï¼Œæ·»åŠ ç¼–è¯‘é€‰é¡¹åç”¨lddå‘½ä»¤æ£€æŸ¥ç¨‹åºä¾èµ–åº“æ˜¯å¦å‡†ç¡®é“¾æ¥ã€‚\nè‹¥éœ€è¦ä½¿ç”¨KML_BLASè¯·æ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œæ­¤å¤„å¯¹å®˜æ–¹ç»™å‡ºçš„ä»£ç è¿›è¡Œé€‚å½“ä¿®æ”¹ä»¥æ­£å¸¸ä½¿ç”¨ï¼š\nå•çº¿ç¨‹ä¸åŠ é”ç‰ˆæœ¬ï¼š-L /usr/local/kml/lib/kblas/nolocking -lkblas -I /usr/local/kml/include -pthreadå•çº¿ç¨‹åŠ é”ç‰ˆæœ¬ï¼š-L /usr/local/kml/lib/kblas/locking -lkblas -I /usr/local/kml/include -pthreadpthreadå®ç°å¤šçº¿ç¨‹ç‰ˆæœ¬ï¼š-L /usr/local/kml/lib/kblas/pthread -lkblas -I /usr/local/kml/include -pthreadOpenMPå®ç°å¤šçº¿ç¨‹ç‰ˆæœ¬ï¼š-L /usr/local/kml/lib/kblas/omp -lkblas -I /usr/local/kml/include -pthread\nè‹¥éœ€è¦ä½¿ç”¨KML_VMLè¯·æ·»åŠ ï¼š\nå•çº¿ç¨‹ç‰ˆæœ¬ï¼š-L /usr/local/kml/lib/kvml/single -lkvml -L /usr/local/kml/lib -lkm -I /usr/local/kml/include -lmå¤šçº¿ç¨‹ç‰ˆæœ¬ï¼š-L /usr/local/kml/lib/kvml/multi -lkvml -L /usr/local/kml/lib -lkm -I /usr/local/kml/include -lm -fopenmp\nè‹¥éœ€è¦ä½¿ç”¨KML_SPBLASè¯·æ·»åŠ ï¼š\nå•çº¿ç¨‹ç‰ˆæœ¬ï¼š-L /usr/local/kml/lib/kspblas/single -lkspblas -I /usr/local/kml/include -pthreadå¤šçº¿ç¨‹ç‰ˆæœ¬ï¼š-L /usr/local/kml/lib/kspblas/multi -lkspblas -I /usr/local/kml/include -pthread\nè‹¥éœ€è¦ä½¿ç”¨KML_FFTè¯·æ·»åŠ ï¼š\nå•ç²¾åº¦ç‰ˆæœ¬ï¼š-L /usr/local/kml/lib -lkfftf -I /usr/local/kml/include -pthreadåŒç²¾åº¦ç‰ˆæœ¬ï¼š-L /usr/local/kml/lib -lkfft -I /usr/local/kml/include -pthread\nè‹¥éœ€è¦ä½¿ç”¨KML_MATHè¯·æ·»åŠ ï¼š\né«˜æ€§èƒ½ç‰ˆæœ¬ï¼š-L /usr/local/kml/lib -lkm -lm -I /usr/local/kml/include -pthreadé«˜ç²¾åº¦ç‰ˆæœ¬ï¼š-L /usr/local/kml/lib -lkm_l9 -lm -I /usr/local/kml/include -pthread\nè‹¥éœ€è¦ä½¿ç”¨KML_SVMLè¯·æ·»åŠ ï¼š\n-L /usr/local/kml/lib -lksvml -lm -I /usr/local/kml/include -pthread\nè‹¥éœ€è¦ä½¿ç”¨KML_VSLè¯·æ·»åŠ ï¼š\n-L /usr/local/kml/lib -lkvsl -I /usr/local/kml/include -pthread -lm\nè‹¥éœ€è¦ä½¿ç”¨KML_LAPACKï¼š\nå…ˆç”Ÿæˆå®Œæ•´çš„LAPACKï¼Œç„¶åæ·»åŠ ï¼š\nexport KML_LAPACK_ROOT=/usr/local/kml/libexport ADAPT_ROOT=/home/lapack_adaptexport KML_BLAS_ROOT=/usr/local/kml/lib/kblas/ompgcc test.c -o test -fopenmp -I $KML_LAPACK_ROOT/include/kml-0.3.0 -L /usr/local/kml/lib -lklapack -L $ADAPT_ROOT -l:liblapack_adapt.a -L $KML_BLAS_ROOT -lkblas -lgfortran -lm -lkservice -I /usr/local/kml/include\nè‹¥éœ€è¦ä½¿ç”¨KML_IPLè¯·æ·»åŠ ï¼š\n-L /usr/local/kml/lib -lkipl -lklapack_full -L /usr/local/kml/lib/kblas/pthread -lkblas -lm -I /usr/local/kml/include -pthread\nè‹¥éœ€è¦ä½¿ç”¨KML_SCALAPACK ï¼šå…ˆç”Ÿæˆå®Œæ•´çš„SCALAPACKï¼Œç„¶åæ·»åŠ ï¼š\n# åŠ¨æ€gcc test.c -o app  -fopenmp -I /usr/local/kml/lib/kblas/omp/include/kml-0.3.0 -L /usr/local/kml/lib -l:libkscalapack.a -L /home/scalapack_adapt -l:libscalapack_adapt.a -L /usr/local/kml/lib/kblas/omp -l kblas -L /usr/local/kml/lib  -l:libkservice.a -L /home/lapack_adapt -l:liblapack_adapt.a  -lm -I /usr/local/kml/include# é™æ€export KML_LAPACK_ROOT=/usr/local/kml/libexport ADAPT_ROOT=/home/scalapack_adaptexport KML_BLAS_ROOT=/usr/local/kml/lib/kblas/ompgcc test.c -o app  -fopenmp -I $KML_LAPACK_ROOT/include/kml-0.3.0 -L /usr/local/kml/lib -l:libkscalapack.a -L $ADAPT_ROOT -l:libscalapack_adapt.a -L $KML_BLAS_ROOT -L /home/lapack_adapt -l:liblapack_adapt.a -l:libkservice.a -lm -I /usr/local/kml/include\n\nä¸‹é¢ç»™å‡ºä¸¤ä¸ªåŸºç¡€çš„æµ‹è¯•ç¨‹åºç”¨äºæµ‹è¯•æ˜¯å¦å·²ç»æˆåŠŸå®‰è£…\nä½¿ç”¨mkdiråˆ›å»ºæ–‡ä»¶å¤¹FFTTESTï¼Œä½¿ç”¨cd FFTTESTè¿›å…¥ï¼Œvim test.cåˆ›å»ºæµ‹è¯•æ–‡ä»¶\n#include &lt;stdio.h&gt;#include &quot;km.h&quot;int main()&#123;    double pi = acos(-1);     // typical usage     double a = pi/6, b = 1.0, c = -3*pi/4, d = pi/3;     // print result     printf(&quot;sin(pi/6) = %.15f\\n&quot;, sin(a));     printf(&quot;sin(1.0) = %.15f\\n&quot;, sin(b));     printf(&quot;sin(-3*pi/4) = %.15f\\n&quot;, sin(c));      /*      *  sin(pi/6) = 0.500000000000000      *  sin(1.0) = 0.841470984807897      *  sin(-3*pi/4) = -0.707106781186548      *  sin(pi/3) = 0.866025403784438      * */        return 0;&#125;\n\nåˆ©ç”¨\ngcc test.c -I /usr/local/kml/include -L /usr/local/kml/lib -lkm_l9 -lm\n\nç¼–è¯‘ï¼Œç”Ÿæˆa.out\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nè¾“å…¥\n./a.out\n\nè¿è¡Œï¼Œç»“æœå¦‚ä¸‹\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\næ¥ä¸‹æ¥å°è¯•ç”¨ç‰›é¡¿è¿­ä»£æ³•æ±‚è§£éçº¿æ€§æ–¹ç¨‹çš„æ ¹\nä¾æ¬¡æ‰§è¡Œå‘½ä»¤ mkdir NEWTONã€cd NEWTON åˆ›å»ºå¹¶è¿›å…¥åˆ° NEWTON ç›®å½•ã€‚\nåˆ›å»º sum.c æ–‡ä»¶ï¼Œç¼–å†™å†…å®¹å¦‚ä¸‹ï¼š\n//ç‰›é¡¿è¿­ä»£æ³•æ±‚è§£éçº¿æ€§æ–¹ç¨‹çš„æ ¹#include &lt;stdio.h&gt;#include &quot;km.h&quot;double f(double x) &#123;    return x * x - 2; // å‡½æ•° f(x) = x^2 - 2&#125;double df(double x) &#123;    return 2 * x; // å‡½æ•°çš„å¯¼æ•° f&#x27;(x) = 2x&#125;double newton(double initial_guess, double tolerance, int max_iterations) &#123;    double x = initial_guess;    int iteration = 0;        while (iteration &lt; max_iterations) &#123;        double fx = f(x);        if (fabs(fx) &lt; tolerance) &#123;            return x; // æ‰¾åˆ°æ ¹ï¼Œè¿”å›å½“å‰å€¼        &#125;double dfx = df(x);        if (dfx == 0) &#123;            printf(&quot;Error: Derivative is zero. No solution found.\\n&quot;);            return x; // å¯¼æ•°ä¸ºé›¶ï¼Œæ— æ³•ç»§ç»­        &#125;         x = x - fx / dfx; // ç‰›é¡¿è¿­ä»£å…¬å¼        iteration++;    &#125;    printf(&quot;Max iterations reached. Last approximation: %f\\n&quot;, x);    return x; // è¿”å›æœ€åçš„è¿‘ä¼¼å€¼&#125;int main() &#123;    double initial_guess = 1.0; // åˆå§‹çŒœæµ‹    double tolerance = 1e-7; // å®¹å¿åº¦    int max_iterations = 100; // æœ€å¤§è¿­ä»£æ¬¡æ•°    double root;    printf(&quot;With KML:\\n&quot;);    root = newton(initial_guess, tolerance, max_iterations);    printf(&quot;Root found: %f\\n&quot;, root);    return 0;&#125;\n\nè¾“å…¥\ngcc NEWTON_KML.c -I /usr/local/kml/include -L /usr/local/kml/lib -lkm -lm -o NEWTON_KML./NEWTON_KML\n\nè¿è¡Œä¹‹ï¼Œç»“æ„å¦‚ä¸‹ï¼š\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nè‡³æ­¤è¯´æ˜kmlå®‰è£…æˆåŠŸ\n4.2 çŸ©é˜µ-å‘é‡ä¹˜åŠ è¿ç®—å¯¹æ¯”å®éªŒè¯¥ä»£ç ä¸»è¦è¿›è¡Œäº†å¦‚ä¸‹å·¥ä½œï¼šåˆå§‹åŒ–è§„æ¨¡ä¸º1000*300çš„çŸ©é˜µAï¼Œé•¿åº¦ä¸º300çš„å‘é‡xï¼Œé•¿åº¦ä¸º1000çš„å‘é‡y1å’Œy2ã€‚åˆ†åˆ«ç”¨ä¸¤ç§æ–¹æ³•æ±‚çŸ©é˜µ-å‘é‡ä¹˜åŠ è¿ç®—ï¼Œå³y&#x3D;alpha*A*x+beta*yï¼š \nï¼ˆ1ï¼‰æŒ‰ç…§çŸ©é˜µ-å‘é‡çš„ä¹˜åŠ è§„åˆ™å®ç°ç®—æ³•æ±‚è§£ \nï¼ˆ2ï¼‰è°ƒç”¨KML_BLASæä¾›çš„å‡½æ•°cblas_dgemvæ±‚è§£ åˆ†åˆ«ç”¨è®¡æ—¶å™¨è®°å½•ä¸¤ç§æ–¹æ³•æ¶ˆè€—çš„æ—¶é—´ï¼Œå¯¹æ¯”KML_BLASä¸æ‰‹åŠ¨å®ç°çŸ©é˜µä¹˜åŠ çš„æ€§èƒ½ã€‚ \nç¼–å†™ä»£ç å¦‚ä¸‹ï¼š\n#include&lt;stdio.h&gt;#include&lt;time.h&gt;#include &quot;kblas.h&quot;#define M 1000#define N 300int main()&#123;    double A[M*N]=&#123;0&#125;;double x[N]=&#123;0&#125;;double y1[M]=&#123;0&#125;;double y2[M]=&#123;0&#125;;for (int i=0;i&lt;M*N;i++)&#123;   A[i]=i;&#125;for (int i=0;i&lt;N;i++)&#123;   x[i]=i;&#125;for (int i=0;i&lt;M;i++)&#123;   y1[i]=1;   y2[i]=1;&#125; double alpha=1.2;double beta=2.5;struct timespec t1,t2;    //å®šä¹‰åˆå§‹ä¸ç»“æŸæ—¶é—´printf(&quot;Without KML:\\n&quot;);clock_gettime(CLOCK_MONOTONIC,&amp;t1);      //è®¡ç®—å¼€å§‹æ—¶é—´ã€‚for(int i=0;i&lt;M;i++)&#123;   double tmp=0;    for(int j=0;j&lt;N;j++)    &#123;         tmp+=(A[i*N+j]*x[j]);    &#125;    y1[i]=alpha*tmp+beta*y1[i];&#125;clock_gettime(CLOCK_MONOTONIC,&amp;t2);    //è®¡ç®—ç»“æŸæ—¶é—´ã€‚printf(&quot;Time:%11u ns\\n&quot;,t2.tv_nsec-t1.tv_nsec);  printf(&quot;With KML:\\n&quot;);clock_gettime(CLOCK_MONOTONIC,&amp;t1);      //è®¡ç®—å¼€å§‹æ—¶é—´ã€‚cblas_dgemv(CblasColMajor,CblasNoTrans, M, N, alpha, A, M, x, 1, beta, y2, 1); clock_gettime(CLOCK_MONOTONIC,&amp;t2);    //è®¡ç®—ç»“æŸæ—¶é—´ã€‚printf(&quot;Time:%11u ns\\n&quot;,t2.tv_nsec-t1.tv_nsec);  return 0;&#125;\n\nè¾“å…¥ï¼š\ngcc kblas.c -o kblas -L /usr/local/kml/lib/kblas/nolocking -lkblas -I /usr/local/kml/include\n\nè¿è¡Œä¹‹ï¼Œå¾—åˆ°è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nå¯çŸ¥KML_BLASæä¾›çš„å‡½æ•°cblas_dgemvå¯¹çŸ©é˜µ-å‘é‡ä¹˜åŠ è¿ç®—çš„ä¼˜åŒ–æ•ˆæœååˆ†æ˜¾è‘—\n4.3 è°ƒç”¨KML_VMLåº“è®¡ç®—100000ä¸ªæ•°çš„sinå€¼å’Œæ™®é€šå¾ªç¯å¯¹æ¯”ä½“ç°ä¼˜åŒ–ä½¿ç”¨å¤šçº¿ç¨‹ç‰ˆæœ¬\n#include&lt;stdio.h&gt;#include&lt;time.h&gt;#include&lt;math.h&gt;#include&quot;kvml.h&quot;#defineÂ LENÂ 100000intÂ main()&#123;Â Â Â doubleÂ src[LEN]=&#123;0&#125;;Â Â Â doubleÂ dst1[LEN]=&#123;0&#125;;Â Â Â doubleÂ dst2[LEN]=&#123;0&#125;;Â Â Â for(intÂ i=0;i&lt;LEN;i++)Â Â Â Â Â Â Â src[i]=i;Â Â Â Â structÂ timespecÂ t1,t2;Â Â Â Â //å®šä¹‰åˆå§‹ä¸ç»“æŸæ—¶é—´Â Â Â Â printf(&quot;WithoutÂ KML_VMLÂ &quot;);Â Â Â Â clock_gettime(CLOCK_MONOTONIC,&amp;t1);Â Â Â Â Â Â //è®¡ç®—å¼€å§‹æ—¶é—´ã€‚Â Â Â Â for(intÂ i=0;i&lt;LEN;i++)Â Â Â Â Â Â Â dst1[i]=sin(src[i]);Â Â Â Â clock_gettime(CLOCK_MONOTONIC,&amp;t2);Â Â Â Â //è®¡ç®—ç»“æŸæ—¶é—´ã€‚Â Â Â Â printf(&quot;Time:%11uÂ ns\\n&quot;,t2.tv_nsec-t1.tv_nsec);Â Â //å¾—å‡ºç›®æ ‡ä»£ç æ®µçš„æ‰§è¡Œæ—¶é—´ã€‚Â Â Â Â printf(&quot;WithÂ KML_VMLÂ &quot;);Â Â Â Â clock_gettime(CLOCK_MONOTONIC,&amp;t1);Â Â Â Â Â Â //è®¡ç®—å¼€å§‹æ—¶é—´ã€‚Â Â Â Â vdsin(LEN,src,dst2);Â Â Â Â clock_gettime(CLOCK_MONOTONIC,&amp;t2);Â Â Â Â //è®¡ç®—ç»“æŸæ—¶é—´ã€‚Â Â Â Â printf(&quot;Time:%11uÂ ns\\n&quot;,t2.tv_nsec-t1.tv_nsec);Â Â //å¾—å‡ºç›®æ ‡ä»£ç æ®µçš„æ‰§è¡Œæ—¶é—´ã€‚returnÂ 0;&#125;\n\nè¾“å…¥\ngcc vsin.c -o vsin -L /usr/local/kml/lib/kvml/multi -lkvml -L /usr/local/kml/lib -lkm -I /usr/local/kml/include -lm -fopenmp./vsin\n\nè¿è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nå¯çŸ¥KML_VMLåº“å¯¹ä¸‰è§’å‡½æ•°è¿ç®—çš„ä¼˜åŒ–æ•ˆæœååˆ†æ˜¾è‘—\n4.4 ä½“ç°LAPACKåº“æ€§èƒ½çš„å¯¹æ¯”å®éªŒé¦–å…ˆè¦ç”Ÿæˆå®Œæ•´çš„LAPACKç”¨åˆ°çš„è„šæœ¬\næ¥ä¸‹æ¥çš„ç¨‹åºéœ€è¦è„šæœ¬æ‰èƒ½æ­£ç¡®è¿è¡Œ\nåœ¨&#x2F;homeç›®å½•ä¸‹åˆ›å»ºsh.shæ–‡ä»¶ï¼Œæ¥ç€ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š\nsetÂ -eEechoÂ &quot;LAPACK_SRC_DIRÂ Â Â Â Â Â Â Â Â $&#123;LAPACK_SRC_DIR:-&lt;undefined&gt;&#125;&quot;echoÂ &quot;LAPACK_TGZÂ Â Â Â Â Â Â Â Â Â Â Â Â $&#123;LAPACK_TGZ:=/home/lapack-3.12.0.tar.gz&#125;&quot;echoÂ &quot;LIBKLAPACK_AÂ Â Â Â Â Â Â Â Â Â Â $&#123;LIBKLAPACK_A:=/usr/local/kml/lib/libklapack.a&#125;&quot;echoÂ &quot;LIBKSERVICE_AÂ Â Â Â Â Â Â Â Â Â $&#123;LIBKSERVICE_A:=$&#123;LIBKLAPACK_A/klapack/kservice&#125;&#125;&quot;echoÂ &quot;ADAPT_DIRÂ Â Â Â Â Â Â Â Â Â Â Â Â Â $&#123;ADAPT_DIR:=./lapack_adapt&#125;&quot;echoÂ &quot;CMAKE_BUILD_TYPEÂ Â Â Â Â Â Â $&#123;CMAKE_BUILD_TYPE:=Release&#125;&quot;echoÂ &quot;LIBLAPACK_ADAPT_AÂ Â Â Â Â Â $&#123;LIBLAPACK_ADAPT_A:=liblapack_adapt.a&#125;&quot;echoÂ &quot;LIBKLAPACK_FULL_SOÂ Â Â Â Â $&#123;LIBKLAPACK_FULL_SO:=libklapack_full.so&#125;&quot;echoÂ &quot;CCÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â $&#123;CC:=gcc&#125;&quot;echoÂ &quot;FCÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â $&#123;FC:=gfortran&#125;&quot;mkdirÂ -pÂ $&#123;ADAPT_DIR&#125;ZQcdÂ $&#123;ADAPT_DIR&#125;#Â buildÂ netlibÂ lapackifÂ [Â !Â -rÂ &quot;$&#123;LAPACK_SRC_DIR&#125;/CMakeLists.txt&quot;Â ];Â thenÂ Â Â Â mkdirÂ -pÂ netlibÂ Â Â Â (Â cdÂ netlibÂ ;Â tarÂ xzpfÂ $&#123;LAPACK_TGZ&#125;Â )Â Â Â Â LAPACK_SRC_DIR=$(cdÂ netlib/l*Â ;Â pwd)fimkdirÂ -pÂ buildcmake_flags=(Â Â Â Â -DCMAKE_BUILD_TYPE=$&#123;CMAKE_BUILD_TYPE&#125;Â Â Â Â -DCMAKE_POSITION_INDEPENDENT_CODE=ONÂ Â Â Â -DCMAKE_C_COMPILER=$&#123;CC&#125;Â Â Â Â -DCMAKE_Fortran_COMPILER=$&#123;FC&#125;Â Â Â Â -DCMAKE_RULE_MESSAGES=offÂ Â Â Â -DBUILD_DEPRECATED=onÂ Â Â Â -DBUILD_TESTING=off)(Â cdÂ buildÂ ;Â cmakeÂ $&#123;cmake_flags[*]&#125;Â $&#123;LAPACK_SRC_DIR&#125;Â )(Â cdÂ buildÂ ;Â makeÂ -jÂ )cpÂ build/lib/liblapack.aÂ $&#123;LIBLAPACK_ADAPT_A&#125;#Â getÂ symbolsÂ definedÂ bothÂ inÂ klapackÂ andÂ netlibÂ lapacknmÂ -gÂ $&#123;LIBLAPACK_ADAPT_A&#125;Â |Â grepÂ &#x27;TÂ &#x27;Â |Â grepÂ -oPÂ &#x27;\\K\\w+(?=_$)&#x27;Â |Â sortÂ |Â uniqÂ &gt;Â netlib.symnmÂ -gÂ $&#123;LIBKLAPACK_A&#125;Â |Â grepÂ &#x27;TÂ &#x27;Â |Â grepÂ -oPÂ &#x27;\\K\\w+(?=_$)&#x27;Â |Â sortÂ |Â uniqÂ &gt;Â klapack.symcommÂ -12Â klapack.symÂ netlib.symÂ &gt;Â comm.sym#Â updateÂ symbolsÂ nameÂ ofÂ $&#123;LIBLAPACK_ADAPT_A&#125;whileÂ readÂ sym;Â doÂ Â Â Â (Â Â Â Â Â Â Â Â ifÂ !Â nmÂ $&#123;LIBLAPACK_ADAPT_A&#125;Â |Â grepÂ -qeÂ &quot;Â TÂ $&#123;sym&#125;_\\$&quot;;Â thenÂ Â Â Â Â Â Â Â Â Â Â Â continueÂ Â Â Â Â Â Â Â fiÂ Â Â Â Â Â Â Â arÂ xÂ $&#123;LIBLAPACK_ADAPT_A&#125;Â $&#123;sym&#125;.f.oÂ Â Â Â Â Â Â Â mvÂ $&#123;sym&#125;.f.oÂ $&#123;sym&#125;_netlib.f.oÂ Â Â Â Â Â Â Â objcopyÂ --redefine-symÂ $&#123;sym&#125;_=$&#123;sym&#125;_netlib_Â $&#123;sym&#125;_netlib.f.oÂ Â Â Â )Â &amp;doneÂ &lt;Â comm.symwaitarÂ dÂ $&#123;LIBLAPACK_ADAPT_A&#125;Â $(sedÂ -neÂ &#x27;s/$/.f.o/p&#x27;Â comm.sym)arÂ dÂ $&#123;LIBLAPACK_ADAPT_A&#125;Â xerbla.f.oarÂ ruÂ $&#123;LIBLAPACK_ADAPT_A&#125;Â *_netlib.f.ormÂ *_netlib.f.o\n\nåœ¨&#x2F;homeç›®å½•ä¸‹è¾“å…¥\nsh sh.sh\n\nè¿è¡Œä¹‹ï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nè‡³æ­¤LAPACKç”¨åˆ°çš„è„šæœ¬å·²ç»ç”Ÿæˆå®Œæ¯•\næ¥ä¸‹æ¥å…ˆå±•ç¤ºå¦‚ä½•ä½¿ç”¨ä¸€èˆ¬cè¯­è¨€ä»£ç è®¡ç®—å®å¯¹ç§°çŸ©é˜µçš„ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡\nç¼–å†™eigenNoOpt.cæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\n#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;math.h&gt;#include&lt;time.h&gt;float**Â Matrix_Jac_Eig(floatÂ **array,Â intÂ n,Â floatÂ *eig);intÂ Matrix_Free(floatÂ **tmp,Â intÂ m,Â intÂ n);intÂ main(void)&#123;Â Â Â Â intÂ n;Â Â Â Â printf(&quot;è¯·è¾“å…¥çŸ©é˜µç»´åº¦:\\n&quot;);Â Â Â Â scanf(&quot;%d&quot;,Â &amp;n);Â Â Â Â floatÂ **arrayÂ =Â (floatÂ **)malloc(nÂ *Â sizeof(floatÂ *));Â Â Â Â ifÂ (arrayÂ ==Â NULL)Â Â Â Â &#123;Â Â Â Â Â Â Â Â printf(&quot;errorÂ :ç”³è¯·æ•°ç»„å†…å­˜ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â returnÂ -1;Â Â Â Â &#125;Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â array[i]Â =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â Â Â Â Â ifÂ (array[i]Â ==Â NULL)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ :ç”³è¯·æ•°ç»„å­å†…å­˜ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â returnÂ -1;Â Â Â Â Â Â Â Â &#125;Â Â Â Â &#125;Â Â Â Â printf(&quot;è¯·è¾“å…¥çŸ©é˜µå…ƒç´ :\\n&quot;);Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â forÂ (intÂ jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â scanf(&quot;%f&quot;,Â &amp;array[i][j]);Â Â Â Â Â Â Â Â &#125;Â Â Â Â &#125;Â Â Â Â floatÂ *eigÂ =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â Â Â Â Â structÂ timespecÂ t1,t2;Â Â Â Â printf(&quot;WithoutÂ KML:\\n&quot;);Â Â Â Â clock_gettime(CLOCK_MONOTONIC,&amp;t1);Â Â Â Â Â Â //è®¡ç®—å¼€å§‹æ—¶é—´ã€‚Â Â Â Â floatÂ **ResultÂ =Â Matrix_Jac_Eig(array,Â n,Â eig);Â Â Â Â clock_gettime(CLOCK_MONOTONIC,&amp;t2);Â Â Â Â //è®¡ç®—ç»“æŸæ—¶é—´ã€‚Â Â Â Â printf(&quot;Time:%11uÂ ns\\n&quot;,t2.tv_nsec-t1.tv_nsec);Â Â Â Â Â Â printf(&quot;ç‰¹å¾çŸ©é˜µå…ƒç´ :\\n&quot;);Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â forÂ (intÂ jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;%fÂ &quot;,Â Result[i][j]);Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â printf(&quot;\\n&quot;);Â Â Â Â &#125;Â Â Â Â printf(&quot;ç‰¹å¾æ ¹:\\n&quot;);Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â printf(&quot;%fÂ \\n&quot;,Â eig[i]);Â Â Â Â &#125;Â Â Â Â Matrix_Free(Result,Â n,Â n);Â Â Â Â free(eig);Â Â Â Â eigÂ =Â NULL;Â Â Â Â returnÂ 0;&#125;float**Â Matrix_Jac_Eig(floatÂ **array,Â intÂ n,Â floatÂ *eig)&#123;Â Â Â Â intÂ i,Â j,Â flag,Â k;Â Â Â Â flagÂ =Â 0;Â Â Â Â kÂ =Â 0;Â Â Â Â floatÂ sumÂ =Â 0;Â Â Â Â floatÂ **temp_matÂ =Â (floatÂ **)malloc(nÂ *Â sizeof(floatÂ *));Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â temp_mat[i]Â =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â &#125;Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â temp_mat[i][j]Â =Â array[i][j];Â Â Â Â Â Â Â Â &#125;Â Â Â Â &#125;Â Â Â Â //åˆ¤æ–­æ˜¯å¦ä¸ºå¯¹ç§°çŸ©é˜µÂ Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â forÂ (jÂ =Â i;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (array[i][j]Â !=Â array[j][i])Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â flagÂ =Â 1;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â break;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â &#125;Â Â Â Â ifÂ (flagÂ ==Â 1)Â Â Â Â &#123;Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:Â è¾“å…¥å¹¶éæ˜¯å¯¹ç§°çŸ©é˜µ:\\n&quot;);Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â &#125;Â Â Â Â elseÂ Â Â Â &#123;Â Â Â Â Â Â Â Â //å¼€å§‹æ‰§è¡Œç®—æ³•Â Â Â Â Â Â Â Â intÂ p,Â q;Â Â Â Â Â Â Â Â floatÂ threshÂ =Â 0.0000000001;Â Â Â Â Â Â Â Â floatÂ maxÂ =Â array[0][1];Â Â Â Â Â Â Â Â floatÂ tan_angle,Â sin_angle,Â cos_angle;Â Â Â Â Â Â Â Â floatÂ **resultÂ =Â (floatÂ **)malloc(nÂ *Â sizeof(floatÂ *));Â Â Â Â Â Â Â Â ifÂ (resultÂ ==Â NULL)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â floatÂ **result_tempÂ =Â (floatÂ **)malloc(nÂ *Â sizeof(floatÂ *));Â Â Â Â Â Â Â Â ifÂ (result_tempÂ ==Â NULL)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â floatÂ **rotÂ =Â (floatÂ **)malloc(nÂ *Â sizeof(floatÂ *));Â Â Â Â Â Â Â Â ifÂ (rotÂ ==Â NULL)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â floatÂ **matÂ =Â (floatÂ **)malloc(nÂ *Â sizeof(floatÂ *));Â Â Â Â Â Â Â Â ifÂ (matÂ ==Â NULL)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â result[i]Â =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (result[i]Â ==Â NULL)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·å­ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â result_temp[i]Â =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (result_temp[i]Â ==Â NULL)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·å­ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â rot[i]Â =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (rot[i]Â ==Â NULL)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·å­ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â mat[i]Â =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (mat[i]Â ==Â NULL)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·å­ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (iÂ ==Â j)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â result[i][j]Â =Â 1;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â result[i][j]Â =Â 0;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (iÂ ==Â j)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mat[i][j]Â =Â 1;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mat[i][j]Â =Â 0;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â maxÂ =Â array[0][1];Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (iÂ ==Â j)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â continue;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (fabs(array[i][j])Â &gt;=Â fabs(max))Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â maxÂ =Â array[i][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â pÂ =Â i;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â qÂ =Â j;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â continue;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â whileÂ (fabs(max)Â &gt;Â thresh)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (fabs(max)Â &lt;Â thresh)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â break;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â tan_angleÂ =Â -2Â *Â array[p][q]Â /Â (array[q][q]Â -Â array[p][p]);Â Â Â Â Â Â Â Â Â Â Â Â sin_angleÂ =Â sin(0.5*atan(tan_angle));Â Â Â Â Â Â Â Â Â Â Â Â cos_angleÂ =Â cos(0.5*atan(tan_angle));Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (iÂ ==Â j)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mat[i][j]Â =Â 1;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mat[i][j]Â =Â 0;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â mat[p][p]Â =Â cos_angle;Â Â Â Â Â Â Â Â Â Â Â Â mat[q][q]Â =Â cos_angle;Â Â Â Â Â Â Â Â Â Â Â Â mat[q][p]Â =Â sin_angle;Â Â Â Â Â Â Â Â Â Â Â Â mat[p][q]Â =Â -sin_angle;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rot[i][j]Â =Â array[i][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rot[p][j]Â =Â cos_angle*array[p][j]Â +Â sin_angle*array[q][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rot[q][j]Â =Â -sin_angle*array[p][j]Â +Â cos_angle*array[q][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rot[j][p]Â =Â cos_angle*array[j][p]Â +Â sin_angle*array[j][q];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rot[j][q]Â =Â -sin_angle*array[j][p]Â +Â cos_angle*array[j][q];Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â rot[p][p]Â =Â array[p][p]Â *Â cos_angle*cos_angleÂ +Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â array[q][q]Â *Â sin_angle*sin_angleÂ +Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 2Â *Â array[p][q]Â *Â cos_angle*sin_angle;Â Â Â Â Â Â Â Â Â Â Â Â rot[q][q]Â =Â array[q][q]Â *Â cos_angle*cos_angleÂ +Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â array[p][p]Â *Â sin_angle*sin_angleÂ -Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 2Â *Â array[p][q]Â *Â cos_angle*sin_angle;Â Â Â Â Â Â Â Â Â Â Â Â rot[p][q]Â =Â 0.5*(array[q][q]Â -Â array[p][p])Â *Â 2Â *Â sin_angle*cos_angleÂ +Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â array[p][q]Â *Â (2Â *Â cos_angle*cos_angleÂ -Â 1);Â Â Â Â Â Â Â Â Â Â Â Â rot[q][p]Â =Â 0.5*(array[q][q]Â -Â array[p][p])Â *Â 2Â *Â sin_angle*cos_angleÂ +Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â array[p][q]Â *Â (2Â *Â cos_angle*cos_angleÂ -Â 1);Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â array[i][j]Â =Â rot[i][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â maxÂ =Â array[0][1];Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (iÂ ==Â j)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â continue;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (fabs(array[i][j])Â &gt;=Â fabs(max))Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â maxÂ =Â array[i][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â pÂ =Â i;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â qÂ =Â j;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â continue;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â eig[i]Â =Â array[i][i];Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sumÂ =Â 0;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (kÂ =Â 0;Â kÂ &lt;Â n;Â k++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sumÂ =Â sumÂ +Â result[i][k]Â *Â mat[k][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â result_temp[i][j]Â =Â sum;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â result[i][j]Â =Â result_temp[i][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â array[i][j]Â =Â temp_mat[i][j];Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Matrix_Free(result_temp,Â n,Â n);Â Â Â Â Â Â Â Â Matrix_Free(rot,Â n,Â n);Â Â Â Â Â Â Â Â Matrix_Free(mat,Â n,Â n);Â Â Â Â Â Â Â Â Matrix_Free(temp_mat,Â n,Â n);Â Â Â Â Â Â Â Â returnÂ result;Â Â Â Â &#125;&#125;intÂ Matrix_Free(floatÂ **tmp,Â intÂ m,Â intÂ n)&#123;Â Â Â Â intÂ i,Â j;Â Â Â Â ifÂ (tmpÂ ==Â NULL)Â Â Â Â &#123;Â Â Â Â Â Â Â Â return(1);Â Â Â Â &#125;Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â m;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â ifÂ (tmp[i]Â !=Â NULL)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â free(tmp[i]);Â Â Â Â Â Â Â Â Â Â Â Â tmp[i]Â =Â NULL;Â Â Â Â Â Â Â Â &#125;Â Â Â Â &#125;Â Â Â Â ifÂ (tmpÂ !=Â NULL)Â Â Â Â &#123;Â Â Â Â Â Â Â Â free(tmp);Â Â Â Â Â Â Â Â tmpÂ =Â NULL;Â Â Â Â &#125;Â Â Â Â return(0);&#125;\n\nè¾“å…¥å¦‚ä¸‹ä»£ç å¯¹å…¶è¿›è¡Œç¼–è¯‘å¹¶è¿è¡Œï¼š\ngcc eigenNoOpt.c -o eigenNoOpt -lm./eigenNoOpt    \n\nå¾—åˆ°è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nå¯¹å…¶è¿›è¡Œæ”¹è¿›ï¼Œå¹¶ä½œä½“ç°LAPACKåº“æ€§èƒ½çš„å¯¹æ¯”å®éªŒå¦‚ä¸‹ï¼š\nå°†ä¼ ç»ŸCè¯­è¨€ç®—æ³•çš„ä»£ç æ”¹ä¸ºå¦‚ä¸‹ï¼š\n#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;math.h&gt;#include&lt;time.h&gt;float**Â Matrix_Jac_Eig(floatÂ **array,Â intÂ n,Â floatÂ *eig);intÂ Matrix_Free(floatÂ **tmp,Â intÂ m,Â intÂ n);intÂ main(void)&#123;Â Â Â Â intÂ n;Â Â Â Â printf(&quot;è¯·è¾“å…¥çŸ©é˜µç»´åº¦:\\n&quot;);Â Â Â Â scanf(&quot;%d&quot;,Â &amp;n);Â Â Â Â floatÂ **arrayÂ =Â (floatÂ **)malloc(nÂ *Â sizeof(floatÂ *));Â Â Â Â ifÂ (arrayÂ ==Â NULL)Â Â Â Â &#123;Â Â Â Â Â Â Â Â printf(&quot;errorÂ :ç”³è¯·æ•°ç»„å†…å­˜ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â returnÂ -1;Â Â Â Â &#125;Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â array[i]Â =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â Â Â Â Â ifÂ (array[i]Â ==Â NULL)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ :ç”³è¯·æ•°ç»„å­å†…å­˜ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â returnÂ -1;Â Â Â Â Â Â Â Â &#125;Â Â Â Â &#125;Â Â Â Â printf(&quot;è¯·è¾“å…¥çŸ©é˜µå…ƒç´ :\\n&quot;);Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â forÂ (intÂ jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â scanf(&quot;%f&quot;,Â &amp;array[i][j]);Â Â Â Â Â Â Â Â &#125;Â Â Â Â &#125;Â Â Â Â floatÂ *eigÂ =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â Â Â Â Â structÂ timespecÂ t1,t2;Â Â Â Â printf(&quot;WithoutÂ KML:\\n&quot;);Â Â Â Â clock_gettime(CLOCK_MONOTONIC,&amp;t1);Â Â Â Â Â Â //è®¡ç®—å¼€å§‹æ—¶é—´ã€‚Â Â Â Â floatÂ **ResultÂ =Â Matrix_Jac_Eig(array,Â n,Â eig);Â Â Â Â clock_gettime(CLOCK_MONOTONIC,&amp;t2);Â Â Â Â //è®¡ç®—ç»“æŸæ—¶é—´ã€‚Â Â Â Â printf(&quot;Time:%11uÂ ns\\n&quot;,t2.tv_nsec-t1.tv_nsec);Â Â Â Â Â Â Matrix_Free(Result,Â n,Â n);Â Â Â Â free(eig);Â Â Â Â eigÂ =Â NULL;Â Â Â Â returnÂ 0;&#125;float**Â Matrix_Jac_Eig(floatÂ **array,Â intÂ n,Â floatÂ *eig)&#123;Â Â Â Â intÂ i,Â j,Â flag,Â k;Â Â Â Â flagÂ =Â 0;Â Â Â Â kÂ =Â 0;Â Â Â Â floatÂ sumÂ =Â 0;Â Â Â Â floatÂ **temp_matÂ =Â (floatÂ **)malloc(nÂ *Â sizeof(floatÂ *));Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â temp_mat[i]Â =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â &#125;Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â temp_mat[i][j]Â =Â array[i][j];Â Â Â Â Â Â Â Â &#125;Â Â Â Â &#125;Â Â Â Â //åˆ¤æ–­æ˜¯å¦ä¸ºå¯¹ç§°çŸ©é˜µÂ Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â forÂ (jÂ =Â i;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (array[i][j]Â !=Â array[j][i])Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â flagÂ =Â 1;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â break;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â &#125;Â Â Â Â ifÂ (flagÂ ==Â 1)Â Â Â Â &#123;Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:Â è¾“å…¥å¹¶éæ˜¯å¯¹ç§°çŸ©é˜µ:\\n&quot;);Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â &#125;Â Â Â Â elseÂ Â Â Â &#123;Â Â Â Â Â Â Â Â //å¼€å§‹æ‰§è¡Œç®—æ³•Â Â Â Â Â Â Â Â intÂ p,Â q;Â Â Â Â Â Â Â Â floatÂ threshÂ =Â 0.0000000001;Â Â Â Â Â Â Â Â floatÂ maxÂ =Â array[0][1];Â Â Â Â Â Â Â Â floatÂ tan_angle,Â sin_angle,Â cos_angle;Â Â Â Â Â Â Â Â floatÂ **resultÂ =Â (floatÂ **)malloc(nÂ *Â sizeof(floatÂ *));Â Â Â Â Â Â Â Â ifÂ (resultÂ ==Â NULL)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â floatÂ **result_tempÂ =Â (floatÂ **)malloc(nÂ *Â sizeof(floatÂ *));Â Â Â Â Â Â Â Â ifÂ (result_tempÂ ==Â NULL)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â floatÂ **rotÂ =Â (floatÂ **)malloc(nÂ *Â sizeof(floatÂ *));Â Â Â Â Â Â Â Â ifÂ (rotÂ ==Â NULL)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â floatÂ **matÂ =Â (floatÂ **)malloc(nÂ *Â sizeof(floatÂ *));Â Â Â Â Â Â Â Â ifÂ (matÂ ==Â NULL)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â result[i]Â =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (result[i]Â ==Â NULL)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·å­ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â result_temp[i]Â =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (result_temp[i]Â ==Â NULL)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·å­ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â rot[i]Â =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (rot[i]Â ==Â NULL)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·å­ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â mat[i]Â =Â (floatÂ *)malloc(nÂ *Â sizeof(float));Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (mat[i]Â ==Â NULL)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â printf(&quot;errorÂ inÂ Matrix_Eig:ç”³è¯·å­ç©ºé—´å¤±è´¥\\n&quot;);Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â returnÂ NULL;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (iÂ ==Â j)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â result[i][j]Â =Â 1;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â result[i][j]Â =Â 0;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (iÂ ==Â j)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mat[i][j]Â =Â 1;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mat[i][j]Â =Â 0;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â maxÂ =Â array[0][1];Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (iÂ ==Â j)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â continue;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (fabs(array[i][j])Â &gt;=Â fabs(max))Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â maxÂ =Â array[i][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â pÂ =Â i;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â qÂ =Â j;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â continue;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â whileÂ (fabs(max)Â &gt;Â thresh)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (fabs(max)Â &lt;Â thresh)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â break;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â tan_angleÂ =Â -2Â *Â array[p][q]Â /Â (array[q][q]Â -Â array[p][p]);Â Â Â Â Â Â Â Â Â Â Â Â sin_angleÂ =Â sin(0.5*atan(tan_angle));Â Â Â Â Â Â Â Â Â Â Â Â cos_angleÂ =Â cos(0.5*atan(tan_angle));Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (iÂ ==Â j)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mat[i][j]Â =Â 1;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mat[i][j]Â =Â 0;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â mat[p][p]Â =Â cos_angle;Â Â Â Â Â Â Â Â Â Â Â Â mat[q][q]Â =Â cos_angle;Â Â Â Â Â Â Â Â Â Â Â Â mat[q][p]Â =Â sin_angle;Â Â Â Â Â Â Â Â Â Â Â Â mat[p][q]Â =Â -sin_angle;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rot[i][j]Â =Â array[i][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rot[p][j]Â =Â cos_angle*array[p][j]Â +Â sin_angle*array[q][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rot[q][j]Â =Â -sin_angle*array[p][j]Â +Â cos_angle*array[q][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rot[j][p]Â =Â cos_angle*array[j][p]Â +Â sin_angle*array[j][q];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â rot[j][q]Â =Â -sin_angle*array[j][p]Â +Â cos_angle*array[j][q];Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â rot[p][p]Â =Â array[p][p]Â *Â cos_angle*cos_angleÂ +Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â array[q][q]Â *Â sin_angle*sin_angleÂ +Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 2Â *Â array[p][q]Â *Â cos_angle*sin_angle;Â Â Â Â Â Â Â Â Â Â Â Â rot[q][q]Â =Â array[q][q]Â *Â cos_angle*cos_angleÂ +Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â array[p][p]Â *Â sin_angle*sin_angleÂ -Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 2Â *Â array[p][q]Â *Â cos_angle*sin_angle;Â Â Â Â Â Â Â Â Â Â Â Â rot[p][q]Â =Â 0.5*(array[q][q]Â -Â array[p][p])Â *Â 2Â *Â sin_angle*cos_angleÂ +Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â array[p][q]Â *Â (2Â *Â cos_angle*cos_angleÂ -Â 1);Â Â Â Â Â Â Â Â Â Â Â Â rot[q][p]Â =Â 0.5*(array[q][q]Â -Â array[p][p])Â *Â 2Â *Â sin_angle*cos_angleÂ +Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â array[p][q]Â *Â (2Â *Â cos_angle*cos_angleÂ -Â 1);Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â array[i][j]Â =Â rot[i][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â maxÂ =Â array[0][1];Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (iÂ ==Â j)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â continue;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ (fabs(array[i][j])Â &gt;=Â fabs(max))Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â maxÂ =Â array[i][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â pÂ =Â i;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â qÂ =Â j;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elseÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â continue;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â eig[i]Â =Â array[i][i];Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sumÂ =Â 0;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (kÂ =Â 0;Â kÂ &lt;Â n;Â k++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sumÂ =Â sumÂ +Â result[i][k]Â *Â mat[k][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â result_temp[i][j]Â =Â sum;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â result[i][j]Â =Â result_temp[i][j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â n;Â i++)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â n;Â j++)Â Â Â Â Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â array[i][j]Â =Â temp_mat[i][j];Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â Matrix_Free(result_temp,Â n,Â n);Â Â Â Â Â Â Â Â Matrix_Free(rot,Â n,Â n);Â Â Â Â Â Â Â Â Matrix_Free(mat,Â n,Â n);Â Â Â Â Â Â Â Â Matrix_Free(temp_mat,Â n,Â n);Â Â Â Â Â Â Â Â returnÂ result;Â Â Â Â &#125;&#125;intÂ Matrix_Free(floatÂ **tmp,Â intÂ m,Â intÂ n)&#123;Â Â Â Â intÂ i,Â j;Â Â Â Â ifÂ (tmpÂ ==Â NULL)Â Â Â Â &#123;Â Â Â Â Â Â Â Â return(1);Â Â Â Â &#125;Â Â Â Â forÂ (iÂ =Â 0;Â iÂ &lt;Â m;Â i++)Â Â Â Â &#123;Â Â Â Â Â Â Â Â ifÂ (tmp[i]Â !=Â NULL)Â Â Â Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â free(tmp[i]);Â Â Â Â Â Â Â Â Â Â Â Â tmp[i]Â =Â NULL;Â Â Â Â Â Â Â Â &#125;Â Â Â Â &#125;Â Â Â Â ifÂ (tmpÂ !=Â NULL)Â Â Â Â &#123;Â Â Â Â Â Â Â Â free(tmp);Â Â Â Â Â Â Â Â tmpÂ =Â NULL;Â Â Â Â &#125;Â Â Â Â return(0);&#125;\n\nå°†è°ƒç”¨KMLåº“çš„é‚£æ®µä»£ç ä¸­æ”¹ä¸ºï¼š\n#include&lt;stdio.h&gt;#includeÂ &lt;stdlib.h&gt;#include&lt;time.h&gt;#include&lt;stdlib.h&gt;#includeÂ &quot;klapack.h&quot;intÂ main()&#123;Â Â Â Â Â Â charÂ jobzÂ =Â &#x27;V&#x27;;Â Â Â Â Â charÂ uploÂ =Â &#x27;L&#x27;;Â Â Â Â Â intÂ nÂ =Â 10;Â Â Â Â Â intÂ ldaÂ =Â 10;Â Â Â Â Â intÂ infoÂ =Â 0;Â Â Â Â Â doubleÂ w[10];Â Â Â Â Â doubleÂ *workÂ =Â NULL;Â Â Â Â Â doubleÂ qwork;Â Â Â Â Â intÂ lworkÂ =Â -1;Â Â Â Â Â intÂ *iworkÂ =Â NULL;Â Â Â Â Â intÂ qiwork;Â Â Â Â Â intÂ liworkÂ =Â -1;Â Â Â Â Â doubleÂ a[]Â =Â Â Â Â Â &#123;Â Â 1.23,Â 2.75,Â 3.10,Â 4.56,Â 5.92,Â 7.01,Â 8.40,Â 9.88,Â 6.34,Â 4.59,Â 2.75,Â 1.56,Â 2.49,Â 3.31,Â 4.47,Â 5.90,Â 6.55,Â 7.10,Â 8.22,Â 5.78,Â Â 3.10,Â 2.49,Â 1.88,Â 5.39,Â 6.23,Â 7.68,Â 3.79,Â 4.12,Â 6.44,Â 7.85,Â Â 4.56,Â 3.31,Â 5.39,Â 8.94,Â 4.58,Â 2.53,Â 6.83,Â 7.46,Â 1.56,Â 3.21,Â Â 5.92,Â 4.47,Â 6.23,Â 4.58,Â 9.76,Â 8.90,Â 5.12,Â 3.98,Â 2.63,Â 6.34,Â Â 7.01,Â 5.90,Â 7.68,Â 2.53,Â 8.90,Â 6.75,Â 4.80,Â 1.94,Â 3.55,Â 2.88,Â Â 8.40,Â 6.55,Â 3.79,Â 6.83,Â 5.12,Â 4.80,Â 1.64,Â 9.20,Â 5.90,Â 4.75,Â Â 9.88,Â 7.10,Â 4.12,Â 7.46,Â 3.98,Â 1.94,Â 9.20,Â 7.44,Â 2.38,Â 6.71,Â Â 6.34,Â 8.22,Â 6.44,Â 1.56,Â 2.63,Â 3.55,Â 5.90,Â 2.38,Â 0.76,Â 2.13,Â Â 4.59,Â 5.78,Â 7.85,Â 3.21,Â 6.34,Â 2.88,Â 4.75,Â 6.71,Â 2.13,Â 9.32Â Â Â Â &#125;;Â Â Â Â Â structÂ timespecÂ t1,t2;Â Â Â Â //å®šä¹‰åˆå§‹ä¸ç»“æŸæ—¶é—´Â Â Â Â /*Â QueryÂ optimalÂ workÂ sizeÂ */Â Â Â Â Â dsyevd_(&amp;jobz,Â &amp;uplo,Â &amp;n,Â a,Â &amp;lda,Â w,Â &amp;qwork,Â &amp;lwork,Â &amp;qiwork,Â &amp;liwork,Â &amp;info);Â Â Â Â Â ifÂ (infoÂ !=Â 0)Â Â Â Â Â &#123;Â Â Â Â Â Â Â Â Â returnÂ -1;Â Â Â Â Â &#125;Â Â Â Â Â lworkÂ =Â (int)qwork;Â Â Â Â Â workÂ =Â (doubleÂ *)malloc(sizeof(double)Â *Â lwork);Â Â Â Â Â liworkÂ =Â (int)qiwork;Â Â Â Â Â iworkÂ =Â (intÂ *)malloc(sizeof(int)Â *Â liwork);Â Â Â Â Â /*Â CalculateÂ eigenvaluesÂ andÂ eigenvectorsÂ */Â Â Â Â Â printf(&quot;WithÂ KML:\\n&quot;);Â Â Â Â clock_gettime(CLOCK_MONOTONIC,&amp;t1);Â Â Â Â Â Â //è®¡ç®—å¼€å§‹æ—¶é—´ã€‚Â Â Â Â dsyevd_(&amp;jobz,Â &amp;uplo,Â &amp;n,Â a,Â &amp;lda,Â w,Â work,Â &amp;lwork,Â iwork,Â &amp;liwork,Â &amp;info);Â Â Â Â Â clock_gettime(CLOCK_MONOTONIC,&amp;t2);Â Â Â Â //è®¡ç®—ç»“æŸæ—¶é—´ã€‚Â Â Â Â Â Â printf(&quot;Time:%11uÂ ns\\n&quot;,t2.tv_nsec-t1.tv_nsec);Â Â Â Â Â Â free(work);Â Â Â Â Â free(iwork);Â Â Â Â Â Â Â Â Â Â Â returnÂ 0;&#125;\n\nç¼–è¯‘å¹¶è¿è¡Œï¼Œå¾—åˆ°ç»“æœå¦‚ä¸‹ï¼š\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nå¯çŸ¥LAPACKåº“å¯¹è¿ç®—çš„ä¼˜åŒ–æ•ˆæœååˆ†æ˜¾è‘—\n4.5 ä½¿ç”¨KMLåº“å‡½æ•°å®ç°R2Rå˜æ¢ä¼˜åŒ–é¦–å…ˆæ˜¯ä½¿ç”¨ä¸€èˆ¬Cè¯­è¨€å®ç°R2Rå˜æ¢\nç¼–å†™without.cæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\n#includeÂ &lt;stdio.h&gt;#includeÂ &lt;stdlib.h&gt;#includeÂ &lt;math.h&gt;#includeÂ &lt;time.h&gt;voidÂ r2r_fft(doubleÂ *in,Â doubleÂ *out,Â intÂ n)Â &#123;Â Â Â Â intÂ k,Â m,Â j;Â Â Â Â doubleÂ wr,Â wi,Â arg,Â c,Â s;Â Â Â Â doubleÂ *tempÂ =Â (double*)malloc(nÂ *Â sizeof(double));Â Â Â Â Â Â Â Â //Â å®æ•°çš„Â R2RÂ FFTÂ å˜æ¢å®ç°Â Â Â Â forÂ (kÂ =Â 0;Â kÂ &lt;Â n;Â k++)Â &#123;Â Â Â Â Â Â Â Â temp[k]Â =Â in[k];Â Â Â Â &#125;Â Â Â Â //Â R2RÂ FFTÂ å˜æ¢Â Â Â Â forÂ (mÂ =Â 1;Â mÂ &lt;=Â nÂ /Â 2;Â mÂ *=Â 2)Â &#123;Â Â Â Â Â Â Â Â wrÂ =Â cos(M_PIÂ /Â m);Â Â Â Â Â Â Â Â wiÂ =Â sin(M_PIÂ /Â m);Â Â Â Â Â Â Â Â forÂ (kÂ =Â 0;Â kÂ &lt;Â n;Â kÂ +=Â 2Â *Â m)Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â forÂ (jÂ =Â 0;Â jÂ &lt;Â m;Â j++)Â &#123;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â argÂ =Â jÂ *Â (2Â *Â M_PIÂ /Â (2Â *Â m));Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cÂ =Â cos(arg);Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â sÂ =Â sin(arg);Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â doubleÂ u1Â =Â temp[kÂ +Â j];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â doubleÂ u2Â =Â temp[kÂ +Â jÂ +Â m];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â doubleÂ v1Â =Â temp[kÂ +Â jÂ +Â mÂ +Â 1];Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â out[kÂ +Â j]Â =Â u1Â +Â u2Â *Â cÂ -Â v1Â *Â s;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â out[kÂ +Â jÂ +Â 1]Â =Â u1Â *Â sÂ +Â u2Â *Â v1Â *Â c;Â Â Â Â Â Â Â Â Â Â Â Â &#125;Â Â Â Â Â Â Â Â &#125;Â Â Â Â &#125;Â Â Â Â free(temp);&#125;intÂ main()Â &#123;Â Â Â Â intÂ rankÂ =Â 2;Â Â Â Â Â intÂ *n;Â Â Â Â Â structÂ timespecÂ t1,Â t2;Â Â Â Â Â nÂ =Â (int*)malloc(sizeof(int)Â *Â rank);Â Â Â Â Â n[0]Â =Â 128;Â Â //Â ä¿®æ”¹æ•°æ®è§„æ¨¡Â Â Â Â n[1]Â =Â 128;Â Â //Â ä¿®æ”¹æ•°æ®è§„æ¨¡Â Â Â Â doubleÂ *inÂ =Â (double*)malloc(sizeof(double)Â *Â n[0]Â *Â n[1]);Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ &lt;Â n[0]Â *Â n[1];Â i++)Â &#123;Â Â Â Â Â Â Â Â Â in[i]Â =Â (double)(iÂ %Â 10);Â Â //Â ç”¨ä¸€äº›åŸºæœ¬çš„æ•°å€¼åˆå§‹åŒ–è¾“å…¥æ•°æ®Â Â Â Â &#125;Â Â Â Â Â doubleÂ *outÂ =Â (double*)malloc(sizeof(double)Â *Â n[0]Â *Â n[1]);Â Â Â Â clock_gettime(CLOCK_MONOTONIC,Â &amp;t1);Â Â Â Â Â Â //Â è®¡ç®—å¼€å§‹æ—¶é—´Â Â Â Â r2r_fft(in,Â out,Â n[0]Â *Â n[1]);Â Â Â Â Â Â Â Â Â Â Â Â //Â æ‰§è¡ŒÂ R2RÂ FFTÂ Â Â Â clock_gettime(CLOCK_MONOTONIC,Â &amp;t2);Â Â Â Â Â Â //Â è®¡ç®—ç»“æŸæ—¶é—´Â Â Â Â printf(&quot;WithoutÂ KML:\\n&quot;);Â Â Â Â printf(&quot;Time:Â %11uÂ ns\\n&quot;,Â t2.tv_nsecÂ -Â t1.tv_nsec);Â Â Â Â Â Â free(n);Â Â Â Â free(in);Â Â Â Â Â free(out);Â Â Â Â returnÂ 0;&#125;\n\nä½¿ç”¨å¦‚ä¸‹ä»£ç ç¼–è¯‘å¹¶è¿è¡Œ\ngcc without.c -o without -lm./without    \n\nå¾—åˆ°ç»“æœå¦‚ä¸‹ï¼š\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\næ¥ç€å†ä½¿ç”¨KML_FFTåº“å‡½æ•°è¿›è¡Œä¼˜åŒ–ï¼š\nç¼–å†™FFT.cæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n#includeÂ &lt;stdio.h&gt;#includeÂ &lt;time.h&gt;#includeÂ &lt;math.h&gt;#includeÂ &quot;kfft.h&quot;intÂ main()Â &#123;Â Â Â Â intÂ rankÂ =Â 2;Â Â Â Â Â intÂ *n;Â Â Â Â Â structÂ timespecÂ t1,Â t2;Â Â Â Â //Â å®šä¹‰åˆå§‹ä¸ç»“æŸæ—¶é—´Â Â Â Â nÂ =Â (int*)kml_fft_malloc(sizeof(int)Â *Â rank);Â Â Â Â Â n[0]Â =Â 128;Â Â //Â ä¿®æ”¹æ•°æ®è§„æ¨¡Â Â Â Â n[1]Â =Â 128;Â Â //Â ä¿®æ”¹æ•°æ®è§„æ¨¡Â Â Â Â doubleÂ *inÂ =Â (double*)kml_fft_malloc(sizeof(double)Â *Â n[0]Â *Â n[1]);Â Â Â Â Â forÂ (intÂ iÂ =Â 0;Â iÂ &lt;Â n[0]Â *Â n[1];Â i++)Â &#123;Â Â Â Â Â Â Â Â Â in[i]Â =Â (double)(iÂ %Â 10);Â Â //Â ç”¨ä¸€äº›åŸºæœ¬çš„æ•°å€¼åˆå§‹åŒ–è¾“å…¥æ•°æ®Â Â Â Â &#125;Â Â Â Â Â doubleÂ *outÂ =Â (double*)kml_fft_malloc(sizeof(double)Â *Â n[0]Â *Â n[1]);Â Â Â Â Â kml_fft_r2r_kindÂ *kindÂ =Â (kml_fft_r2r_kind*)kml_fft_malloc(sizeof(kml_fft_r2r_kind)Â *Â rank);Â Â Â Â Â kind[0]Â =Â KML_FFT_DHT;Â Â Â Â Â kind[1]Â =Â KML_FFT_DHT;Â Â Â Â Â kml_fft_planÂ plan;Â Â Â Â Â clock_gettime(CLOCK_MONOTONIC,Â &amp;t1);Â Â Â Â Â Â //Â è®¡ç®—å¼€å§‹æ—¶é—´Â Â Â Â planÂ =Â kml_fft_plan_r2r(rank,Â n,Â in,Â out,Â kind,Â KML_FFT_ESTIMATE);Â Â Â Â Â kml_fft_execute_r2r(plan,Â in,Â out);Â Â Â Â Â clock_gettime(CLOCK_MONOTONIC,Â &amp;t2);Â Â Â Â Â Â //Â è®¡ç®—ç»“æŸæ—¶é—´Â Â Â Â Â printf(&quot;WithÂ KML:\\n&quot;);Â Â Â Â printf(&quot;Time:Â %11uÂ ns\\n&quot;,Â t2.tv_nsecÂ -Â t1.tv_nsec);Â Â Â Â Â Â printf(&quot;\\n&quot;);Â Â Â Â kml_fft_destroy_plan(plan);Â Â Â Â Â kml_fft_free(n);Â Â Â Â Â kml_fft_free(kind);Â Â Â Â Â kml_fft_free(in);Â Â Â Â Â kml_fft_free(out);Â Â Â Â Â returnÂ 0;&#125;\n\nä½¿ç”¨å¦‚ä¸‹ä»£ç ç¼–è¯‘å¹¶è¿è¡Œ\ngcc FFT.c -o FFT -L /usr/local/kml/lib -lkfft -I /usr/local/kml/include -pthread./FFT\n\nå¾—åˆ°è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\nå¯çŸ¥KMLåº“å¯¹R2R FFTè¿ç®—çš„ä¼˜åŒ–æ•ˆæœååˆ†æ˜¾è‘—\n5.å®éªŒç»“æœåˆ†æ1. ç‰›é¡¿è¿­ä»£æ³•æ±‚è§£éçº¿æ€§æ–¹ç¨‹çš„æ ¹\nå®ç°äº†ç‰›é¡¿è¿­ä»£æ³•ï¼Œé€šè¿‡ç®€å•çš„éçº¿æ€§æ–¹ç¨‹ï¼ˆå¦‚ $f(x)&#x3D;x2âˆ’2$ï¼‰éªŒè¯è®¡ç®—ç»“æœçš„å‡†ç¡®æ€§ã€‚\nä¼ ç»Ÿå®ç°å’Œ KML çš„è®¡ç®—ç»“æœä¸€è‡´ï¼Œè¯´æ˜ KML æä¾›çš„æ•°å­¦åº“å¯ä»¥å‡†ç¡®æ±‚è§£éçº¿æ€§é—®é¢˜ã€‚\n\n2. çŸ©é˜µ-å‘é‡ä¹˜åŠ è¿ç®—æ€§èƒ½å¯¹æ¯”\nåœ¨çŸ©é˜µè§„æ¨¡ä¸º 1000Ã—300 çš„æƒ…å†µä¸‹ï¼ŒKML çš„çŸ©é˜µä¹˜åŠ æ“ä½œï¼ˆcblas_dgemvï¼‰ç›¸æ¯”æ‰‹åŠ¨å®ç°åŠ é€Ÿæ˜¾è‘—ã€‚\næ—¶é—´æ•°æ®\næ‰‹åŠ¨å®ç°è€—æ—¶è¾ƒé•¿ï¼Œä¸»è¦ç”±äºé€å…ƒç´ è®¡ç®—å¯¼è‡´çš„å¾ªç¯å¼€é”€ã€‚\nè°ƒç”¨ KML æä¾›çš„ BLAS åº“åï¼Œè€—æ—¶æ˜æ˜¾å‡å°‘ï¼Œå……åˆ†åˆ©ç”¨äº†å‘é‡åŒ–å’Œå¹¶è¡ŒåŒ–ã€‚\n\n\nç»“è®ºï¼šKML åœ¨çŸ©é˜µè®¡ç®—åœºæ™¯ä¸­å±•ç°äº†å‡ºè‰²çš„æ€§èƒ½æå‡ã€‚\n\n3. KML_VML å‘é‡æ•°å­¦è¿ç®—ä¼˜åŒ–\næ¯”è¾ƒæ™®é€šå¾ªç¯ä¸ KML çš„çŸ¢é‡æ•°å­¦åº“å¤„ç†å¤§è§„æ¨¡å‘é‡ï¼ˆå¦‚ 100,000 å…ƒç´ ï¼‰çš„æ€§èƒ½ã€‚\næ—¶é—´æ•°æ®\nä¼ ç»Ÿå®ç°é€å…ƒç´ è®¡ç®—ï¼Œè€—æ—¶è¾ƒé•¿ã€‚\nKML åˆ©ç”¨ç¡¬ä»¶å¯„å­˜å™¨å’Œ SIMD æŒ‡ä»¤å¯¹æ•°æ®è¿›è¡Œæ‰¹é‡å¤„ç†ï¼Œæå¤§ç¼©çŸ­äº†è¿ç®—æ—¶é—´ã€‚\n\n\nåˆ†æï¼šé€‚åˆé«˜é¢‘è°ƒç”¨æ•°å­¦å‡½æ•°çš„åœºæ™¯ï¼Œä¾‹å¦‚æ¨¡æ‹Ÿè®¡ç®—å’Œä¿¡å·å¤„ç†ã€‚\n\n4. å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼ˆFFTï¼‰ä¼˜åŒ–\nå¯¹æ¯”ä¸€èˆ¬ FFT ç®—æ³•å’Œ KML_FFT å®ç°çš„æ€§èƒ½ã€‚\næ—¶é—´æ•°æ®\næ‰‹åŠ¨å®ç° FFT çš„æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ã€‚\nKML çš„ kml_fft_plan_r2r æ–¹æ³•ä¸ä»…åŠ é€Ÿäº†è®¡ç®—ï¼Œè¿˜ç®€åŒ–äº†å®ç°è¿‡ç¨‹ã€‚\n\n\nç»“è®ºï¼šKML çš„ FFT æ¨¡å—å¯¹é«˜ç»´å˜æ¢è®¡ç®—å°¤ä¸ºé«˜æ•ˆã€‚\n\n5. LAPACK åœ¨å®å¯¹ç§°çŸ©é˜µç‰¹å¾å€¼è®¡ç®—ä¸­çš„ä¼˜åŒ–\næµ‹è¯•ä»»åŠ¡ï¼šè®¡ç®— $10\\times10$ å®å¯¹ç§°çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ã€‚\nç»“æœåˆ†æ\nä¼ ç»Ÿå®ç°ï¼ˆå¦‚ Jacobi æ–¹æ³•ï¼‰å­˜åœ¨æ˜¾è‘—è®¡ç®—ç“¶é¢ˆã€‚\nè°ƒç”¨ KML æä¾›çš„ LAPACK æ¥å£åï¼Œè®¡ç®—æ—¶é—´å¤§å¹…ç¼©çŸ­ï¼Œè¿›ä¸€æ­¥å±•ç¤ºäº† KML åœ¨çº¿æ€§ä»£æ•°ä¸­çš„ä¼˜åŒ–æ½œåŠ›ã€‚\n\n\n\né€šè¿‡ä¸Šè¿°å®éªŒï¼ŒéªŒè¯äº†é²²é¹æ•°å­¦åº“ï¼ˆKMLï¼‰çš„æ€§èƒ½å’Œé€‚ç”¨æ€§ã€‚æ— è®ºæ˜¯åŸºç¡€æ•°å­¦è¿ç®—ã€çŸ©é˜µè®¡ç®—ï¼Œè¿˜æ˜¯æ›´å¤æ‚çš„å¿«é€Ÿå˜æ¢ä¸ç‰¹å¾å€¼é—®é¢˜ï¼ŒKML çš„è¡¨ç°å‡ä¼˜äºä¼ ç»Ÿå®ç°ã€‚åŒæ—¶ï¼Œå®éªŒä¸­æ€»ç»“å‡ºçš„ä¼˜åŒ–æ–¹æ³•å¯¹æœªæ¥çš„é«˜æ€§èƒ½è®¡ç®—å®è·µæä¾›äº†æœ‰åŠ›æ”¯æŒã€‚\n6 æ€è€ƒé¢˜ä½¿ç”¨KML_SVMLè¿›è¡ŒçŸ­å‘é‡çš„æ•°å­¦è¿ç®—ä¼˜åŒ–KML_SVMLæ˜¯çŸ­å‘é‡çš„æ•°å­¦è¿ç®—ï¼ŒåŒ…æ‹¬å¹‚å‡½æ•°ã€ä¸‰è§’å‡½æ•°ã€æŒ‡æ•°å‡½æ•°ã€åŒæ›²å‡½æ•°ã€å¯¹æ•°å‡½æ•°ç­‰ã€‚ KML_SVMLé€šè¿‡NeonæŒ‡ä»¤ä¼˜åŒ–ã€å†…è”æ±‡ç¼–ç­‰æ–¹æ³•ï¼Œå¯¹è¾“å…¥å‘é‡è¿›è¡Œæ‰¹é‡å¤„ç†ï¼Œå……åˆ†åˆ©ç”¨äº†é²²é¹æ¶æ„ä¸‹çš„å¯„å­˜å™¨ç‰¹ç‚¹ï¼Œå®ç°äº†åœ¨é²²é¹æœåŠ¡å™¨ä¸Šçš„æ€§èƒ½æå‡ã€‚\nè¯·åœ¨ä¸‹é¢ä»£ç ç©ºç¼ºå¤„å°†è°ƒç”¨KML_SVMLåº“å‡½æ•°å¯¹çŸ­å‘é‡çš„æ•°å­¦è¿ç®—è¿›è¡Œä¼˜åŒ–çš„ä»£ç è¡¥å……å®Œæ•´\n#include&lt;stdio.h&gt;#include&lt;time.h&gt;#include&lt;math.h&gt;#include&quot;ksvml.h&quot;#define LEN 100000int main()&#123;double src[LEN]=&#123;0&#125;;double dst1[LEN]=&#123;0&#125;;double dst2[LEN]=&#123;0&#125;;float32x4_t src2;float32x4_t dst;struct timespec t1,t2; //å®šä¹‰åˆå§‹ä¸ç»“æŸæ—¶é—´printf(&quot;Without KML_SVML &quot;);clock_gettime(CLOCK_MONOTONIC,&amp;t1); //è®¡ç®—å¼€å§‹æ—¶é—´ã€‚for(int i=0;i&lt;LEN;i++)src[i]=i;for(int i=0;i&lt;LEN;i++)dst1[i]=sin(src[i]);clock_gettime(CLOCK_MONOTONIC,&amp;t2); //è®¡ç®—ç»“æŸæ—¶é—´ã€‚printf(&quot;Time:%11u ns\\n&quot;,t2.tv_nsec-t1.tv_nsec); //å¾—å‡ºç›®æ ‡ä»£ç æ®µçš„æ‰§è¡Œæ—¶é—´ã€‚printf(&quot;With KML_SVML &quot;);clock_gettime(CLOCK_MONOTONIC,&amp;t1); //è®¡ç®—å¼€å§‹æ—¶é—´ã€‚  for(int i=0;i&lt;LEN;i+=4)&#123;   \t//è¯·åœ¨æ­¤å¤„è¡¥å……è°ƒç”¨KML_SVMLåº“å‡½æ•°å¯¹çŸ­å‘é‡çš„æ•°å­¦è¿ç®—è¿›è¡Œä¼˜åŒ–çš„ä»£ç     &#125;clock_gettime(CLOCK_MONOTONIC,&amp;t2); //è®¡ç®—ç»“æŸæ—¶é—´ã€‚printf(&quot;Time:%11u ns\\n&quot;,t2.tv_nsec-t1.tv_nsec); //å¾—å‡ºç›®æ ‡ä»£ç æ®µçš„æ‰§è¡Œæ—¶é—´ã€‚return 0;&#125;\n\nç­”æ¡ˆå¦‚ä¸‹ï¼š\n#include&lt;stdio.h&gt;#include&lt;time.h&gt;#include&lt;math.h&gt;#include&quot;ksvml.h&quot;#define LEN 100000int main()&#123;double src[LEN]=&#123;0&#125;;double dst1[LEN]=&#123;0&#125;;double dst2[LEN]=&#123;0&#125;;float32x4_t src2;float32x4_t dst;struct timespec t1,t2; //å®šä¹‰åˆå§‹ä¸ç»“æŸæ—¶é—´printf(&quot;Without KML_SVML &quot;);clock_gettime(CLOCK_MONOTONIC,&amp;t1); //è®¡ç®—å¼€å§‹æ—¶é—´ã€‚for(int i=0;i&lt;LEN;i++)src[i]=i;for(int i=0;i&lt;LEN;i++)dst1[i]=sin(src[i]);clock_gettime(CLOCK_MONOTONIC,&amp;t2); //è®¡ç®—ç»“æŸæ—¶é—´ã€‚printf(&quot;Time:%11u ns\\n&quot;,t2.tv_nsec-t1.tv_nsec); //å¾—å‡ºç›®æ ‡ä»£ç æ®µçš„æ‰§è¡Œæ—¶é—´ã€‚printf(&quot;With KML_SVML &quot;);clock_gettime(CLOCK_MONOTONIC,&amp;t1); //è®¡ç®—å¼€å§‹æ—¶é—´ã€‚  for(int i=0;i&lt;LEN;i+=4)&#123;    src2[0]=i;    src2[1]=i+1;    src2[2]=i+2;    src2[3]=i+3;    dst = svml128_sin_f32(src2);&#125;clock_gettime(CLOCK_MONOTONIC,&amp;t2); //è®¡ç®—ç»“æŸæ—¶é—´ã€‚printf(&quot;Time:%11u ns\\n&quot;,t2.tv_nsec-t1.tv_nsec); //å¾—å‡ºç›®æ ‡ä»£ç æ®µçš„æ‰§è¡Œæ—¶é—´ã€‚return 0;&#125;\n\nè¾“å…¥\ngcc svsin.c -o svsin -I /usr/local/kml/include -L /usr/local/kml/lib -lksvml -lm./svsin\n\nç¼–è¯‘å¹¶è¿è¡Œå¾—åˆ°è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\n\nçœ‹ä¸è§æ˜¯æ­£å¸¸çš„ï¼Œåˆ«æ‹…å¿ƒ\n\né€šè¿‡å¯¹æ¯”å¯çŸ¥ä½¿ç”¨KML_SVMLè¿›è¡ŒçŸ­å‘é‡çš„æ•°å­¦è¿ç®—ä¼˜åŒ–çš„ä¼˜åŒ–æ•ˆæœååˆ†æ˜¾è‘—\n","categories":["å­¦ä¹ "],"tags":["åä¸º","è®¡ç®—æœºç»„æˆåŸç†","è®ºæ–‡","é²²é¹"]},{"title":"åŸºäºUbuntuç¼–è¯‘å†…æ ¸å¹¶æ·»åŠ å†…æ ¸æ¨¡å—","url":"/2025/03/26/%E5%9F%BA%E4%BA%8EUbuntu%E7%BC%96%E8%AF%91%E5%86%85%E6%A0%B8%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/","content":"æœ¬æ–‡è¯¦ç»†è®°å½•åœ¨ Ubuntu 24.10 ç³»ç»Ÿä¸Šç¼–è¯‘ Linux å†…æ ¸ã€åˆ›å»ºæœ€å°åŒ–è¿è¡Œç¯å¢ƒï¼Œå¹¶æ·»åŠ è‡ªå®šä¹‰å†…æ ¸æ¨¡å—çš„å…¨è¿‡ç¨‹ã€‚æ‰€æœ‰æ“ä½œå‡åœ¨ VMware è™šæ‹Ÿæœºç¯å¢ƒä¸‹éªŒè¯é€šè¿‡ã€‚\n\nä½¿ç”¨çš„ç³»ç»Ÿé•œåƒæ˜¯ ubuntu-24.10-desktop-amd64.iso \n\nä¸€ã€ç¯å¢ƒå‡†å¤‡ä¸å†…æ ¸ç¼–è¯‘é¦–å…ˆç¬¬ä¸€æ­¥æ˜¯åœ¨æ¡Œé¢åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿™é‡Œæˆ‘å°±å–åä¸º linux ï¼Œåœ¨ linux æ–‡ä»¶å¤¹ä¸­æ‰“å¼€ç»ˆç«¯\næ¥ç€æˆ‘ä»¬éœ€è¦è·å–å†…æ ¸çš„æºç ï¼Œå» å®˜ç½‘ https://kernel.org ä¸‹è½½æœ€æ–°çš„ç¨³å®šç‰ˆï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸‹è½½ stable:6.13.8 ï¼Œå¤åˆ¶ tarball çš„é“¾æ¥åï¼Œåˆ°å‰é¢åœ¨linuxæ–‡ä»¶å¤¹ä¸­æ‰“å¼€çš„ç»ˆç«¯ï¼Œè¾“å…¥ï¼š\n# ä¸‹è½½ç¨³å®šç‰ˆå†…æ ¸æºç ï¼ˆä»¥6.13.8ä¸ºä¾‹ï¼‰wget https://cdn.kernel.org/pub/linux/kernel/v6.x/linux-6.13.8.tar.xz\n\nåœ¨ä¸‹è½½å®Œæˆä¹‹åæˆ‘ä»¬éœ€è¦å¯¹æ–‡ä»¶å¤¹è¿›è¡Œè§£å‹ç¼©ï¼Œè¾“å…¥ï¼š\n# è§£å‹æºç åŒ…tar -xf linux-6.13.8.tar.xz\n\nè§£å‹å®Œæˆåè¿›å…¥è¯¥æ–‡ä»¶å¤¹ï¼Œè¾“å…¥ï¼š\n# è¿›å…¥æºç ç›®å½•cd linux-6.13.8\n\næ­¤æ—¶å†…æ ¸çš„æºä»£ç ä¸­å·²ç»æœ‰ Makefile ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ make \nè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨é»˜è®¤é…ç½®ï¼Œè¾“å…¥ï¼š\n# ç”Ÿæˆé»˜è®¤é…ç½®ï¼ˆä½¿ç”¨x86_64æ¶æ„çš„é»˜è®¤é…ç½®ï¼‰make defconfig\n\næ¥ç€å°±å¼€å§‹å†…æ ¸çš„ç¼–è¯‘ï¼Œå› ä¸ºæˆ‘çš„è™šæ‹Ÿæœºå°±ä¸¤æ ¸å› æ­¤ä½¿ç”¨åŒçº¿ç¨‹ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„é…ç½®è¿›è¡Œè°ƒæ•´ï¼Œè¾“å…¥ï¼š\n# å¼€å§‹ç¼–è¯‘å†…æ ¸ï¼ˆ-jå‚æ•°æ ¹æ®CPUæ ¸å¿ƒæ•°è®¾ç½®ï¼ŒåŒæ ¸ç¤ºä¾‹ï¼‰make -j 2\n\næ¥ç€å°±æ˜¯æ¼«é•¿çš„ç­‰å¾…ï¼Œç¼–è¯‘å®Œæˆåä¼šç”Ÿæˆ arch/x86/boot/bzImage å†…æ ¸æ–‡ä»¶\näºŒã€æœ€å°åŒ–ç¯å¢ƒæµ‹è¯•æ¥ç€æˆ‘ä»¬ä½¿ç”¨ QEMU è¿™ä¸ªæ¨¡æ‹Ÿå™¨è¿›è¡Œå†…æ ¸åŠŸèƒ½çš„æµ‹è¯•ï¼Œè¾“å…¥ï¼š\nqemu-system-x86_64 -kernel arch/x86/boot/bzImage\n\nä½†æ˜¯åªæœ‰å†…æ ¸æœ¬èº«æ˜¯è·‘ä¸èµ·æ¥çš„ï¼Œæ­¤æ—¶æˆ‘ä»¬è¦è¿”å› linux æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨ linux æ–‡ä»¶å¤¹å†…åˆ›å»º shell æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨ shell æ–‡ä»¶å¤¹å†…åˆ›å»º shell.c æ–‡ä»¶ï¼Œè¾“å…¥ï¼š\n# è¿”å›å·¥ç¨‹ç›®å½•å¹¶åˆ›å»ºshellç¯å¢ƒcd ..mkdir shellcd shell# ç¼–å†™æµ‹è¯•ç¨‹åºï¼ˆä½¿ç”¨vimæˆ–ä»»æ„ç¼–è¾‘å™¨ï¼‰vim shell.c\n\næ¥ç€å¯ä»¥ç¼–å†™ä¸€ä¸ªç®€å•çš„ c ç¨‹åºè¯•éªŒä¸€ä¸‹ï¼Œè¾“å…¥ï¼š\n/* æœ€å°åŒ–äº¤äº’ç¨‹åº */#include&lt;stdio.h&gt;int main()&#123;    char a;    while(1)    &#123;        printf(&quot;Are you OK?&quot;);        scanf(&quot;%c&quot;,&amp;a);    &#125;    return 0;&#125;\n\næ¥ç€ç¼–è¯‘å¹¶è¿è¡Œï¼Œè¾“å…¥ï¼š\ngcc shell.c./a.out\n\nç°åœ¨å·²ç»å¯ä»¥é¡ºåˆ©è¿è¡Œè¯¥ shell.c æ–‡ä»¶äº†ï¼Œä¸ºäº†ä½¿ç¼–è¯‘ç”Ÿæˆçš„æ–‡ä»¶ä¸è¢«åŠ¨æ€åœ°é“¾æ¥åˆ°å…¶ä»–æ— å…³çš„åº“ï¼Œåˆ™åœ¨ç¼–è¯‘æ—¶ä½¿ç”¨ -static ï¼Œè¾“å…¥ï¼š\n# é™æ€ç¼–è¯‘ï¼ˆé¿å…åŠ¨æ€é“¾æ¥ä¾èµ–ï¼‰gcc shell.c -static\n\n æ¥ç€å°†å¯è¿è¡Œæ–‡ä»¶é‡å‘½åä¸º init ï¼Œè¿™æ˜¯ linux å†…æ ¸é»˜è®¤æœç´¢çš„ä¸€ä¸ªæ–‡ä»¶åï¼Œè¾“å…¥ï¼š\nmv ./a.out init# ä¹Ÿå¯ä»¥åœ¨ä¸Šä¸€æ­¥ç›´æ¥ gcc shell.c -static -o init\n\nç„¶åå†å°†å…¶æ‰“åŒ…æˆä¸€ä¸ª cpio æ ¼å¼çš„å‹ç¼©åŒ…ï¼Œè¾“å…¥ï¼š\n# æ‰“åŒ…ä¸ºinitramfsï¼ˆéœ€åŒ…å«åä¸ºinitçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼‰echo &quot;init&quot; | cpio -H newc -o &gt; init.cpio\n\nåœ¨æ–‡ä»¶å‹ç¼©æˆåŠŸä¹‹åå†ä½¿ç”¨ qemu å°è¯•å¯åŠ¨ï¼Œè¾“å…¥ï¼š\n# ä½¿ç”¨QEMUå¯åŠ¨è‡ªå®šä¹‰å†…æ ¸qemu-system-x86_64 -kernel ../linux-6.13.8/arch/x86/boot/bzImage -initrd init.cpio\n\nè¿è¡Œåè¾“å‡ºæ˜¯ï¼š\n\næ­¤æ—¶ QEMU å·²æˆåŠŸå¯åŠ¨è‡ªå®šä¹‰å†…æ ¸ï¼Œç¼–è¯‘å†…æ ¸è‡³æ­¤å·²ç»å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥å°†æ˜¯æ·»åŠ å†…æ ¸æ¨¡å—\nä¸‰ã€æ·»åŠ å†…æ ¸æ¨¡å—æ­¤æ—¶çš„ç›®å½•ç»“æ„åº”ä¸ºï¼š\n~/æ¡Œé¢/linux/â”œâ”€â”€ linux-6.13.8/          â”œâ”€â”€ shell/                â”‚   â”œâ”€â”€ init             â”‚   â”œâ”€â”€ init.cpio        â”‚   â””â”€â”€ shell.c          \n\næ¥ç€å¼€å§‹ç¼–å†™å†…æ ¸æ¨¡å—ï¼Œåœ¨ shell/ ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ hello.cï¼Œç¼–å†™æ¨¡å—çš„æºç ï¼š\n#include &lt;linux/init.h&gt;#include &lt;linux/module.h&gt;#include &lt;linux/kernel.h&gt;MODULE_LICENSE(&quot;GPL&quot;);MODULE_AUTHOR(&quot;Your Name&quot;);MODULE_DESCRIPTION(&quot;A simple Linux kernel module&quot;);/* æ¨¡å—åŠ è½½å‡½æ•° */static int __init hello_init(void) &#123;    printk(KERN_INFO &quot;Hello, Kernel Module loaded!\\n&quot;);  // å†…æ ¸æ—¥å¿—è¾“å‡º    return 0;&#125;/* æ¨¡å—å¸è½½å‡½æ•° */static void __exit hello_exit(void) &#123;    printk(KERN_INFO &quot;Goodbye, Kernel Module unloaded.\\n&quot;);&#125;/* æ³¨å†Œæ¨¡å—å…¥å£/å‡ºå£ */module_init(hello_init);  // æ¨¡å—åŠ è½½æ—¶è°ƒç”¨ hello_initmodule_exit(hello_exit);  // æ¨¡å—å¸è½½æ—¶è°ƒç”¨ hello_exit\n\nç„¶åæ˜¯ç¼–å†™æ¨¡å—çš„ Makefile ï¼Œåœ¨åŒä¸€ç›®å½•ä¸‹åˆ›å»º Makefile ï¼š\n# æŒ‡å®šæ¨¡å—åç§°ï¼ˆéœ€ä¸æºç æ–‡ä»¶åä¸€è‡´ï¼‰obj-m := hello.o# å†…æ ¸æºç è·¯å¾„ï¼ˆæ ¹æ®å®é™…ä½ç½®ä¿®æ”¹ï¼‰KDIR := ~/æ¡Œé¢/linux/linux-6.13.8  # æŒ‡å‘ä½ çš„å†…æ ¸æºç ç›®å½•# å½“å‰æ¨¡å—è·¯å¾„PWD := $(shell pwd)all:\tmake -C $(KDIR) M=$(PWD) modulesclean:\tmake -C $(KDIR) M=$(PWD) clean\n\næ¥ç€å¼€å§‹ç¼–è¯‘å†…æ ¸æ¨¡å—ï¼Œè¿›å…¥shell/ ç›®å½•å¹¶ç¼–è¯‘ï¼Œè¾“å…¥ï¼š\ncd ~/æ¡Œé¢/linux/shell# æ‰§è¡Œç¼–è¯‘ï¼ˆç”Ÿæˆhello.koå†…æ ¸æ¨¡å—ï¼‰make\n\næ­¤æ—¶è‹¥æˆåŠŸåˆ™ä¼šè¾“å‡ºï¼š\nmake -C ~/æ¡Œé¢/linux/linux-6.13.8 M=~/æ¡Œé¢/linux/shell modules  CC [M]  ~/æ¡Œé¢/linux/shell/hello.o  MODPOST 1 modules  CC      ~/æ¡Œé¢/linux/shell/hello.mod.o  LD [M]  ~/æ¡Œé¢/linux/shell/hello.ko\n\næ£€æŸ¥æ¨¡å—ä¿¡æ¯ï¼Œåº”åŒ…å«è®¸å¯è¯ã€ä½œè€…ç­‰ä¿¡æ¯ï¼Œè¾“å…¥ï¼š\n# æŸ¥çœ‹æ¨¡å—ä¿¡æ¯modinfo hello.ko\n\nå››ã€é›†æˆä¸å®Œæ•´æµ‹è¯•ä¿®æ”¹ç”¨æˆ·æ€ init ç¨‹åºï¼Œæ›´æ–° shell.c ï¼Œä½¿å…¶åŠ è½½å†…æ ¸æ¨¡å—å¹¶äº¤äº’ï¼š\n#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;unistd.h&gt;int main() &#123;    printf(&quot;=== My Minimal Shell ===\\n&quot;);        // 1. åŠ è½½å†…æ ¸æ¨¡å—    system(&quot;insmod /hello.ko&quot;);    printf(&quot;Kernel module loaded. Check dmesg.\\n&quot;);    // 2. æ¨¡æ‹Ÿç”¨æˆ·äº¤äº’    int input;    while (1) &#123;        printf(&quot;Enter &#x27;0&#x27; to exit: &quot;);        scanf(&quot;%d&quot;, &amp;input);        if (input == 0) break;    &#125;    // 3. å¸è½½æ¨¡å—    system(&quot;rmmod hello&quot;);    printf(&quot;Kernel module unloaded.\\n&quot;);    return 0;&#125;\n\næ¥ç€ç¼–è¯‘å¹¶æ‰“åŒ…æ–°çš„ initramfs ï¼Œè¾“å…¥ï¼š\n# é™æ€ç¼–è¯‘gcc -static shell.c -o init  # ç¡®ä¿å¯æ‰§è¡Œchmod +x init               cd ~/æ¡Œé¢/linux/shell# æ‰“åŒ…åŒ…å«æ¨¡å—çš„initramfsï¼ˆå¿…é¡»åŒ…å«initå’Œhello.koï¼‰echo -e &quot;init\\nhello.ko&quot; | cpio -o -H newc &gt; init.cpio  \n\næœ€åæ˜¯é€šè¿‡ QEMU å¯åŠ¨å®Œæ•´æµ‹è¯•ï¼Œè¾“å…¥ï¼š\n# å¸¦æ§åˆ¶å°è¾“å‡ºçš„å¯åŠ¨æ–¹å¼qemu-system-x86_64 \\    -kernel ~/æ¡Œé¢/linux/linux-6.13.8/arch/x86/boot/bzImage \\    -initrd ~/æ¡Œé¢/linux/shell/init.cpio \\    -nographic -append &quot;console=ttyS0&quot;\n\nè¾“å‡ºï¼š\n=== My Minimal Shell ===Kernel module loaded. Check dmesg.Enter &#x27;0&#x27; to exit: \n\nè¾“å…¥ 0 é€€å‡ºç¨‹åºåï¼Œæ£€æŸ¥å¸è½½æ—¥å¿—ï¼Œè¾“å…¥ï¼š\n# è¿‡æ»¤å†…æ ¸æ—¥å¿—ä¸­çš„å¸è½½ä¿¡æ¯dmesg | grep Goodbye\n\nè¾“å‡ºï¼š\nGoodbye, Kernel Module unloaded.\n\nè¿è¡Œåçš„è¾“å‡ºæ˜¯ï¼š\n\né€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå³å¯å®Œæˆä»å†…æ ¸ç¼–è¯‘åˆ°æ¨¡å—å¼€å‘çš„å®Œæ•´æµç¨‹ã€‚\nä½†æ˜¯ç›®å‰ä»å­˜åœ¨éƒ¨åˆ†å°é—®é¢˜ï¼Œç­‰å¾…åç»­å­¦ä¹ ä¿®æ­£ã€‚\n","categories":["å­¦ä¹ "],"tags":["çŸ¥è¯†æ€»ç»“","æ“ä½œç³»ç»Ÿ"]},{"title":"åŸºäºåä¸ºäº‘ä¸frpå®ç°å†…ç½‘ç©¿é€è¿æ¥æ ‘è“æ´¾","url":"/2025/01/16/%E5%9F%BA%E4%BA%8E%E5%8D%8E%E4%B8%BA%E4%BA%91%E4%B8%8Efrp%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%BF%9E%E6%8E%A5%E6%A0%91%E8%8E%93%E6%B4%BE/","content":"æ”¾å¯’å‡äº†~ ä¹°äº†å¥½ä¹…çš„æ ‘è“æ´¾ï¼Œç»ˆäºå¯ä»¥å¼€å§‹ç©äº†ã€‚\né¦–å…ˆå°±æ˜¯é€šè¿‡raspberry pi imagerè¿›è¡ŒåŸºæœ¬çš„ç³»ç»Ÿä¸‹è½½ï¼Œåœ¨ä¸‹è½½ç³»ç»Ÿæ—¶è®¾ç½®å¥½wifiå¹¶æ‰“å¼€sshè¿æ¥ï¼Œç„¶åæ ‘è“æ´¾å¼€æœºè¿æ¥wifiåå°±èƒ½ç”¨åŒä¸€ç½‘ç»œä¸‹çš„ç”µè„‘ä½¿ç”¨sshè¿æ¥æ ‘è“æ´¾äº†ï¼Œè¿›ä¸€æ­¥çš„ï¼Œå¦‚æœä¸‹è½½çš„æ˜¯æœ‰å›¾å½¢åŒ–ç•Œé¢çš„ç³»ç»Ÿï¼Œå°±å¯ä»¥ç”¨VNCè¿›è¡Œè¿œç¨‹æ¡Œé¢æ“æ§ã€‚å› ä¸ºæ²¡æœ‰æ˜¾ç¤ºå±ï¼Œæ‰€ä»¥ä¸å¾—ä¸ä½¿ç”¨è¿™ç§æ–¹æ³•è¿æ¥æ ‘è“æ´¾å’³å’³\næ¥ç€ï¼Œå°±æƒ³åˆ°è¿™ç§æ–¹æ³•åªèƒ½åœ¨åŒä¸€å±€åŸŸç½‘ä¸‹é€šè¿‡ç”µè„‘è¿æ¥æ ‘è“æ´¾ï¼Œå¦‚æœæˆ‘åœ¨å…¶ä»–åœ°æ–¹è¦è¿œç¨‹æ§åˆ¶æ ‘è“æ´¾å°±è¡Œä¸é€šäº†ã€‚å› æ­¤ï¼Œå°±éœ€è¦å†…ç½‘ç©¿é€æŠ€æœ¯ï¼Œä¸‹é¢æˆ‘å°†åŸºäºåä¸ºäº‘æœåŠ¡å™¨å®ç°å†…ç½‘ç©¿é€é€šè¿‡sshè¿æ¥æ ‘è“æ´¾ã€‚\n1.å‡†å¤‡å·¥ä½œ\nä¸€å°å…·æœ‰å…¬ç½‘IPçš„æœåŠ¡å™¨ï¼š\nç”¨äºè¿è¡ŒfrpæœåŠ¡ç«¯ï¼ˆä¾‹å¦‚åä¸ºäº‘æœåŠ¡å™¨ï¼‰ã€‚\n\nåœ¨è´­ä¹°åä¸ºäº‘æœåŠ¡å™¨æ—¶éœ€è¦è´­ä¹°å¹¶ç»‘å®šç›¸åº”çš„å¼¹æ€§å…¬ç½‘ipæ‰èƒ½æœ‰ç½‘ç»œè¿æ¥\nåä¸ºäº‘æœåŠ¡å™¨çš„å®‰å…¨ç»„çš„å¯¹åº”ç«¯å£è¦æ‰“å¼€ï¼Œåé¢ä¼šæåˆ°\n\n\næ ‘è“æ´¾ï¼š\nç¡®ä¿æ ‘è“æ´¾å·²è¿æ¥åˆ°ç½‘ç»œï¼Œå¹¶å¯ç”¨SSHã€‚\n\nä¸‹è½½frpï¼š\nè®¿é—® frp GitHub Releases ä¸‹è½½é€‚åˆæ ‘è“æ´¾å’ŒæœåŠ¡å™¨çš„ç‰ˆæœ¬ã€‚\n\næ ‘è“æ´¾ï¼ˆARMæ¶æ„ï¼‰ï¼šfrp_0.xx.0_linux_arm.tar.gzï¼ˆæˆ‘ä¸‹è½½æ—¶æœ€æ–°çš„ç‰ˆæœ¬æ˜¯frp_0.61.1_linux_arm.tar.gzï¼‰\næœåŠ¡å™¨ï¼ˆx86æ¶æ„ï¼‰ï¼šfrp_0.xx.0_linux_amd64.tar.gzï¼ˆæˆ‘ä¸‹è½½æ—¶æœ€æ–°çš„ç‰ˆæœ¬æ˜¯ frp_0.61.1_linux_amd64.tar.gzï¼‰\n\n\n\n2.åœ¨æœåŠ¡å™¨ä¸Šé…ç½®frpæœåŠ¡ç«¯\nç™»å½•æœåŠ¡å™¨ï¼š\n ä½¿ç”¨SSHè¿æ¥åˆ°ä½ çš„å…¬ç½‘æœåŠ¡å™¨ã€‚\n\nä¸‹è½½å¹¶è§£å‹frpï¼š\nwget https://github.com/fatedier/frp/releases/download/v0.61.1/frp_0.61.1_linux_amd64.tar.gztar -zxvf frp_0.61.1_linux_amd64.tar.gzcd frp_0.61.1_linux_amd64\næ³¨æ„ï¼Œwget åœ¨å°è¯•ä¸‹è½½ frp æ—¶æœ‰å‡ ç‡é‡åˆ°è¿æ¥é—®é¢˜ï¼Œå¯èƒ½æ˜¯ç”±äºç½‘ç»œé—®é¢˜æˆ– GitHub çš„è®¿é—®é™åˆ¶ã€‚æ­¤æ—¶å¯ä»¥åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šä¸‹è½½ï¼Œä¸‹è½½å®Œåé€šè¿‡winSCPå°†æ–‡ä»¶ä¼ ç»™åä¸ºäº‘æœåŠ¡å™¨ï¼Œæˆ–è€…é€šè¿‡scpå‘½ä»¤å°†æ–‡ä»¶ä¼ ç»™æœåŠ¡å™¨ã€‚\nscp frp_0.61.1_linux_amd64.tar.gz root@æœåŠ¡å™¨å…¬ç½‘IP:/root/\n\né…ç½®frpæœåŠ¡ç«¯ï¼š\nç¼–è¾‘ frps.ini æ–‡ä»¶ï¼š\n nano frps.ini\n\n æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n  [common]bind_port = 7000\n\n\nbind_port æ˜¯frpæœåŠ¡ç«¯ç›‘å¬çš„ç«¯å£ã€‚\n\næ³¨æ„ï¼Œæ­¤å¤„çš„7000å¯ä»¥æ”¹æˆå…¶ä»–çš„ç«¯å£ï¼Œåªè¦ä¸å†²çªå°±è¡Œï¼Œä¹Ÿå»ºè®®è¿›è¡Œä¿®æ”¹ï¼Œåœ¨åç»­çš„å®‰å…¨ç»„é…ç½®ä¸­è¦æ”¹æˆå¯¹åº”çš„ç«¯å£å·ã€‚\n\n\nä¿å­˜å¹¶é€€å‡ºï¼š\n\nä¿å­˜æ–‡ä»¶ï¼š\næŒ‰ä¸‹ Ctrl + Oï¼ˆå³æŒ‰ä½ Ctrl é”®ï¼Œç„¶åæŒ‰ O é”®ï¼‰ã€‚\næŒ‰ Enter ç¡®è®¤ä¿å­˜ã€‚\n\né€€å‡º nanoï¼š\n   æŒ‰ä¸‹ Ctrl + X é€€å‡ºç¼–è¾‘å™¨ã€‚\n\n\n\nå¯åŠ¨frpæœåŠ¡ç«¯ï¼š\n./frps -c frps.ini\n\næœåŠ¡ç«¯ä¼šç›‘å¬ 7000 ç«¯å£ï¼Œç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ã€‚\n\nä¿æŒæœåŠ¡ç«¯è¿è¡Œï¼š\nå¯ä»¥ä½¿ç”¨ nohup æˆ– systemd è®©frpæœåŠ¡ç«¯åœ¨åå°è¿è¡Œï¼š\nnohup ./frps -c frps.ini &gt; frps.log 2&gt;&amp;1 &amp;\n\né…ç½®åä¸ºäº‘å®‰å…¨ç»„ï¼š\n\nç™»å½•åä¸ºäº‘æ§åˆ¶å°ï¼Œæ‰¾åˆ°ä½ çš„æœåŠ¡å™¨å®ä¾‹ã€‚\n\nè¿›å…¥â€œå®‰å…¨ç»„â€é…ç½®ï¼Œæ·»åŠ ä»¥ä¸‹è§„åˆ™ï¼š\n\nåè®®ï¼šTCP\nç«¯å£èŒƒå›´ï¼š7000ï¼ˆæˆ–è€…æ›´æ”¹ä¸ºå…¶ä»–çš„åˆæ³•ç«¯å£ï¼‰\næºåœ°å€ï¼š0.0.0.0&#x2F;0ï¼ˆæˆ–é™åˆ¶ä¸ºä½ çš„ç”µè„‘IPï¼‰\n\n\nä¿å­˜è§„åˆ™ã€‚\n\n\n\n\n7.æ£€æŸ¥æœåŠ¡ç«¯æ˜¯å¦è¿è¡Œï¼š\n  ps aux | grep frps\n\nå¦‚æœæ²¡æœ‰è¾“å‡ºï¼Œè¯´æ˜ frp æœåŠ¡ç«¯æœªè¿è¡Œï¼Œéœ€è¦é‡æ–°å¯åŠ¨ï¼š\n ./frps -c frps.ini\n\n è¡¥å……ï¼šåœ¨sshè¿æ¥ä¸‹å¯ä»¥ç”¨ctrl+Då¿«é€Ÿé€€å‡ºsshè¿æ¥ï¼Œä¹Ÿèƒ½è¾“å…¥exité€€å‡ºsshè¿æ¥\n3. åœ¨æ ‘è“æ´¾ä¸Šé…ç½®frpå®¢æˆ·ç«¯\nç™»å½•æ ‘è“æ´¾ï¼š\nä½¿ç”¨SSHè¿æ¥åˆ°æ ‘è“æ´¾ã€‚\n\nä¸‹è½½å¹¶è§£å‹frpï¼š\nwget https://github.com/fatedier/frp/releases/download/v0.61.1/frp_0.61.1_linux_arm.tar.gztar -zxvf frp_0.61.1_linux_arm.tar.gzcd frp_0.61.1_linux_arm\næ³¨æ„ï¼Œæ­¤å¤„å’Œä¸Šé¢çš„é—®é¢˜ä¸€æ ·ï¼Œåœ¨ä¸‹è½½frpæ—¶å¯èƒ½ä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œæ­¤æ—¶å¯ä»¥åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šä¸‹è½½ï¼Œä¸‹è½½å®Œåé€šè¿‡winSCPå°†æ–‡ä»¶ä¼ ç»™æ ‘è“æ´¾ï¼Œæˆ–è€…é€šè¿‡scpå‘½ä»¤å°†æ–‡ä»¶ä¼ ç»™æ ‘è“æ´¾ã€‚\n\nä½¿ç”¨ scp ä¸Šä¼ æ–‡ä»¶\nscp æ˜¯ä¸€ä¸ªåŸºäº SSH çš„æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå¯ä»¥å°†æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼ˆå¦‚æ ‘è“æ´¾ï¼‰ã€‚\nåœ¨æœ¬åœ°ç”µè„‘ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n\nMac&#x2F;Linuxï¼š\n\næ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\nscp /path/to/frp_0.61.1_linux_arm.tar.gz pi@æ ‘è“æ´¾IP:/home/pi/\n\n\nå°† /path/to/frp_0.61.1_linux_arm.tar.gz æ›¿æ¢ä¸ºæ–‡ä»¶çš„å®é™…è·¯å¾„ã€‚\nå°† æ ‘è“æ´¾IP æ›¿æ¢ä¸ºæ ‘è“æ´¾çš„å±€åŸŸç½‘ IP åœ°å€ï¼ˆå¦‚ 192.168.1.100ï¼‰ã€‚\né»˜è®¤ä¸Šä¼ åˆ°æ ‘è“æ´¾çš„ /home/pi/ ç›®å½•ã€‚\n\n\n\n\nWindowsï¼š\n\nå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ PowerShellï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\nscp C:\\Users\\username\\Downloads\\frp_0.61.1_linux_arm.tar.gz pi@æ ‘è“æ´¾IP:/home/pi/\n\n\nå°† C:\\Users\\username\\Downloads\\frp_0.61.1_linux_arm.tar.gz æ›¿æ¢ä¸ºæ–‡ä»¶çš„å®é™…è·¯å¾„ã€‚\nå°† æ ‘è“æ´¾IP æ›¿æ¢ä¸ºæ ‘è“æ´¾çš„å±€åŸŸç½‘ IP åœ°å€ã€‚\n\n\n\n\nè¾“å…¥å¯†ç ï¼š\n\nç³»ç»Ÿä¼šæç¤ºä½ è¾“å…¥æ ‘è“æ´¾çš„å¯†ç ï¼ˆé»˜è®¤å¯†ç æ˜¯ raspberryï¼‰ã€‚\nè¾“å…¥å¯†ç åï¼Œæ–‡ä»¶ä¼šä¸Šä¼ åˆ°æ ‘è“æ´¾ã€‚\n\n\n\n\n\né…ç½®frpå®¢æˆ·ç«¯ï¼š\nç¼–è¾‘ frpc.ini æ–‡ä»¶ï¼š\nnano frpc.ini\n\næ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n[common]server_addr = æœåŠ¡å™¨å…¬ç½‘IPserver_port = 7000[ssh]type = tcplocal_ip = 127.0.0.1local_port = 22remote_port = 6000\n\n\nserver_addrï¼šå¡«å†™ä½ çš„æœåŠ¡å™¨å…¬ç½‘IPã€‚\nserver_portï¼šä¸æœåŠ¡ç«¯çš„ bind_port ä¸€è‡´ï¼ˆé»˜è®¤7000ï¼Œå¦‚æœä¹‹å‰æœ‰ä¿®æ”¹ï¼Œæ­¤å¤„ä¹Ÿè¦è¿›è¡Œç›¸åº”çš„ä¿®æ”¹ï¼‰ã€‚\n[ssh]ï¼šå®šä¹‰ä¸€ä¸ªSSHéš§é“ï¼Œå°†æœåŠ¡å™¨çš„ 6000 ç«¯å£æ˜ å°„åˆ°æ ‘è“æ´¾çš„ 22 ç«¯å£ã€‚\n\n\nå¯åŠ¨frpå®¢æˆ·ç«¯ï¼š\n./frpc -c frpc.ini\n\nå®¢æˆ·ç«¯ä¼šè¿æ¥åˆ°æœåŠ¡å™¨ï¼Œå¹¶å°†æœåŠ¡å™¨çš„ 6000 ç«¯å£æ˜ å°„åˆ°æ ‘è“æ´¾çš„SSHæœåŠ¡ã€‚\n\nä¿æŒå®¢æˆ·ç«¯è¿è¡Œï¼š\n å¯ä»¥ä½¿ç”¨ nohup æˆ– systemd è®©frpå®¢æˆ·ç«¯åœ¨åå°è¿è¡Œï¼š\n nohup ./frpc -c frpc.ini &gt; frpc.log 2&gt;&amp;1 &amp;\n\næ£€æŸ¥æœåŠ¡ç«¯æ˜¯å¦è¿è¡Œï¼š\n ps aux | grep frps\n\n  å¦‚æœæ²¡æœ‰è¾“å‡ºï¼Œè¯´æ˜ frp å®¢æˆ·ç«¯æœªè¿è¡Œï¼Œéœ€è¦é‡æ–°å¯åŠ¨ï¼š\n  ./frpc -c frpc.ini\n  è¡¥å……ï¼šåœ¨sshè¿æ¥ä¸‹å¯ä»¥ç”¨ctrl+Då¿«é€Ÿé€€å‡ºsshè¿æ¥ï¼Œä¹Ÿèƒ½è¾“å…¥exité€€å‡ºsshè¿æ¥\n\næ£€æŸ¥ç«¯å£ç›‘å¬çŠ¶æ€ï¼š\n è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ£€æŸ¥ 7000 ç«¯å£æ˜¯å¦è¢« frp æœåŠ¡ç«¯ç›‘å¬ï¼š\n sudo netstat -tuln | grep 7000\n\n  å¦‚æœçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹è¾“å‡ºï¼Œè¯´æ˜ç«¯å£å·²ç›‘å¬ï¼š\n   tcp        0      0 0.0.0.0:7000            0.0.0.0:*               LISTEN\n\n  å¦‚æœæ²¡æœ‰è¾“å‡ºï¼Œè¯´æ˜ frp æœåŠ¡ç«¯æœªæ­£ç¡®ç›‘å¬ç«¯å£ã€‚\n\næ£€æŸ¥ frp å®¢æˆ·ç«¯æ—¥å¿—ï¼š\n æŸ¥çœ‹ frp å®¢æˆ·ç«¯çš„æ—¥å¿—æ–‡ä»¶ï¼š\n  cat frpc.log\n\n å¦‚æœæ—¥å¿—ä¸­æœ‰é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚è¿æ¥å¤±è´¥ï¼‰ï¼Œè¯·æ ¹æ®é”™è¯¯ä¿¡æ¯è¿›è¡Œæ’æŸ¥ã€‚\n\n\n4. è¿œç¨‹SSHè¿æ¥æ ‘è“æ´¾\né€šè¿‡æœåŠ¡å™¨è¿æ¥æ ‘è“æ´¾ï¼š\n\nåœ¨è‡ªå·±çš„ç”µè„‘ä¸Šä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é€šè¿‡æœåŠ¡å™¨çš„å…¬ç½‘IPå’Œæ˜ å°„ç«¯å£è¿æ¥æ ‘è“æ´¾ï¼š\nssh -p 6000 pi@æœåŠ¡å™¨å…¬ç½‘IP\n\nè¾“å…¥æ ‘è“æ´¾çš„ç”¨æˆ·åï¼ˆé»˜è®¤ piï¼‰å’Œå¯†ç å³å¯ç™»å½•ã€‚\n\n\n\nç›´æ¥è¿æ¥ï¼ˆå¦‚æœé…ç½®äº†DDNSï¼‰ï¼š\n\nå¦‚æœæœåŠ¡å™¨ç»‘å®šäº†åŸŸåï¼ˆå¦‚ mypi.ddns.netï¼‰ï¼Œå¯ä»¥ä½¿ç”¨åŸŸåè¿æ¥ï¼š\nssh -p 6000 pi@mypi.ddns.net\n\n\n\nè‡³æ­¤ï¼Œåº”è¯¥å°±å¯ä»¥åŸºäºåä¸ºäº‘ä¸frpå®ç°å†…ç½‘ç©¿é€è¿æ¥æ ‘è“æ´¾äº†ï¼Œä¸‹é¢ç»™å‡ºä¸€äº›å®ç”¨æ€§å’Œå®‰å…¨æ€§å»ºè®®\n5. è®¾ç½®å¼€æœºè‡ªå¯åŠ¨ä¸ºäº†ç¡®ä¿frpå®¢æˆ·ç«¯åœ¨æ ‘è“æ´¾é‡å¯åè‡ªåŠ¨è¿è¡Œï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºç³»ç»ŸæœåŠ¡ã€‚\n\nåˆ›å»ºsystemdæœåŠ¡æ–‡ä»¶ï¼š\nsudo nano /etc/systemd/system/frpc.service\n\næ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n[Unit]Description=Frp Client ServiceAfter=network.target[Service]ExecStart=/home/pi/frp_0.61.1_linux_arm/frpc -c /home/pi/frp_0.61.1_linux_arm/frpc.iniRestart=on-failure[Install]WantedBy=multi-user.target\n\n\nä¿®æ”¹ ExecStart è·¯å¾„ä¸ºä½ çš„frpå®¢æˆ·ç«¯å®é™…è·¯å¾„ã€‚\n\n\nå¯ç”¨å¹¶å¯åŠ¨æœåŠ¡ï¼š\nsudo systemctl enable frpcsudo systemctl start frpc\n\næ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼š\nsudo systemctl status frpc\n\n6. å®‰å…¨æ€§å»ºè®®\nä¿®æ”¹é»˜è®¤SSHç«¯å£ï¼š\nåœ¨æ ‘è“æ´¾ä¸Šä¿®æ”¹SSHç«¯å£ï¼ˆå¦‚ 2222ï¼‰ï¼Œå¹¶åœ¨frpå®¢æˆ·ç«¯é…ç½®ä¸­åŒæ­¥ä¿®æ”¹ local_portã€‚\n\nä½¿ç”¨å¯†é’¥è®¤è¯ï¼š\nç¦ç”¨å¯†ç ç™»å½•ï¼Œä½¿ç”¨SSHå¯†é’¥è®¤è¯ã€‚\n\né™åˆ¶è®¿é—®IPï¼š\nåœ¨æœåŠ¡å™¨é˜²ç«å¢™ä¸­é™åˆ¶ 6000 ç«¯å£çš„è®¿é—®IPã€‚\n\n\n7**. åŒä¸€å±€åŸŸç½‘ä¸‹ä½¿ç”¨VNCè¿æ¥æ ‘è“æ´¾æ¡Œé¢**\næ‰“å¼€æ ‘è“æ´¾é…ç½®å·¥å…·ï¼š\nè¿è¡Œä»¥ä¸‹å‘½ä»¤æ‰“å¼€ raspi-configï¼š\nsudo raspi-config\n\nå¯ç”¨X11æ¨¡å¼\n\nåœ¨ raspi-config èœå•ä¸­ï¼Œé€‰æ‹© Advanced Optionsã€‚\né€‰æ‹©A6 Waylandã€‚\né€‰æ‹©W1 X11æ¨¡å¼ã€‚\nç¡®è®¤OKè‡ªåŠ¨é‡å¯ç³»ç»Ÿã€‚\n\n\nå¯ç”¨ VNCï¼š\n\nåœ¨ raspi-config èœå•ä¸­ï¼Œé€‰æ‹© Interfacing Optionsã€‚\né€‰æ‹© VNCï¼Œç„¶åé€‰æ‹© Yes å¯ç”¨ VNCã€‚\n\n\né…ç½® VNC å®¢æˆ·ç«¯ï¼š\n\næ‰“å¼€ VNC å®¢æˆ·ç«¯ã€‚\n\nåœ¨åœ°å€æ ä¸­è¾“å…¥æ ‘è“æ´¾çš„IPåœ°å€ã€‚\n\nç‚¹å‡»è¿æ¥ã€‚\n\n\n\n\n8. ä½¿ç”¨VNCè¿œç¨‹è¿æ¥æ ‘è“æ´¾æ¡Œé¢\næ‰“å¼€æ ‘è“æ´¾é…ç½®å·¥å…·ï¼š\nè¿è¡Œä»¥ä¸‹å‘½ä»¤æ‰“å¼€ raspi-configï¼š\nsudo raspi-config\n\nå¯ç”¨ VNCï¼š\n\nåœ¨ raspi-config èœå•ä¸­ï¼Œé€‰æ‹© Interfacing Optionsã€‚\né€‰æ‹© VNCï¼Œç„¶åé€‰æ‹© Yes å¯ç”¨ VNCã€‚\n\n\nè®¾ç½®åˆ†è¾¨ç‡ï¼ˆå¯é€‰ï¼‰ï¼š\n\nåœ¨ raspi-config èœå•ä¸­ï¼Œé€‰æ‹© Display Optionsã€‚\né€‰æ‹© Resolutionï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªé€‚åˆçš„åˆ†è¾¨ç‡ï¼ˆä¾‹å¦‚ 1920x1080ï¼‰\n\n\nå®Œæˆé…ç½®ï¼š\n\né€€å‡º raspi-config å¹¶é‡å¯æ ‘è“æ´¾ï¼š\nsudo reboot\n\n\nå¯åŠ¨ Virtual Mode æœåŠ¡ï¼š\n\nè¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Virtual Mode æœåŠ¡ï¼š\nsudo /etc/vnc/vncservice start vncserver-virtuald\n\n\næ£€æŸ¥ Virtual Mode çŠ¶æ€ï¼š\n\nè¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ Virtual Mode æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š\nsudo /etc/vnc/vncservice status vncserver-virtuald\n\nå¦‚æœæœåŠ¡æœªè¿è¡Œï¼Œå°è¯•é‡å¯ï¼š\nsudo /etc/vnc/vncservice restart vncserver-virtuald\n\n\nç¡®è®¤ Virtual Mode ç«¯å£ï¼š\n\nVirtual Mode é»˜è®¤ä½¿ç”¨ 5901 ç«¯å£ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ç«¯å£æ˜¯å¦ç›‘å¬ï¼š\nsudo netstat -tuln | grep 5901\n\nå¦‚æœçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹è¾“å‡ºï¼Œè¯´æ˜ Virtual Mode æ­£åœ¨ç›‘å¬ï¼š\ntcp        0      0 0.0.0.0:5901            0.0.0.0:*               LISTEN\n\n\nå¦‚æœç«¯å£æœªç›‘å¬ï¼š\n\nå¯èƒ½æ˜¯ Virtual Mode æœåŠ¡æœªæ­£ç¡®å¯åŠ¨ã€‚å°è¯•é‡å¯æœåŠ¡ï¼š\nsudo /etc/vnc/vncservice restart vncserver-virtuald\n\n\nåœ¨æœ¬åœ°è®¡ç®—æœºä¸Šåˆ›å»º SSH éš§é“ï¼š\n\nè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†æ ‘è“æ´¾çš„ 5901 ç«¯å£è½¬å‘åˆ°æœ¬åœ°çš„ 5901 ç«¯å£ï¼š\nssh -L 5901:localhost:5901 -p 6000 pi@æœåŠ¡å™¨å…¬ç½‘ip\n\n\nä¿æŒ SSH éš§é“è¿æ¥ï¼š\n\nä¸è¦å…³é—­è¿™ä¸ª SSH è¿æ¥ï¼Œä¿æŒå®ƒè¿è¡Œä»¥ç»´æŒéš§é“ã€‚\n\n\né…ç½® VNC å®¢æˆ·ç«¯ï¼š\n\næ‰“å¼€ VNC å®¢æˆ·ç«¯ã€‚\nåœ¨åœ°å€æ ä¸­è¾“å…¥ localhost:5901ã€‚\nç‚¹å‡»è¿æ¥ã€‚\n\n\n\n\nVirtual Mode å’Œ Service Mode æ˜¯ RealVNC æä¾›çš„ä¸¤ç§ä¸åŒçš„è¿è¡Œæ¨¡å¼ï¼Œå®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äº é€‚ç”¨åœºæ™¯ã€è¿è¡Œæ–¹å¼ å’Œ æ€§èƒ½è¡¨ç°ã€‚ä»¥ä¸‹æ˜¯å®ƒä»¬çš„è¯¦ç»†å¯¹æ¯”ï¼š\n\n1. Service Modeï¼ˆæœåŠ¡æ¨¡å¼ï¼‰ç‰¹ç‚¹\né€‚ç”¨åœºæ™¯ï¼š\nç”¨äºç›´æ¥è®¿é—®æ ‘è“æ´¾çš„ç‰©ç†æ˜¾ç¤ºå™¨ï¼ˆå³è¿æ¥äº† HDMI æ˜¾ç¤ºå™¨æˆ–å±å¹•ï¼‰ã€‚\né€‚åˆéœ€è¦ä¸ç‰©ç†æ˜¾ç¤ºå™¨äº¤äº’çš„åœºæ™¯ï¼Œä¾‹å¦‚è°ƒè¯•å›¾å½¢ç•Œé¢æˆ–è¿è¡Œå›¾å½¢åŒ–åº”ç”¨ç¨‹åºã€‚\n\n\nè¿è¡Œæ–¹å¼ï¼š\nä½œä¸ºä¸€ä¸ªç³»ç»ŸæœåŠ¡è¿è¡Œï¼Œç”± vncserver-x11-serviced ç®¡ç†ã€‚\nç›´æ¥è¿æ¥åˆ°æ ‘è“æ´¾çš„ç‰©ç†æ˜¾ç¤ºå™¨ï¼ˆX11 ä¼šè¯ï¼‰ã€‚\n\n\næ€§èƒ½ï¼š\næ€§èƒ½è¾ƒå¥½ï¼Œå› ä¸ºç›´æ¥ä½¿ç”¨ç‰©ç†æ˜¾ç¤ºå™¨çš„ç¡¬ä»¶åŠ é€Ÿã€‚\nå»¶è¿Ÿè¾ƒä½ï¼Œé€‚åˆå›¾å½¢å¯†é›†å‹åº”ç”¨ã€‚\n\n\nç«¯å£ï¼š\né»˜è®¤ä½¿ç”¨ 5900 ç«¯å£ã€‚\n\n\n\nä¼˜ç‚¹\nç›´æ¥è®¿é—®ç‰©ç†æ˜¾ç¤ºå™¨ï¼Œé€‚åˆéœ€è¦ä¸æœ¬åœ°å±å¹•äº¤äº’çš„åœºæ™¯ã€‚\næ€§èƒ½è¾ƒå¥½ï¼Œå»¶è¿Ÿè¾ƒä½ã€‚\n\nç¼ºç‚¹\néœ€è¦è¿æ¥ç‰©ç†æ˜¾ç¤ºå™¨ï¼Œå¦åˆ™æ— æ³•ä½¿ç”¨ã€‚\nå¦‚æœæ²¡æœ‰ç‰©ç†æ˜¾ç¤ºå™¨ï¼ŒService Mode å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œã€‚\n\n\n2. Virtual Modeï¼ˆè™šæ‹Ÿæ¨¡å¼ï¼‰ç‰¹ç‚¹\né€‚ç”¨åœºæ™¯ï¼š\nç”¨äºåœ¨æ²¡æœ‰ç‰©ç†æ˜¾ç¤ºå™¨çš„æƒ…å†µä¸‹è¿œç¨‹è®¿é—®æ ‘è“æ´¾æ¡Œé¢ã€‚\né€‚åˆçº¯è¿œç¨‹è®¿é—®çš„åœºæ™¯ï¼Œä¾‹å¦‚æœåŠ¡å™¨æˆ–æ— å¤´æ¨¡å¼ï¼ˆHeadless Modeï¼‰ä¸‹çš„æ ‘è“æ´¾ã€‚\n\n\nè¿è¡Œæ–¹å¼ï¼š\nä½œä¸ºä¸€ä¸ªè™šæ‹Ÿæ˜¾ç¤ºå™¨è¿è¡Œï¼Œç”± vncserver-virtuald ç®¡ç†ã€‚\nä¸éœ€è¦ç‰©ç†æ˜¾ç¤ºå™¨ï¼Œå³ä½¿æ ‘è“æ´¾æ²¡æœ‰è¿æ¥å±å¹•ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚\n\n\næ€§èƒ½ï¼š\næ€§èƒ½ç¨å·®ï¼Œå› ä¸ºæ²¡æœ‰ç¡¬ä»¶åŠ é€Ÿã€‚\nå»¶è¿Ÿè¾ƒé«˜ï¼Œå°¤å…¶æ˜¯åœ¨å›¾å½¢å¯†é›†å‹åº”ç”¨ä¸­ã€‚\n\n\nç«¯å£ï¼š\né»˜è®¤ä½¿ç”¨ 5901 ç«¯å£ã€‚\n\n\n\nä¼˜ç‚¹\nä¸éœ€è¦ç‰©ç†æ˜¾ç¤ºå™¨ï¼Œé€‚åˆæ— å¤´æ¨¡å¼ï¼ˆHeadless Modeï¼‰ä¸‹çš„æ ‘è“æ´¾ã€‚\nå¯ä»¥éšæ—¶éšåœ°è¿œç¨‹è®¿é—®æ ‘è“æ´¾æ¡Œé¢ã€‚\n\nç¼ºç‚¹\næ€§èƒ½è¾ƒå·®ï¼Œå»¶è¿Ÿè¾ƒé«˜ã€‚\nä¸æ”¯æŒç¡¬ä»¶åŠ é€Ÿï¼Œå›¾å½¢æ€§èƒ½æœ‰é™ã€‚\n\n\n3. å¯¹æ¯”æ€»ç»“\n\n\nç‰¹æ€§\nService Modeï¼ˆæœåŠ¡æ¨¡å¼ï¼‰\nVirtual Modeï¼ˆè™šæ‹Ÿæ¨¡å¼ï¼‰\n\n\n\né€‚ç”¨åœºæ™¯\néœ€è¦ç‰©ç†æ˜¾ç¤ºå™¨ï¼Œé€‚åˆæœ¬åœ°è°ƒè¯•\nä¸éœ€è¦ç‰©ç†æ˜¾ç¤ºå™¨ï¼Œé€‚åˆçº¯è¿œç¨‹è®¿é—®\n\n\nè¿è¡Œæ–¹å¼\nç›´æ¥è¿æ¥åˆ°ç‰©ç†æ˜¾ç¤ºå™¨ï¼ˆX11 ä¼šè¯ï¼‰\nè™šæ‹Ÿæ˜¾ç¤ºå™¨ï¼Œæ— éœ€ç‰©ç†æ˜¾ç¤ºå™¨\n\n\næ€§èƒ½\næ€§èƒ½è¾ƒå¥½ï¼Œå»¶è¿Ÿè¾ƒä½\næ€§èƒ½è¾ƒå·®ï¼Œå»¶è¿Ÿè¾ƒé«˜\n\n\nç«¯å£\né»˜è®¤ 5900\né»˜è®¤ 5901\n\n\næ˜¯å¦éœ€è¦æ˜¾ç¤ºå™¨\néœ€è¦\nä¸éœ€è¦\n\n\né€‚åˆåœºæ™¯\nå›¾å½¢åŒ–åº”ç”¨ã€æœ¬åœ°è°ƒè¯•\næ— å¤´æ¨¡å¼ã€è¿œç¨‹è®¿é—®\n\n\n\n4. å¦‚ä½•é€‰æ‹©ï¼Ÿ\né€‰æ‹© Service Modeï¼š\n\nå¦‚æœä½ è¿æ¥äº†ç‰©ç†æ˜¾ç¤ºå™¨ï¼ˆå¦‚ HDMI å±å¹•ï¼‰ï¼Œå¹¶ä¸”éœ€è¦ä¸æœ¬åœ°å±å¹•äº¤äº’ã€‚\nå¦‚æœä½ éœ€è¦è¾ƒé«˜çš„å›¾å½¢æ€§èƒ½ï¼ˆä¾‹å¦‚è¿è¡Œå›¾å½¢åŒ–åº”ç”¨ç¨‹åºæˆ–æ¸¸æˆï¼‰ã€‚\n\n\né€‰æ‹© Virtual Modeï¼š\n\nå¦‚æœä½ çš„æ ‘è“æ´¾æ²¡æœ‰è¿æ¥ç‰©ç†æ˜¾ç¤ºå™¨ï¼ˆæ— å¤´æ¨¡å¼ï¼‰ã€‚\nå¦‚æœä½ åªéœ€è¦è¿œç¨‹è®¿é—®æ ‘è“æ´¾æ¡Œé¢ï¼Œä¸”å¯¹å›¾å½¢æ€§èƒ½è¦æ±‚ä¸é«˜ã€‚\n\n\n\n\n5. å¦‚ä½•åˆ‡æ¢æ¨¡å¼ï¼Ÿ\nå¯ç”¨ Service Modeï¼š\n\nè¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Service Modeï¼šsudo /etc/vnc/vncservice start vncserver-x11-serviced\nç¡®ä¿åœ¨ raspi-config ä¸­å¯ç”¨äº† VNCï¼šsudo raspi-config\n\né€‰æ‹© Interfacing Options -&gt; VNC -&gt; Enableã€‚\n\n\n\n\nå¯ç”¨ Virtual Modeï¼š\n\nè¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Virtual Modeï¼šsudo /etc/vnc/vncservice start vncserver-virtuald\nç¡®ä¿ Virtual Mode æœåŠ¡å·²å¯ç”¨ï¼šsudo /etc/vnc/vncservice enable vncserver-virtuald\n\n\nåˆ‡æ¢æ¨¡å¼ï¼š\n\nå¦‚æœéœ€è¦ä» Service Mode åˆ‡æ¢åˆ° Virtual Modeï¼Œå…ˆåœæ­¢ Service Modeï¼šsudo /etc/vnc/vncservice stop vncserver-x11-serviced\nç„¶åå¯åŠ¨ Virtual Modeï¼šsudo /etc/vnc/vncservice start vncserver-virtuald\n\n\n\n\n6. æ³¨æ„äº‹é¡¹\nç«¯å£å†²çªï¼š\nService Mode å’Œ Virtual Mode é»˜è®¤ä½¿ç”¨ä¸åŒçš„ç«¯å£ï¼ˆ5900 å’Œ 5901ï¼‰ï¼Œå› æ­¤å¯ä»¥åŒæ—¶è¿è¡Œï¼Œä½†é€šå¸¸ä¸å»ºè®®è¿™æ ·åšã€‚\n\n\næ€§èƒ½ä¼˜åŒ–ï¼š\nåœ¨ Virtual Mode ä¸‹ï¼Œå¯ä»¥é€šè¿‡é™ä½åˆ†è¾¨ç‡æˆ–å¯ç”¨å‹ç¼©æ¥ä¼˜åŒ–æ€§èƒ½ã€‚\n\n\næ— å¤´æ¨¡å¼ï¼š\nå¦‚æœä½ çš„æ ‘è“æ´¾æ²¡æœ‰è¿æ¥æ˜¾ç¤ºå™¨ï¼Œå»ºè®®ä½¿ç”¨ Virtual Modeã€‚\n\n\n\n\næ€»ç»“\nService Mode é€‚åˆè¿æ¥ç‰©ç†æ˜¾ç¤ºå™¨çš„åœºæ™¯ï¼Œæ€§èƒ½è¾ƒå¥½ã€‚\nVirtual Mode é€‚åˆæ— å¤´æ¨¡å¼ä¸‹çš„è¿œç¨‹è®¿é—®ï¼Œæ— éœ€ç‰©ç†æ˜¾ç¤ºå™¨ã€‚\n\n\n","categories":["å­¦ä¹ "],"tags":["åä¸º","æ ‘è“æ´¾"]},{"title":"Win11è“ç‰™æ¶ˆå¤±è§£å†³æ–¹æ¡ˆ","url":"/2025/07/15/win11%E8%93%9D%E7%89%99%E6%B6%88%E5%A4%B1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","content":"ä»Šå¤©æ­£ç”¨ç€è“ç‰™ï¼Œçªç„¶é¼ æ ‡å°±åŠ¨ä¸äº†äº†ï¼Œå°è¯•å»å…³è“ç‰™ï¼Œå‘ç°è“ç‰™å›¾æ ‡åœ¨ç‚¹å‡»åå¡æ­»äº†ï¼Œæ‰“å¼€è®¾ç½®é‡Œå‘ç°è“ç‰™ä¹Ÿæ¶ˆå¤±äº†ï¼\næ‰“å¼€è®¾å¤‡ç®¡ç†å™¨æ‰“ç®—å¸è½½é‡è£…è“ç‰™ï¼Œå‘ç°è¿è®¾å¤‡ç®¡ç†å™¨é‡Œéƒ½æ²¡æœ‰è“ç‰™ï¼Œä»¿ä½›è¿™å°ç”µè„‘æœ¬æ¥å°±æ²¡æœ‰è“ç‰™ä¸€èˆ¬ï¼ˆçœ‹æ¥è¦æ¢æˆæ˜Ÿé—ªäº†ï¼Ÿï¼‰ã€‚\næ¥ç€åˆä½¿ç”¨ services.msc é‡å¯è“ç‰™æ”¯æŒæœåŠ¡ï¼Œå‘ç°è¿˜æ˜¯ä¸è¡Œï¼\nä½œç½¢ï¼Œåªå¥½é‡å¯ï¼Œä½†æ˜¯åœ¨é‡å¯åè¿é‚£ä¸ªå¡æ­»çš„è“ç‰™å›¾æ ‡éƒ½æ²¡æœ‰äº†ï¼Œä»¿ä½›è“ç‰™ç¡¬ä»¶å°±æ²¡å­˜åœ¨è¿‡ã€‚\nä½†æ˜¯è¿™è‚¯å®šæ˜¯ä¸å¯èƒ½çš„ï¼Œæ‰€ä»¥è¦ä¸ç„¶å°±æ˜¯è“ç‰™ç¡¬ä»¶åäº†ï¼Œè¦ä¸ç„¶å°±æ˜¯é©±åŠ¨é—®é¢˜ï¼Œæ¨æµ‹å¯èƒ½æ˜¯é™ç”µå½±å“äº†è“ç‰™ç¡¬ä»¶çš„æ­£å¸¸å·¥ä½œï¼Œåœ¨ç½‘ç»œä¸Šå¯»æ‰¾è§£å†³æ–¹æ¡ˆï¼Œå‘ç°ä¸€ç§ç¥å¥‡çš„â€œé‡Šæ”¾é™ç”µâ€è§£å†³æ–¹æ³•ï¼š\n\næŠŠæ‰€æœ‰çº¿éƒ½æ‹”äº†ï¼Œé•¿æŒ‰å…³æœºé”®ï¼Œé‡æ–°å¯åŠ¨ã€‚\n\nåœ¨å°è¯•åè“ç‰™ä¹Ÿæ˜¯æˆåŠŸå›å½’ï¼Œå°±ä»¿ä½›å®ƒæ²¡æœ‰ç¦»å¼€è¿‡ä¸€èˆ¬\nå“ï¼ŒWindowsçœŸæ˜¯ä¸ªç¥å¥‡çš„ç³»ç»Ÿ~\nç”µè„‘æœ‰ç‚¹å¤§ç—…çš„æ—¶å€™ï¼Œå¯èƒ½å®ƒåªéœ€è¦å…³æœºç¡ä¸€è§‰~\nğŸ’¤\n","categories":["å­¦ä¹ "],"tags":["èµ„æ–™"]},{"title":"ä¸æ¨èè´­ä¹°æ ‘è“æ´¾å°è½¦æ‹“å±•å¥—ä»¶","url":"/2025/08/26/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%B0%8F%E8%BD%A6%E6%8B%93%E5%B1%95%E5%A5%97%E4%BB%B6/","content":"ä¹‹å‰ä¹°äº†ä¸€å—æ ‘è“æ´¾äº”ï¼Œæš‘å‡ä¸€ç›´é—²ç½®ç€ï¼Œå°±æƒ³ç€é‡æ–°æ‹¿å‡ºæ¥ç©ä¸€ç©ï¼Œåˆšå¥½é€›æ·˜å®æ—¶çœ‹è§äº†ä¸€æ¬¾å°è½¦æ‹“å±•æ¿åŠé…ä»¶ï¼Œå°±ä¸€æ—¶ä¸Šå¤´ä¹°äº†å›æ¥ï¼Œç»„è£…ï¼Œçƒ§å½•ä¸“é—¨çš„ç³»ç»Ÿï¼Œä¸Šæ‰‹ç©ï¼Œä¸€ä¸ªä¸‹åˆå°±æŠŠæ ‘è“æ´¾å°è½¦è·‘äº†èµ·æ¥ï¼Œå¯ä»¥åšç®€å•çš„OpenCVè§†è§‰è¿½è¸ªï¼Œå¯ä»¥å·¡çº¿ï¼Œå¯ä»¥å…¨å‘ç§»åŠ¨ï¼Œä½†æ˜¯æ€»è§‰å¾—å¾ˆç©ºè™šï¼Œå› ä¸ºæ‰€æœ‰çš„ä¸€åˆ‡éƒ½æ˜¯ç°æˆçš„ï¼Œæ›´æ˜¯åŸºäºå•†å®¶æä¾›çš„æ‹“å±•æ¿çš„ï¼Œè€Œä¸æ˜¯ç›´æ¥é€šè¿‡æ ‘è“æ´¾çš„gpioï¼Œæˆ‘ä»è¿™ä¸ªâ€œç©å…·â€é‡Œå­¦ä¸åˆ°ä»»ä½•ä¸æ ‘è“æ´¾æˆ–è€…å•ç‰‡æœºç›¸å…³çš„çŸ¥è¯†ï¼Œå”¯ä¸€åªæœ‰ä¸OpenCVç›¸å…³çš„å†…å®¹æ˜¯ä¸åŸºäºå•†å®¶æä¾›çš„æ‹“å±•æ¿ã€‚äºæ˜¯å°±æœ‰ä¸€ç§è¯´ä¸ä¸Šæ¥çš„æ— åŠ›æ„Ÿã€‚æ„Ÿè§‰è¿™å°±æ˜¯å•çº¯çš„ç©å…·ï¼Œæ²¡æœ‰ä»»ä½•ä½¿ç”¨ä»·å€¼ã€‚ç©è¿™ä¸ªæˆ‘ç”šè‡³å­¦ä¸åˆ°ä»»ä½•ä¸€ä¸ªå¤–è®¾é©±åŠ¨çš„å¼€å‘ï¼Œå› ä¸ºä¸€åˆ‡éƒ½æ˜¯åŒ…è£…å¥½çš„ã€‚å°±ä¸¤å¤©æ—¶é—´ï¼Œæˆ‘æç„¶ä½“éªŒåˆ°äº†æˆ‘ä¹°ä»–çš„åŸå› ä¸å®é™…çš„ä½“éªŒçš„å·¨å¤§è½å·®ï¼Œäºæ˜¯ä»–åˆè¢«æˆ‘æç½®åˆ°äº†ä¸€è¾¹ã€‚\nä»Šå¤©åœ¨çŸ¥ä¹é€›çœ‹åˆ°äº†ä¸€ç¯‡è®²åµŒå…¥å¼Linuxå¼€å‘ç›¸å…³çš„å†…å®¹ï¼Œå†…å®¹å¦‚ä¸‹\nç½‘ä¸Šé‚£äº›æ•™ç¨‹ï¼Œé¡ºåºå…¨éƒ½ä¸å¯¹ï¼Œæ˜¯å¥¸å•†ä¸ºäº†å–æ¿å­ï¼Œæå‡ºæ¥çš„å˜ç›¸è¥é”€ã€‚è¿™é‡Œçš„å…³é”®è¯é¦–å…ˆæ˜¯â€œç”µè·¯å¼€å‘â€ï¼Œå…¶æ¬¡æ‰æ˜¯â€Linuxâ€ã€‚å­¦è¿™ä¸ªå›¾çš„æ˜¯å•¥ï¼Ÿå›¾çš„æ˜¯è‡ªå·±é€‰å…ƒä»¶ï¼Œè‡ªå·±ç”»æ¿å­ï¼ŒPCBæ‰“æ ·åšæˆç”µè·¯æ¿ï¼ŒæŠŠå…ƒä»¶ç„Šåœ¨æ¿å­ä¸Šã€‚ä½ éœ€è¦ä»€ä¹ˆæ ·çš„æ¿å­ï¼Œå°±ç”»ä»€ä¹ˆæ ·çš„æ¿å­ã€‚ä½ éœ€è¦ä»€ä¹ˆæ ·çš„å…ƒä»¶ï¼Œä½ å°±ç„Šä»€ä¹ˆæ ·çš„å…ƒä»¶ã€‚æ¿å­åšå¥½é€šç”µæµ‹è¯•æ­£å¸¸ä¹‹åï¼Œæ‰æ˜¯ç½‘ä¸Šæ•™ç¨‹å¼€å¤´æ•™ä½ çš„é‚£äº›ï¼Œçƒ§å½•Ubootï¼Œå†…æ ¸ï¼Œæ ¹æ–‡ä»¶ç³»ç»Ÿã€‚å¦‚æœä½ ä¸ä¼šç”»æ¿å­ï¼ŒåŸç†å›¾éƒ½çœ‹ä¸æ‡‚ï¼Œå…ƒå™¨ä»¶é€‰å‹ä¸€æ— æ‰€çŸ¥ï¼Œæ¿å­æ ¹æœ¬æ²¡åšå‡ºæ¥ï¼Œä½ å­¦Linuxå¹²å•¥ï¼Ÿä½ æƒ³è®©å®ƒè·‘åœ¨å“ªï¼Ÿå°±ä¸“é—¨è·‘åœ¨å¥¸å•†å–ç»™ä½ çš„é‚£å—æ¿å­ä¸Šå—ï¼Ÿ\nå•†å®¶æä¾›çš„æ ¹æœ¬ä¸æ˜¯ä¸€ä¸ªâ€œå¼€å‘å¹³å°â€ï¼Œè€Œæ˜¯ä¸€ä¸ªæˆå“çš„â€œç©å…·â€ã€‚ä»–ä»¬å–çš„ä¸æ˜¯æ•™è‚²å’Œæ¢ç´¢çš„å¯èƒ½æ€§ï¼Œè€Œæ˜¯ä¸€ç§â€œå³æ—¶æ»¡è¶³â€çš„ä½“éªŒï¼Œæ— éœ€ç†è§£åº•å±‚ï¼Œæ— éœ€é¢å¯¹æ··ä¹±å’Œé”™è¯¯ï¼Œåªéœ€æŒ‰ç…§è¯´æ˜ä¹¦ç»„è£…ï¼Œçƒ§å½•ä»–ä»¬æä¾›çš„é•œåƒï¼Œå°±èƒ½ç«‹åˆ»è·å¾—â€œæˆåŠŸâ€çš„åé¦ˆï¼Œçœ‹åˆ°å°è½¦è·‘èµ·æ¥ã€‚\nè¿™ç§ä½“éªŒçš„è®¾è®¡åˆè¡·æ˜¯é™ä½é—¨æ§›ï¼Œä½†åŒæ—¶ä¹Ÿæ— æƒ…åœ°å‰¥å¤ºäº†å­¦ä¹ è¿‡ç¨‹ä¸­æœ€å®è´µçš„ä¸œè¥¿ï¼šä»æ— åˆ°æœ‰çš„åˆ›é€ ï¼Œä»¥åŠä»å¤±è´¥åˆ°æˆåŠŸçš„æŒ£æ‰ã€‚æˆ‘å°±åƒåœ¨ç©ä¸€ä¸ªâ€œåµŒå…¥å¼â€çš„ä¹é«˜å¥—è£…ï¼Œæ‰€æœ‰çš„é›¶ä»¶éƒ½æ˜¯ä¸“ç”¨çš„ï¼Œæ‰€æœ‰çš„æ­¥éª¤éƒ½æ˜¯é¢„è®¾çš„ã€‚æˆ‘å¹¶æ²¡æœ‰åœ¨é©±åŠ¨ç”µæœºï¼Œå¹¶æ²¡æœ‰åœ¨è¯»å–ä¼ æ„Ÿå™¨ï¼Œæˆ‘åªæ˜¯åœ¨è°ƒç”¨ä¸€ä¸ªåˆä¸€ä¸ªçš„é»‘ç®±å‡½æ•°ï¼Œè¿è¡Œä¸€æ®µåˆä¸€æ®µç°æˆçš„ä»£ç ã€‚\nè¿™ä¸ªå°è½¦æ‹“å±•å¥—ä»¶ï¼Œæä¾›çš„æ˜¯ç­”æ¡ˆï¼Œè€Œä¸æ˜¯é—®é¢˜ã€‚å®ƒç”¨ä¸€å—é«˜åº¦é›†æˆçš„æ‹“å±•æ¿ï¼ŒæŠŠæ‰€æœ‰ç¡¬ä»¶é—®é¢˜éƒ½è§£å†³äº†ï¼›å®ƒç”¨ä¸€ä¸ªç°æˆçš„ç³»ç»Ÿé•œåƒï¼ŒæŠŠæ‰€æœ‰è½¯ä»¶ç¯å¢ƒéƒ½é…ç½®å¥½äº†ã€‚\nåªèƒ½è¯´ä»–ä¸é€‚åˆæˆ‘ï¼Œä»–é€‚åˆæœ‰é’±çš„ï¼Œå¸Œæœ›èƒ½çœä¸‹æ—¶é—´ç›´æ¥å“å°æˆå“ç©å…·çš„ç©å®¶ã€‚\n","categories":["å­¦ä¹ "],"tags":["æ ‘è“æ´¾"]},{"title":"ç¯å¢ƒå˜é‡å˜åŒ–å¤åŸæ–¹æ³•","url":"/2025/02/12/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%8F%98%E5%8C%96%E5%A4%8D%E5%8E%9F%E6%96%B9%E6%B3%95/","content":"ç¯å¢ƒå˜é‡å˜åŒ–å¤åŸæ–¹æ³•\nåˆšåˆšåœ¨ä½¿ç”¨ SSH æ—¶ï¼Œæˆ‘å‘ç°ç³»ç»Ÿæç¤ºæ— æ³•æ‰¾åˆ°ç›¸åº”çš„å‘½ä»¤ï¼Œéšå³å°è¯•äº† Gitã€Ping ç­‰å…¶ä»–å¸¸è§å‘½ä»¤ï¼Œç»“æœéƒ½æ˜¾ç¤ºâ€œæ‰¾ä¸åˆ°è¯¥å‘½ä»¤â€ã€‚æ­¤æ—¶æˆ‘å°±æ„è¯†åˆ°å¯èƒ½æ˜¯ç³»ç»Ÿç¯å¢ƒå˜é‡å‡ºç°äº†é—®é¢˜ã€‚ç»è¿‡ä¸€æ®µæ—¶é—´çš„æ’æŸ¥åï¼Œæˆ‘å‘ç°ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­çš„ Path å€¼å¼‚å¸¸ï¼Œå®ƒåªåŒ…å«äº†æˆ‘ä¸€å‘¨å‰ä¸‹è½½çš„æŸä¸ªè½¯ä»¶çš„å®‰è£…è·¯å¾„ã€‚è¿™è®©æˆ‘æ„Ÿåˆ°éå¸¸å›°æ‰°ï¼Œå› ä¸ºè¿™æ„å‘³ç€ç³»ç»Ÿä¸­å…¶ä»–é‡è¦çš„è·¯å¾„è¢«æ„å¤–ç§»é™¤ã€‚\nä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘å°è¯•æ‰‹åŠ¨å°†å¸¸è§çš„è·¯å¾„ä¸€ä¸€æ·»åŠ å›å»ï¼Œä½†ç”±äºè®°ä¸å¾—æ‰€æœ‰è·¯å¾„ï¼Œæ‰‹åŠ¨æ¢å¤å˜å¾—éå¸¸å›°éš¾ã€‚ç»è¿‡ä¸€ç•ªæŸ¥æ‰¾è§£å†³æ–¹æ¡ˆåï¼Œæˆ‘å‘ç°å¯ä»¥é€šè¿‡â€œç³»ç»Ÿè¿˜åŸâ€åŠŸèƒ½æ¥æ¢å¤ç³»ç»Ÿåˆ°å…ˆå‰çš„çŠ¶æ€ï¼Œè¿›è€Œæ¢å¤ä¸¢å¤±çš„ç¯å¢ƒå˜é‡ã€‚ä»¥ä¸‹æ˜¯å…·ä½“çš„æ“ä½œæ­¥éª¤ï¼š\nç³»ç»Ÿè¿˜åŸæ“ä½œæ­¥éª¤ï¼š\næ‰“å¼€è¿è¡Œçª—å£ï¼š æŒ‰ Win + R æ‰“å¼€è¿è¡Œæ¡†ï¼Œåœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ rstruiï¼Œç„¶åæŒ‰ Enter é”®ã€‚è¿™å°†å¯åŠ¨â€œç³»ç»Ÿè¿˜åŸâ€å·¥å…·ã€‚\né€‰æ‹©è¿˜åŸç‚¹ï¼š åœ¨â€œç³»ç»Ÿè¿˜åŸâ€ç•Œé¢ä¸­ï¼Œç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ï¼Œé€‰æ‹©ä¸€ä¸ªè¿˜åŸç‚¹ï¼Œé€šå¸¸é€‰æ‹©ä¸€ä¸ªæ¥è¿‘ç¯å¢ƒå˜é‡ä¸¢å¤±ä¹‹å‰çš„æ—¥æœŸã€‚å»ºè®®é€‰æ‹©ä¸€ä¸ªæœ€è¿‘çš„è¿˜åŸç‚¹ï¼Œä»¥ä¾¿æ¢å¤ç³»ç»Ÿçš„ç¨³å®šæ€§å’ŒåŠŸèƒ½ã€‚\nç¡®è®¤è¿˜åŸç‚¹ï¼š ç³»ç»Ÿä¼šåˆ—å‡ºä½ æ‰€é€‰æ‹©çš„è¿˜åŸç‚¹ï¼Œç‚¹å‡»â€œå®Œæˆâ€åï¼Œç³»ç»Ÿå°†å¼€å§‹æ¢å¤æ“ä½œã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰æ“ä½œç³»ç»Ÿè®¾ç½®ã€ç¨‹åºå’Œæ³¨å†Œè¡¨ä¼šè¢«è¿˜åŸè‡³è¯¥è¿˜åŸç‚¹çš„çŠ¶æ€ã€‚æ³¨æ„ï¼Œç³»ç»Ÿè¿˜åŸä¸ä¼šå½±å“ä½ çš„ä¸ªäººæ–‡ä»¶ï¼Œä½†ä¼šæ’¤é”€æœ€è¿‘å®‰è£…çš„ç¨‹åºå’Œé©±åŠ¨ã€‚\nç­‰å¾…è¿˜åŸè¿‡ç¨‹å®Œæˆï¼š ç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œé‡å¯ï¼Œå¹¶æ ¹æ®æ‰€é€‰çš„è¿˜åŸç‚¹æ¢å¤ç›¸å…³çš„é…ç½®è®¾ç½®ã€‚æ¢å¤è¿‡ç¨‹å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚\né‡å¯å¹¶éªŒè¯ç¯å¢ƒå˜é‡ï¼š å®Œæˆç³»ç»Ÿè¿˜åŸåï¼Œé‡å¯è®¡ç®—æœºï¼Œå†æ¬¡æ£€æŸ¥ Path ç¯å¢ƒå˜é‡æ˜¯å¦å·²ç»æ¢å¤åˆ°åŸæœ‰çŠ¶æ€ã€‚æ­¤æ—¶ï¼Œä½ åº”è¯¥å¯ä»¥æ¢å¤å¯¹ sshã€gitã€ping ç­‰å‘½ä»¤çš„è®¿é—®ï¼Œä¸”ç¯å¢ƒå˜é‡ä¸­çš„ Path è·¯å¾„åº”æ¢å¤æ­£å¸¸ã€‚\n\nå…³äºç³»ç»Ÿè¿˜åŸï¼šä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸‹æ•‘äº†æˆ‘ä¸€å‘½çš„ç³»ç»Ÿè¿˜åŸå§ï¼šç³»ç»Ÿè¿˜åŸæ˜¯ä¸€ç§ Windows æä¾›çš„æ¢å¤åŠŸèƒ½ï¼Œæ—¨åœ¨å¸®åŠ©ç”¨æˆ·åœ¨é‡åˆ°ç³»ç»Ÿæ•…éšœæˆ–é…ç½®é”™è¯¯æ—¶ï¼Œæ¢å¤åˆ°å…ˆå‰çš„ç¨³å®šçŠ¶æ€ã€‚å®ƒé€šè¿‡åˆ›å»ºâ€œè¿˜åŸç‚¹â€æ¥ä¿å­˜ç³»ç»Ÿçš„å…³é”®è®¾ç½®å’Œæ–‡ä»¶ï¼Œå…è®¸ç”¨æˆ·åœ¨ç³»ç»Ÿå‡ºç°é—®é¢˜æ—¶å›åˆ°è¿™äº›è¿˜åŸç‚¹ã€‚è¿˜åŸç‚¹é€šå¸¸ä¼šåœ¨å®‰è£…æ–°ç¨‹åºã€æ›´æ–°é©±åŠ¨ç¨‹åºæˆ–è¿›è¡Œç³»ç»Ÿæ›´æ–°æ—¶è‡ªåŠ¨åˆ›å»ºã€‚ç³»ç»Ÿè¿˜åŸæ“ä½œä¸ä¼šå½±å“åˆ°ç”¨æˆ·çš„ä¸ªäººæ–‡ä»¶å’Œæ•°æ®ï¼Œä½†ä¼šæ’¤é”€æœ€è¿‘çš„ç³»ç»Ÿæ›´æ”¹ã€‚\nä½¿ç”¨ç³»ç»Ÿè¿˜åŸæ—¶çš„æ³¨æ„äº‹é¡¹ï¼š\næ—¶é—´é€‰æ‹©ï¼šè¿˜åŸç‚¹åº”é€‰æ‹©åœ¨é—®é¢˜å‘ç”Ÿå‰åˆ›å»ºçš„æ—¶é—´ã€‚å¦‚æœæ²¡æœ‰åˆé€‚çš„è¿˜åŸç‚¹ï¼Œåˆ™å¯èƒ½æ— æ³•å®Œå…¨æ¢å¤åˆ°ç†æƒ³çŠ¶æ€ã€‚\nç¨‹åºå½±å“ï¼šä½¿ç”¨ç³»ç»Ÿè¿˜åŸå¯èƒ½ä¼šå¯¼è‡´æœ€è¿‘å®‰è£…çš„åº”ç”¨ç¨‹åºä¸¢å¤±ï¼Œå› æ­¤åœ¨æ“ä½œå‰éœ€è¦é‡æ–°å®‰è£…è¿™äº›ç¨‹åºã€‚\næ–‡ä»¶å®‰å…¨æ€§ï¼šç³»ç»Ÿè¿˜åŸä¸ä¼šå½±å“ç”¨æˆ·ä¸ªäººæ•°æ®ï¼Œå› æ­¤æ–‡ä»¶å’Œæ–‡æ¡£é€šå¸¸ä¸å—å½±å“ã€‚\n\næ€»ç»“ï¼šç³»ç»Ÿè¿˜åŸåŠŸèƒ½ä¸ºè§£å†³å› ç³»ç»Ÿé…ç½®é”™è¯¯æˆ–è¯¯æ“ä½œå¼•èµ·çš„é—®é¢˜æä¾›äº†æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚å¯¹äºç¯å¢ƒå˜é‡ä¸¢å¤±æˆ–è¢«é”™è¯¯ä¿®æ”¹çš„æƒ…å†µï¼Œä½¿ç”¨ç³»ç»Ÿè¿˜åŸå¯ä»¥å¿«é€Ÿæ¢å¤åˆ°å…ˆå‰çš„æ­£å¸¸çŠ¶æ€ï¼Œé¿å…æ‰‹åŠ¨ä¿®å¤çš„å¤æ‚æ€§ã€‚ç„¶è€Œï¼Œåœ¨ä½¿ç”¨æ­¤åŠŸèƒ½æ—¶ï¼Œç¡®ä¿é€‰æ‹©åˆé€‚çš„è¿˜åŸç‚¹ï¼Œé¿å…ä¸¢å¤±ä¸å¿…è¦çš„æ•°æ®ã€‚\n\nï¼Œ\n","categories":["å­¦ä¹ "],"tags":["çŸ¥è¯†æ€»ç»“"]},{"title":"åŸºäºé˜¿é‡Œäº‘æœåŠ¡å™¨é…ç½®å®å¡”é¢æ¿","url":"/2025/08/13/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8-%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF/","content":"ç°åœ¨åœ¨é˜¿é‡Œäº‘è´­ä¹°æœåŠ¡å™¨å¹¶é…ç½®å®å¡”é¢æ¿ååˆ†ç®€å•ï¼Œåªéœ€åœ¨è´­ä¹°æœåŠ¡å™¨æ—¶é€‰æ‹©å®‰è£…åº”ç”¨é•œåƒï¼šå®å¡”Linuxé¢æ¿\né˜¿é‡Œäº‘ä¸“äº«ç‰ˆ 9.2.0ï¼Œåœ¨è´­ä¹°å¹¶åˆ›å»ºæˆåŠŸåè¿›å…¥è¯¥æœåŠ¡å™¨çš„åº”ç”¨è¯¦æƒ…é¡µé¢ï¼Œè·Ÿç€å®å¡”Linuxé¢æ¿ä½¿ç”¨æ­¥éª¤ä¸€æ­¥æ­¥æ¥å³å¯ï¼ˆåŸºæœ¬æ¯ä¸€æ­¥éƒ½æ˜¯ä¸€é”®å®Œæˆï¼‰ï¼Œå°±èƒ½ç›´æ¥é…ç½®å®Œæˆå¹¶è¿›å…¥å®å¡”ç®¡ç†é¢æ¿äº†\nåœ¨å®å¡”ç®¡ç†é¢æ¿å†…å®‰è£…ç¯å¢ƒä¹Ÿæ˜¯ä¸€é”®å®‰è£…ï¼Œåªéœ€è¦åœ¨è½¯ä»¶å•†åº—ä¸­æ‰¾åˆ°å¯¹åº”çš„åº”ç”¨å®‰è£…å³å¯\nå•Š~åˆæ°´äº†ä¸€æœŸ\n","categories":["å­¦ä¹ "],"tags":["èµ„æ–™"]},{"title":"ç¼–è¯‘æ—¶unusedæŠ¥é”™è§£å†³æ–¹æ¡ˆ","url":"/2025/07/07/%E7%BC%96%E8%AF%91%E6%97%B6unused%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","content":"è¿™ä¸¤å¤©åœ¨åšä¸€ä¸ªCçš„é¡¹ç›®ï¼Œç¼–è¯‘ç”¨åˆ°äº†CMakeï¼Œé‡åˆ°äº†æŒºå¤šçš„é—®é¢˜ã€‚ä»Šå¤©å‘ç°äº†åŒä¸€ä¸ªæ–‡ä»¶ç›¸åŒçš„å†…å®¹åœ¨ä¸€å°ç”µè„‘ä¸Šå¯ä»¥ç¼–è¯‘é€šè¿‡ï¼Œåœ¨å¦ä¸€å°ç”µè„‘ä¸Šç¼–è¯‘ä¸é€šè¿‡ã€‚å§‹ç»ˆæŠ¥çš„æ˜¯error:xxx defined but not used  æˆ–è€… error:unused parameter xxx çš„é”™ï¼Œç»è¿‡æŸ¥é˜…èµ„æ–™ä»¥åŠå¯¹CMakeListsçš„æ£€æŸ¥ï¼Œå‘ç°æ˜¯ä¸€å°ç”µè„‘ä¸Šçš„CMakeå±è”½äº†unusedçš„æŠ¥é”™ï¼Œä¸€å°æ²¡å±è”½ï¼Œåœ¨æ²¡å±è”½è¯¥æŠ¥é”™çš„ç”µè„‘åŠ ä¸Šå¦‚ä¸‹å†…å®¹åä¹Ÿå¯ä»¥æ­£å¸¸ç¼–è¯‘äº†ï¼š\n# use this when you want to add ccflags like -include xxxset(COMPONENT_PUBLIC_CCFLAGS &quot;&quot;)# è®¾ç½®ä¸æ˜¾ç¤ºæœªä½¿ç”¨è­¦å‘Šset(COMPONENT_CCFLAGS    -Wno-unused-variable      # ç¦æ­¢æœªä½¿ç”¨å˜é‡è­¦å‘Š    -Wno-unused-parameter     # ç¦æ­¢æœªä½¿ç”¨å‚æ•°è­¦å‘Š    -Wno-unused-function      # ç¦æ­¢æœªä½¿ç”¨å‡½æ•°è­¦å‘Š    -Wno-error=unused-function # ç¡®ä¿æœªä½¿ç”¨å‡½æ•°ä¸ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯)\n\n","categories":["å­¦ä¹ "],"tags":["èµ„æ–™"]},{"title":"ç¾èµ›è‹Ÿæ´»å¤§æ³•","url":"/2024/12/26/%E7%BE%8E%E8%B5%9B%E8%8B%9F%E6%B4%BB%E5%A4%A7%E6%B3%95/","content":"ååˆ†ã€ä¸‡åˆ†æ„Ÿè°¢æ¥è‡ªå¯¹å¤–ç»æµè´¸æ˜“å¤§å­¦çš„è—ç¾šç¾Šï¼Œæœ¬ç¾èµ›è‹Ÿæ´»å¤§æ³•æ˜¯ç”±å¥¹ç¼–å†™çš„ï¼Œæ­¤å¤„ä»…æ¬è¿åˆ†äº«ï¼Œå†æ¬¡è¡¨è¾¾æ„Ÿè°¢ï¼ï¼ï¼\nç¾èµ›è‹Ÿæ´»å¤§æ³•\nä¸‹é¢æ˜¯è—ç¾šç¾Šçš„å¾®ä¿¡å…¬ä¼—å·ï¼Œè¯·å¤åˆ¶é“¾æ¥ååœ¨å¾®ä¿¡ä¸­æ‰“å¼€ğŸ˜Š \n\n        \n        è†è¨€'Econå°å­¦äºŒå¹´çº§å·²ä¿®è¯»å®Œæ¯•ğŸ˜'","categories":["å­¦ä¹ "],"tags":["èµ„æ–™"]}]